if (self.CavalryLogger) { CavalryLogger.start_js(["PuqFm"]); }

__d("ShowsLiveTemplateWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ShowsLiveTemplateWaterfallLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ShowsLiveTemplateWaterfallLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ShowsLiveTemplateWaterfallLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setBroadcastID=function(a){this.$1.broadcast_id=a;return this};a.prototype.setContentTimeOffset=function(a){this.$1.content_time_offset=a;return this};a.prototype.setCustomFrameID=function(a){this.$1.custom_frame_id=a;return this};a.prototype.setDialogViewName=function(a){this.$1.dialog_view_name=a;return this};a.prototype.setDownloadTime=function(a){this.$1.download_time=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};a.prototype.setIntroVideoDuration=function(a){this.$1.intro_video_duration=a;return this};a.prototype.setIntroVideoID=function(a){this.$1.intro_video_id=a;return this};a.prototype.setIsImportantActor=function(a){this.$1.is_important_actor=a;return this};a.prototype.setIsLive=function(a){this.$1.is_live=a;return this};a.prototype.setLiveStickerID=function(a){this.$1.live_sticker_id=a;return this};a.prototype.setLiveStickerUsedEventID=function(a){this.$1.live_sticker_used_event_id=a;return this};a.prototype.setLiveTemplateID=function(a){this.$1.live_template_id=a;return this};a.prototype.setOutroVideoDuration=function(a){this.$1.outro_video_duration=a;return this};a.prototype.setOutroVideoID=function(a){this.$1.outro_video_id=a;return this};a.prototype.setOwnerID=function(a){this.$1.owner_id=a;return this};a.prototype.setStickerActorID=function(a){this.$1.sticker_actor_id=a;return this};a.prototype.setTimeRangeEnd=function(a){this.$1.time_range_end=a;return this};a.prototype.setTimeRangeStart=function(a){this.$1.time_range_start=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={broadcast_id:!0,content_time_offset:!0,custom_frame_id:!0,dialog_view_name:!0,download_time:!0,event_name:!0,extra_client_data:!0,intro_video_duration:!0,intro_video_id:!0,is_important_actor:!0,is_live:!0,live_sticker_id:!0,live_sticker_used_event_id:!0,live_template_id:!0,outro_video_duration:!0,outro_video_id:!0,owner_id:!0,sticker_actor_id:!0,time_range_end:!0,time_range_start:!0,vc:!0,video_id:!0};e.exports=a}),null);
__d("MediaEffectInlineNUXStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={title:function(){return g._("Create art people can use in their photos and videos")},detailedExplanation:function(){return g._("Frames are a creative way for people to have fun or show their support. Now you can create frames for people to use in the Facebook camera.")}};e.exports=a}),null);
__d("MediaEffectInlineNUXWithSingleVideo.react",["cx","fbt","CenteredContainer.react","Grid.react","Link.react","MediaEffectInlineNUXStrings","React","XUIText.react","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Grid.react").GridItem;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.$1=function(){return b("React").createElement(b("XUISpinner.react"),{background:"light",size:"large"})};a.prototype.render=function(){var a=this.props.title?this.props.title:b("MediaEffectInlineNUXStrings").title(),c=this.props.subtitle?this.props.subtitle:b("MediaEffectInlineNUXStrings").detailedExplanation(),d=this.props.videoID?this.props.videoID:"10149999653820343";return b("React").createElement(b("CenteredContainer.react"),{vertical:!0},b("React").createElement(b("Grid.react"),{cols:2,spacing:"prl pts"},b("React").createElement(j,null,b("React").createElement(b("VideoDataContainer.react"),{renderLoading:this.$1,videoID:d},b("React").createElement(b("VideoPlayer.react"),{autoplay:!0,playerOrigin:b("VideoPlayerOrigins").LEARN,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.dialogHeight*.45},b("React").createElement(b("VideoComponentWithLoopingPlayback.react"),null)))),b("React").createElement(j,{width:280},b("React").createElement(b("XUIText.react"),{className:"_36t2"},a),b("React").createElement(b("XUIText.react"),{className:"_36t3"},c," ",b("React").createElement(b("Link.react"),{href:"https://www.facebook.com/fbcameraeffects/learn/",target:"_blank"},h._("Learn More"))))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("MediaEffectInlineNUXWithSingleVideoContainer.react",["FluxContainer","MediaEffectFrameCreateDialogDataStore","MediaEffectInlineNUXWithSingleVideo.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("MediaEffectFrameCreateDialogDataStore")]};a.calculateState=function(){return{dialogHeight:b("MediaEffectFrameCreateDialogDataStore").getState().dialogHeight}};a.prototype.render=function(){return b("React").createElement(b("MediaEffectInlineNUXWithSingleVideo.react"),{dialogHeight:this.state.dialogHeight,subtitle:this.props.subtitle,title:this.props.title,videoID:this.props.videoID})};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaEffectOwnerSelectorContainer.react",["cx","fbt","AsyncRequest","FluxContainer","Image.react","MediaEffectHubDispatcher","MediaEffectMetadataActionCreators","MediaEffectMetadataStore","MediaEffectMetadataViewStore","React","XMediaEffectHubEditSettingsAsyncController","XUISingleSelector.react","mediaEffectGKCheck"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("XUISingleSelector.react").Option;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$2=function(a){this.$1(a.value)}.bind(this),b}a.getStores=function(){return[b("MediaEffectMetadataViewStore"),b("MediaEffectMetadataStore")]};a.calculateState=function(){var a=b("MediaEffectMetadataStore").getState().get("selectedOwnerID"),c=b("MediaEffectMetadataViewStore").getState().get("ownersData");return{selectedOwner:b("MediaEffectMetadataViewStore").getOwner(a),ownersData:c}};a.prototype.$1=function(a){__p&&__p();b("MediaEffectMetadataActionCreators").changeOwner(a);b("MediaEffectMetadataActionCreators").resetLocation();var c=this.state.ownersData.find(function(b){return b.id===a});if(c===undefined)return;var d=b("XMediaEffectHubEditSettingsAsyncController").getURIBuilder();c.type!=="event"?(d.setFBID("hub_actor",a).setBool("view_all",!1),b("MediaEffectHubDispatcher").dispatch({type:"view_store/update_actor",payload:{profile:c,skipPreload:b("mediaEffectGKCheck")("cep_skip_preload_effects")}}),b("MediaEffectHubDispatcher").dispatch({type:"update/view_all",payload:!1})):(b("MediaEffectHubDispatcher").dispatch({type:"update/view_all",payload:!0}),d.setBool("view_all",!0));c=d.getURI();new(b("AsyncRequest"))().setURI(c).send()};a.prototype.render=function(){var a=0,c=this.state,d=c.ownersData;c=c.selectedOwner;var e=this.props.disabled;d=d.map(function(a){return b("React").createElement(j,{icon:b("React").createElement(b("Image.react"),{className:"_5hh3",src:a.src}),key:a.id,value:a.id},a.name)});var f=b("React").createElement(j,{value:a},h._("Select Owner"));c=c?c.id:a;return b("React").createElement(b("XUISingleSelector.react"),{defaultValue:c,disabled:e,maxheight:500,maxwidth:268,onChange:this.$2,size:"xlarge",value:c},c===a?f:null,d)};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaEffectCreationDialogHeaderContainer.react",["ix","cx","fbt","FluxContainer","Image.react","MediaEffectFlowType","MediaEffectFrameCreateDialogDataStore","MediaEffectMetadataStore","MediaEffectMetadataViewStore","MediaEffectOwnerByline.react","MediaEffectOwnerSelectorContainer.react","React","SUIMediaEffectTheme","SUIText.react","SUITooltip.react","XUIText.react","fbglyph","mediaEffectGKCheck"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.getStores=function(){return[b("MediaEffectFrameCreateDialogDataStore"),b("MediaEffectMetadataStore"),b("MediaEffectMetadataViewStore")]};a.calculateState=function(){var a=b("MediaEffectFrameCreateDialogDataStore").getCreationFlowType();return{canUseSelector:!b("MediaEffectMetadataStore").hasEffectID()&&a!==b("MediaEffectFlowType").EVENT&&!b("mediaEffectGKCheck")("cep_force_hub_owner_on_create"),flowType:a,selectedOwner:b("MediaEffectMetadataViewStore").getOwner(b("MediaEffectMetadataStore").getState().get("selectedOwnerID"))}};a.prototype.$1=function(){switch(this.state.flowType){case b("MediaEffectFlowType").MASK:return i._("Upload AR Studio Effect");default:return i._("Create a Frame")}};a.prototype.render=function(){var a=this.state.canUseSelector;return b("React").createElement("div",{className:"_4peu"},b("React").createElement(b("XUIText.react"),{color:"primary",display:"block",size:"header3",weight:"bold"},this.$1()),b("React").createElement("div",{className:"_4pev"},b("React").createElement(b("SUITooltip.react"),{className:"_3-91",position:"left",theme:b("SUIMediaEffectTheme"),tooltip:i._("You can assign yourself or a Page to be the effects's owner. The owner's name and profile picture may appear next to it.")},b("React").createElement(b("Image.react"),{src:g("126342")})),b("mediaEffectGKCheck")("cep_force_hub_owner_on_create")&&this.state.selectedOwner?b("React").createElement(b("MediaEffectOwnerByline.react"),{owner:this.state.selectedOwner}):b("React").createElement(b("MediaEffectOwnerSelectorContainer.react"),{disabled:!a})))};function a(){j.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("MediaEffectInlineNUXType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BASIC_EDUCATION_WITH_SINGLE_VIDEO:"basic_education_with_single_video",NONE:"none"})}),null);
__d("MediaEffectMultistepFrameEditor.react",["cx","fbt","CSS","MediaEffectCreationDialogHeaderContainer.react","MediaEffectEditingStep.react","MediaEffectFlowType","MediaEffectFrameCreationReviewContainer.react","MediaEffectFrameCreationStepsConfig","MediaEffectInlineNUXType","MediaEffectInlineNUXWithSingleVideoContainer.react","MediaEffectMaskFileUploadStep.react","MediaEffectMetadataActionCreators","MediaEffectTargetingStep.react","MediaEffectTemplateColorStepContainer.react","MediaEffectTemplateNewColorStepContainer.react","MediaEffectTemplateVariationStepContainer.react","MediaEffectWebdriverIDs","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MediaEffectFrameCreationStepsConfig").CreationSteps,k=[b("MediaEffectFlowType").BASIC_HUB,b("MediaEffectFlowType").EVENT,b("MediaEffectFlowType").INSTAGRAM_STICKER,b("MediaEffectFlowType").MASK];c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props.bootstrapData.dialog.getRoot();b("CSS").removeClass(a,"_5-vp");b("CSS").addClass(a,"_1uwf");b("MediaEffectMetadataActionCreators").notifyEnterCreationFlowFromInlineNUX()}.bind(this),c}a.prototype.$2=function(){switch(this.props.inlineNUXType){case b("MediaEffectInlineNUXType").BASIC_EDUCATION_WITH_SINGLE_VIDEO:return b("React").createElement("div",{className:"_36t1"},b("React").createElement(b("MediaEffectInlineNUXWithSingleVideoContainer.react"),{subtitle:this.props.inlineNUXContent?this.props.inlineNUXContent.subtitle:null,title:this.props.inlineNUXContent?this.props.inlineNUXContent.title:null,videoID:this.props.inlineNUXContent?this.props.inlineNUXContent.videoID:null}),b("React").createElement("div",{className:"_5-p3"},b("React").createElement(b("XUIButton.react"),{className:"layerCancel",label:h._("Close"),size:"xlarge"}),b("React").createElement(b("XUIButton.react"),{"data-testid":b("MediaEffectWebdriverIDs").LWE_EFFECT_EDUCATION_CONTINUE_BUTTON,label:h._("Get Started"),onClick:this.$1,size:"xlarge",use:"confirm"})))}return null};a.prototype.$3=function(){var a=this.props.flowType;return!k.includes(a)?null:b("React").createElement(b("MediaEffectCreationDialogHeaderContainer.react"),null)};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.bootstrapData,d=a.context,e=a.currentStep,f=a.flowType,g=a.frameEditorBootstrapData,h=a.maskUploadBootstrapData,i=a.showInlineNUX,k=a.hasUsedARStudio,l=a.effectUploadLegalText;a=a.maxFrameOpaquePercentageAllowed;if(i)return this.$2();i=b("MediaEffectFrameCreationStepsConfig").getStep(f,e);switch(i){case j.COLORS:return b("React").createElement(b("MediaEffectTemplateColorStepContainer.react"),null);case j.NEW_COLORS:return b("React").createElement(b("MediaEffectTemplateNewColorStepContainer.react"),null);case j.VARIATIONS:return b("React").createElement(b("MediaEffectTemplateVariationStepContainer.react"),null);case j.MASK_UPLOAD:return b("React").createElement("div",{className:"_-_f",key:"maskUpload"},this.$3(),b("React").createElement(b("MediaEffectMaskFileUploadStep.react"),{effectUploadLegalText:l,hasUsedARStudio:k}));case j.EDITING:return b("React").createElement("div",{className:"_-_f",key:"editing"},this.$3(),b("React").createElement(b("MediaEffectEditingStep.react"),{bootstrapData:c,context:this.props.context,flowType:this.props.flowType,frameEditorBootstrapData:g,maskUploadBootstrapData:h,maxFrameOpaquePercentageAllowed:a}));case j.TARGETING:return b("React").createElement("div",{className:"_-_f",key:"targeting"},this.$3(),b("React").createElement(b("MediaEffectTargetingStep.react"),{bootstrapData:c,canThirdPartyUpdateThumbnail:!1,context:{allowLocationFrameCreation:d.allowLocationFrameCreation,explainFBOnly:d.explainFBOnly,includesFBOnly:d.includesFBOnly,canThirdPartyMaskLocation:d.canThirdPartyMaskLocation},flowType:f}));case j.REVIEW:return b("React").createElement("div",{className:"_-_g",key:"review"},this.$3(),b("React").createElement(b("MediaEffectFrameCreationReviewContainer.react"),{appsData:c.appsData,canThirdPartyMaskLocation:d.canThirdPartyMaskLocation,flowType:f}))}return b("React").createElement("div",null)};e.exports=a}),null);
__d("CaptionsDisplayForm",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,b.subscribe("change",this.onFormChange.bind(this)),c.subscribe("change",this.onFormChange.bind(this)),d.subscribe("change",this.onFormChange.bind(this)),e.subscribe("change",this.onFormChange.bind(this))}a.prototype.onFormChange=function(){this.$1.setBackgroundColor(this.$2.getValue()),this.$1.setBackgroundOpacity(this.$3.getValue()),this.$1.setTextColor(this.$4.getValue()),this.$1.setTextSize(this.$5.getValue()),this.$1.updateStyle()};e.exports=a}),null);
__d("VideoEncodeFeedbackInactivityTimer",["ArbiterMixin","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.$VideoEncodeFeedbackInactivityTimer1=0,this.$VideoEncodeFeedbackInactivityTimer2=a,this.$VideoEncodeFeedbackInactivityTimer3=null}a.prototype.start=function(){"use strict";clearTimeout(this.$VideoEncodeFeedbackInactivityTimer3),this.$VideoEncodeFeedbackInactivityTimer3=setTimeout(function(){this.inform("inactive",this.$VideoEncodeFeedbackInactivityTimer1),this.$VideoEncodeFeedbackInactivityTimer1++}.bind(this),this.$VideoEncodeFeedbackInactivityTimer2)};a.prototype.reset=function(){"use strict";this.$VideoEncodeFeedbackInactivityTimer1=0,this.start()};a.prototype.stop=function(){"use strict";clearTimeout(this.$VideoEncodeFeedbackInactivityTimer3),this.$VideoEncodeFeedbackInactivityTimer3=null};e.exports=a}),null);
__d("VideoEncodeFeedbackProgressBar",["fbt","Arbiter","AsyncRequest","ChannelConstants","CSS","DOM","OptimisticVideoPostUtils","ReloadPage","VideoEncodeFeedbackInactivityTimer","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$1=a.onProgressChange,this.$2=a.onEncodeDone,this.$7=a.updateProgressBarLabel,this.$8=a.handleEncodingFail,this.$4=a.processing_message,this.$3=a.video_id,this.$5=new(b("VideoEncodeFeedbackInactivityTimer"))(3e3)}a.prototype.init=function(){"use strict";this.$6=b("Arbiter").subscribe(this.$9(this.$3),this.$10.bind(this)),this.$5.subscribe("inactive",this.$11.bind(this)),this.$5.start()};a.prototype.$12=function(){"use strict";this.$1(0)};a.prototype.$9=function(){"use strict";return b("ChannelConstants").getArbiterType("video_encode")};a.prototype.$10=function(event,a){"use strict";__p&&__p();if(a.obj.videoID!=this.$3)return;this.$5.reset();var c=a.obj.progress,d=a.obj.extra;a=a.obj.error;if(a){this.$13(a,d.is_permanent_error);return}c==100&&this.$14();b("setTimeout")(function(){return this.$1(c)}.bind(this),d.time_left||0)};a.prototype.$11=function(a){"use strict";if(this.$6==null)return;this.$15();this.$5.start()};a.prototype.$15=function(){"use strict";b("OptimisticVideoPostUtils").checkVideoStatus(this.$3,function(a){this.$14()}.bind(this),function(a,b){this.$13(b.error,!0)}.bind(this),function(a){this.$7(this.$4),this.$5.reset()}.bind(this))};a.prototype.$14=function(){"use strict";this.$7(g._("Finalizing video...")),this.$1(100),this.$2(),this.$6&&b("Arbiter").unsubscribe(this.$6),this.$6=null,this.$5.stop()};a.prototype.$13=function(a,b){"use strict";if(!b){this.$12();this.$7(g._("Video processing failed. Retrying..."));return}this.$5.stop();this.$8(a)};e.exports=a}),null);
__d("VideoCaptionBackgroundOpacityType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPAQUE:100,DARK:75,DEFAULT:45,LIGHT:25,TRANSPARENT:-1})}),null);
__d("VideoCaptionTextSizeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BIGGEST:200,BIGGER:175,BIG:150,MEDIUM:125,DEFAULT:100,SMALL:75,SMALLEST:50})}),null);
__d("SubtitlesStyle",["cx","VideoCaptionBackgroundOpacityType","CSS","VideoCaptionTextSizeType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={Black:"20, 22, 26",Blue:"0, 0, 255",Green:"0, 255, 0",Cyan:"0, 255, 255",Red:"255, 0, 0",Magenta:"255, 0, 255",White:"255, 255, 255",Yellow:"255, 255, 0"},i="Black",j="White";function a(a,b,c,d,e,f){this.$3=c,this.$4=d,this.setBackgroundColor(a),this.setBackgroundOpacity(b),this.setTextColor(e),this.setTextSize(f),this.updateStyle()}a.prototype.updateStyle=function(){__p&&__p();var a=this.$2;this.$2===b("VideoCaptionBackgroundOpacityType").TRANSPARENT&&(a=0);a=a/100;a="rgba("+h[this.$1]+", "+a+")";this.$3.style.backgroundColor=a;this.$3.style.color=this.$6;a="0 0 10px rgb("+h[this.$1]+"), 0 0 5px rgba("+h[this.$1]+", .8)";this.$3.style.textShadow=a;b("CSS").conditionClass(this.$4,"_5z64",this.$7==b("VideoCaptionTextSizeType").SMALLEST);b("CSS").conditionClass(this.$4,"_5z65",this.$7==b("VideoCaptionTextSizeType").SMALL);b("CSS").conditionClass(this.$4,"_5z66",this.$7==b("VideoCaptionTextSizeType").MEDIUM);b("CSS").conditionClass(this.$4,"_5z67",this.$7==b("VideoCaptionTextSizeType").BIG);b("CSS").conditionClass(this.$4,"_5z68",this.$7==b("VideoCaptionTextSizeType").BIGGER);b("CSS").conditionClass(this.$4,"_5z69",this.$7==b("VideoCaptionTextSizeType").BIGGEST)};a.prototype.setBackgroundColor=function(a){Object.prototype.hasOwnProperty.call(h,a)?this.$1=a:this.$1=i};a.prototype.setBackgroundOpacity=function(a){a!==0&&a>=b("VideoCaptionBackgroundOpacityType").TRANSPARENT&&a<=b("VideoCaptionBackgroundOpacityType").OPAQUE?this.$2=a:this.$2=b("VideoCaptionBackgroundOpacityType").DEFAULT};a.prototype.setTextColor=function(a){Object.prototype.hasOwnProperty.call(h,a)?this.$6=a:this.$6=j};a.prototype.setTextSize=function(a){a>=b("VideoCaptionTextSizeType").SMALLEST&&a<=b("VideoCaptionTextSizeType").BIGGEST?this.$7=a:this.$7=b("VideoCaptionTextSizeType").DEFAULT};e.exports=a}),null);
__d("LiveCreativeKitActionTypes",["keyMirror"],(function(a,b,c,d,e,f){e.exports=b("keyMirror")({ADD_LIVE_STICKER:null,AUDIENCE_MODAL_SEEN:null,HANDLE_GO_TO_NEXT_VIEW:null,HANDLE_GO_TO_PREVIOUS_VIEW:null,HANDLE_SAVE_RESPONSE:null,INITIALIZE_STORE:null,LIVE_STICKER_UPLOAD_FAILED:null,LIVE_STICKER_UPLOADING:null,PREVIEW_CURRENT_TAB_CHANGE:null,REMOVE_LIVE_STICKER:null,UPLOAD_STARTED:null,UPLOAD_STATE_CHANGE:null,VIDEO_CHANGE:null})}),null);
__d("LiveCreativeKitDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationDispatcher"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("LiveCreativeKitPreviewTabs",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({INTRO:null,OVERLAY:null,OUTRO:null});e.exports=a}),null);
__d("LiveCreativeKitUploadState",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({ENCODING:null,DELETING:null,FAILED:null,NOT_STARTED:null,UPLOADED:null,UPLOADING:null});e.exports=a}),null);
__d("LiveCreativeKitActions",["invariant","LiveCreativeKitActionTypes","LiveCreativeKitDispatcher","LiveCreativeKitUploadState","LiveCreativeKitPreviewTabs"],(function(a,b,c,d,e,f,g){__p&&__p();e.exports={initializeStore:function(a){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").INITIALIZE_STORE,data:{templateData:a.templateData}})},handleGoToNextView:function(a){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").HANDLE_GO_TO_NEXT_VIEW,data:{currentView:a}})},handleGoToPreviousView:function(a){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").HANDLE_GO_TO_PREVIOUS_VIEW,data:{currentView:a}})},onUploadStateChange:function(a,c){Object.prototype.hasOwnProperty.call(b("LiveCreativeKitUploadState"),a)||g(0),b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").UPLOAD_STATE_CHANGE,data:{newState:a,inputType:c}})},onVideoChange:function(a,c,d,e,f){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").VIDEO_CHANGE,data:{videoID:a,inputType:f,filename:c,duration:d,dimensions:e}})},previewCurrentTabChange:function(a){Object.prototype.hasOwnProperty.call(b("LiveCreativeKitPreviewTabs"),a)||g(0),b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").PREVIEW_CURRENT_TAB_CHANGE,data:{selectedTab:a}})},handleSaveResponse:function(a){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").HANDLE_SAVE_RESPONSE,data:{payload:a}})},uploadStarted:function(){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").UPLOAD_STARTED,data:{}})},addLiveSticker:function(a,c,d){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").ADD_LIVE_STICKER,data:{id:a,filename:c,uri:d}})},removeLiveSticker:function(a){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").REMOVE_LIVE_STICKER,data:{id:a}})},liveStickerUploading:function(){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").LIVE_STICKER_UPLOADING,data:{}})},liveStickerUploadFailed:function(){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").LIVE_STICKER_UPLOAD_FAILED,data:{}})},audienceModalSeen:function(){b("LiveCreativeKitDispatcher").dispatch({type:b("LiveCreativeKitActionTypes").AUDIENCE_MODAL_SEEN,data:{}})}}}),null);
__d("LiveCreativeKitOwnerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGE:"page",USER:"user"})}),null);
__d("LiveCreativeKitAudienceModal.react",["cx","fbt","BackgroundImage.react","Link.react","LiveCreativeKitActions","LiveCreativeKitOwnerType","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=95,k=475;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=null,c=null;this.props.ownerData.type===b("LiveCreativeKitOwnerType").PAGE?(a=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.ownerData.fanOrFollowerCount,"number")]),c=h._("This kit will only be available to {Link to Page}",[h._param("Link to Page",b("React").createElement(b("Link.react"),{href:this.props.ownerData.profileURI,target:"_blank"},b("React").createElement(b("XUIText.react"),{display:"block",className:"_61er"},this.props.ownerData.name)))])):(this.props.ownerData.fanOrFollowerCount==0&&this.props.ownerData.friendCount!=null?a=h._({"*":"{number} friends","_1":"1 friend"},[h._plural(this.props.ownerData.friendCount,"number")]):a=h._({"*":"{number} followers","_1":"1 follower"},[h._plural(this.props.ownerData.fanOrFollowerCount,"number")]),c=h._("This kit will only be available to {Link to Profile}",[h._param("Link to Profile",b("React").createElement(b("Link.react"),{href:this.props.ownerData.profileURI,target:"_blank"},b("React").createElement(b("XUIText.react"),{display:"block",className:"_61er"},this.props.ownerData.name)))]));return b("React").createElement(b("XUIDialog.react"),{width:k,height:k,className:"_61es",label:h._("Live Creative Kit usability warning"),shown:!0},b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement("div",{className:"_61et"},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"cover",height:j,width:j,className:"_61eu",src:this.props.ownerData.profilePicURI})),b("React").createElement("div",{className:"_61ev"},c,b("React").createElement(b("XUIText.react"),{display:"block",size:"header4",weight:"bold",className:"_61ew"},a)),b("React").createElement("div",{className:"_61ex"},b("React").createElement(b("XUIButton.react"),{label:h._("Continue"),use:"confirm",onClick:this.$1}))))};a.prototype.$1=function(){"use strict";b("LiveCreativeKitActions").audienceModalSeen()};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("LiveCreativeKitCloseDialogArbiterEvent",[],(function(a,b,c,d,e,f){e.exports={EVENT_NAME:"live_creative_kit/close_dialog"}}),null);
__d("LiveCreativeKitDetailsRow.react",["cx","fbt","Layout.react","React","XUINotice.react","XUISpinner.react","XUIText.react","keyMirror"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;b("React").PropTypes;var l=b("keyMirror")({WARNING:null,ERROR:null});i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("Layout.react"),null,b("React").createElement(j,{className:"_44jk"},b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{display:"block",weight:"bold",size:"meta1"},this.props.titleText),this.props.isOptional&&b("React").createElement("div",{className:"_44jl"},h._("Optional")))),b("React").createElement(k,null,b("React").createElement("div",null,b("React").createElement("div",{className:"_44jm"},this.props.explanationText),this.props.activeLiveStickers,this.$1(),this.props.inputElement),this.$2()))};a.prototype.$1=function(){"use strict";return!this.props.shouldShowProgressSpinner?null:b("React").createElement("div",{className:"_44jn"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))};a.prototype.$2=function(){"use strict";return!this.props.errorMessage||!this.props.errorSeverity?null:b("React").createElement(b("XUINotice.react"),{size:"small",use:this.props.errorSeverity===l.ERROR?"warn":"recommend",className:"_3-8x"},this.props.errorMessage)};function a(){"use strict";i.apply(this,arguments)}e.exports={LiveCreativeKitDetailsRow:a,Severity:l}}),null);
__d("LiveCreativeKitInputTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOM_FRAME:"custom_frame",INTRO_VIDEO:"intro_video",OUTRO_VIDEO:"outro_video",LIVE_STICKERS:"live_stickers"})}),null);
__d("LiveCreativeKitViewType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DETAILS:"details",OVERLAY:"overlay",REVIEW:"review"})}),null);
__d("LiveCreativeKitViewUtils",["LiveCreativeKitViewType","expectationViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getNextView:function(a){switch(a){case b("LiveCreativeKitViewType").OVERLAY:return b("LiveCreativeKitViewType").DETAILS;case b("LiveCreativeKitViewType").DETAILS:return b("LiveCreativeKitViewType").REVIEW;case b("LiveCreativeKitViewType").REVIEW:return null;default:b("expectationViolation")("invalid currentView type: %s",a);return null}},getPreviousView:function(a){switch(a){case b("LiveCreativeKitViewType").OVERLAY:return null;case b("LiveCreativeKitViewType").DETAILS:return b("LiveCreativeKitViewType").OVERLAY;case b("LiveCreativeKitViewType").REVIEW:return b("LiveCreativeKitViewType").DETAILS;default:b("expectationViolation")("invalid currentView type: %s",a);return null}},hasNextView:function(a){return g.getNextView(a)!=null},hasPreviousView:function(a){return g.getPreviousView(a)!=null}};e.exports=g}),null);
__d("ShowsLiveTemplateWaterfallEventName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DIALOG_OPENED:"dialog_opened",DIALOG_VIEW_CHANGED:"dialog_view_changed",INTRO_UPLOAD_STARTED:"intro_upload_started",INTRO_VIDEO_CHANGED:"intro_video_changed",INTRO_VIDEO_PLAYBACK_END:"intro_video_playback_end",INTRO_VIDEO_PLAYBACK_START:"intro_video_playback_start",LIVE_BROADCAST_END:"live_broadcast_end",LIVE_BROADCAST_START:"live_broadcast_start",LIVE_CREATIVE_KIT_DELETED:"live_creative_kit_deleted",LIVE_STICKER_ANIMATED:"live_sticker_animated",LIVE_STICKER_SUBSCRIPTION_PUBLISHED:"live_sticker_subscription_published",LIVE_STICKER_TAP_MUTATION_REQUEST_RECEIVED:"live_sticker_tap_mutation_request_received",LIVE_STICKER_TAPPED:"live_sticker_tapped",LIVE_STICKER_UPLOAD_FAIL:"live_sticker_upload_fail",LIVE_STICKER_UPLOAD_STARTED:"live_sticker_upload_started",LIVE_STICKER_UPLOAD_SUCCESS:"live_sticker_upload_success",LIVE_TEMPLATE_SECTION_RENDERED:"live_template_section_rendered",OUTRO_UPLOAD_STARTED:"outro_upload_started",OUTRO_VIDEO_CHANGED:"outro_video_changed",OUTRO_VIDEO_PLAYBACK_END:"outro_video_playback_end",OUTRO_VIDEO_PLAYBACK_START:"outro_video_playback_start",SUBMIT_CLICKED:"submit_clicked",SUBMIT_FAIL:"submit_fail",SUBMIT_SUCCESS:"submit_success",TEMPLATE_DISABLED:"template_disabled",TEMPLATE_DOWNLOAD_DONE:"template_download_done",TEMPLATE_DOWNLOAD_FAILED:"template_download_failed",TEMPLATE_DOWNLOAD_STARTED:"template_download_started",TEMPLATE_ENABLED:"template_enabled",VOD_STICKER_QUERY_SENT:"vod_sticker_query_sent"})}),null);
__d("LiveCreativeKitStore",["FluxReduceStore","immutable","LiveCreativeKitInputTypes","LiveCreativeKitActionTypes","LiveCreativeKitDispatcher","LiveCreativeKitViewUtils","LiveCreativeKitPreviewTabs","ShowsLiveTemplateWaterfallEventName","ShowsLiveTemplateWaterfallTypedLogger","LiveCreativeKitUploadState","VideoUploader","LiveCreativeKitViewType","expectationViolation","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){"use strict";return{ownerData:null,introVideoID:null,introVideoFilename:null,outroVideoFilename:null,introVideoDuration:null,introVideoDimensions:null,outroVideoDuration:null,outroVideoDimensions:null,outroVideoID:null,templateID:null,liveStickers:b("immutable").List(),liveStickersUploadState:b("LiveCreativeKitUploadState").NOT_STARTED,currentView:b("LiveCreativeKitViewType").OVERLAY,introVideoUploadState:b("LiveCreativeKitUploadState").NOT_STARTED,outroVideoUploadState:b("LiveCreativeKitUploadState").NOT_STARTED,previewSelectedTab:b("LiveCreativeKitPreviewTabs").OVERLAY,isSubmitting:!1,hasShownAudienceModal:!1}};a.prototype.reduce=function(a,c){"use strict";__p&&__p();switch(c.type){case b("LiveCreativeKitActionTypes").INITIALIZE_STORE:var d=c.data.templateData,e=d.existingTemplate;this.$LiveCreativeKitStore3=new(b("VideoUploader"))(d.uploaderParams);this.$LiveCreativeKitStore4=d.maxLiveStickers;if(!e)return babelHelpers["extends"]({},a,{ownerData:d.ownerData});e=b("nullthrows")(e);this.$LiveCreativeKitStore1=e.introVideoID;this.$LiveCreativeKitStore2=e.outroVideoID;return babelHelpers["extends"]({},a,{ownerData:d.ownerData,templateID:e.templateID,introVideoID:e.introVideoID,outroVideoID:e.outroVideoID,introVideoFilename:e.introVideoFilename,outroVideoFilename:e.outroVideoFilename,introVideoDuration:e.introVideoDuration,outroVideoDuration:e.outroVideoDuration,introVideoDimensions:e.introVideoDimensions,outroVideoDimensions:e.outroVideoDimensions,liveStickers:b("immutable").List(e.liveStickers)});case b("LiveCreativeKitActionTypes").HANDLE_GO_TO_PREVIOUS_VIEW:d=b("LiveCreativeKitViewUtils").getPreviousView(c.data.currentView);if(d==null){b("expectationViolation")("No previous view for %s",c.data.currentView);return a}this.$LiveCreativeKitStore5(d);return babelHelpers["extends"]({},a,{currentView:d});case b("LiveCreativeKitActionTypes").HANDLE_GO_TO_NEXT_VIEW:e=b("LiveCreativeKitViewUtils").getNextView(c.data.currentView);if(e==null){b("expectationViolation")("No next view for %s",c.data.currentView);return a}this.$LiveCreativeKitStore5(e);return babelHelpers["extends"]({},a,{currentView:e});case b("LiveCreativeKitActionTypes").UPLOAD_STATE_CHANGE:switch(c.data.inputType){case b("LiveCreativeKitInputTypes").INTRO_VIDEO:return this.$LiveCreativeKitStore6(a,c.data.newState);case b("LiveCreativeKitInputTypes").OUTRO_VIDEO:return this.$LiveCreativeKitStore7(a,c.data.newState);default:b("expectationViolation")("No upload state change handler for input type: %s",c.data.inputType)}break;case b("LiveCreativeKitActionTypes").VIDEO_CHANGE:d=a.previewSelectedTab;switch(c.data.inputType){case b("LiveCreativeKitInputTypes").INTRO_VIDEO:c.data.videoID===null&&d===b("LiveCreativeKitPreviewTabs").INTRO&&(d=b("LiveCreativeKitPreviewTabs").OVERLAY);return babelHelpers["extends"]({},a,{introVideoFilename:c.data.filename,introVideoDuration:c.data.duration,introVideoID:c.data.videoID,introVideoDimensions:c.data.dimensions,previewSelectedTab:d});case b("LiveCreativeKitInputTypes").OUTRO_VIDEO:c.data.videoID===null&&d===b("LiveCreativeKitPreviewTabs").OUTRO&&(d=b("LiveCreativeKitPreviewTabs").OVERLAY);return babelHelpers["extends"]({},a,{outroVideoFilename:c.data.filename,outroVideoDuration:c.data.duration,outroVideoID:c.data.videoID,outroVideoDimensions:c.data.dimensions,previewSelectedTab:d});default:b("expectationViolation")("No video change handler for input type: %s",c.data.inputType)}break;case b("LiveCreativeKitActionTypes").PREVIEW_CURRENT_TAB_CHANGE:return babelHelpers["extends"]({},a,{previewSelectedTab:c.data.selectedTab});case b("LiveCreativeKitActionTypes").HANDLE_SAVE_RESPONSE:return babelHelpers["extends"]({},a,{isSubmitting:!1,templateID:c.data.payload.templateID});case b("LiveCreativeKitActionTypes").UPLOAD_STARTED:return babelHelpers["extends"]({},a,{isSubmitting:!0});case b("LiveCreativeKitActionTypes").ADD_LIVE_STICKER:var f=c.data.id,g=c.data.filename,h=c.data.uri;e=b("immutable").List(a.liveStickers).withMutations(function(a){return a.push({id:f,filename:g,uri:h})});return babelHelpers["extends"]({},a,{liveStickers:e,liveStickersUploadState:b("LiveCreativeKitUploadState").NOT_STARTED});case b("LiveCreativeKitActionTypes").REMOVE_LIVE_STICKER:var i=c.data.id;d=a.liveStickers.findIndex(function(a){return a.id===i});e=a.liveStickers;d!==-1&&(e=e["delete"](d));return babelHelpers["extends"]({},a,{liveStickers:b("immutable").List(e),liveStickersUploadState:b("LiveCreativeKitUploadState").NOT_STARTED});case b("LiveCreativeKitActionTypes").LIVE_STICKER_UPLOADING:return babelHelpers["extends"]({},a,{liveStickersUploadState:b("LiveCreativeKitUploadState").UPLOADING});case b("LiveCreativeKitActionTypes").LIVE_STICKER_UPLOAD_FAILED:return babelHelpers["extends"]({},a,{liveStickersUploadState:b("LiveCreativeKitUploadState").NOT_STARTED});case b("LiveCreativeKitActionTypes").AUDIENCE_MODAL_SEEN:return babelHelpers["extends"]({},a,{hasShownAudienceModal:!0})}return a};a.prototype.isInputDisabled=function(){"use strict";var a=this.getState();return a.introVideoUploadState!=b("LiveCreativeKitUploadState").NOT_STARTED||a.outroVideoUploadState!=b("LiveCreativeKitUploadState").NOT_STARTED||a.liveStickersUploadState!=b("LiveCreativeKitUploadState").NOT_STARTED};a.prototype.getVideoUploader=function(){"use strict";return this.$LiveCreativeKitStore3};a.prototype.getMaxLiveStickers=function(){"use strict";return this.$LiveCreativeKitStore4};a.prototype.canSubmit=function(a){"use strict";var b=this.getState();a=!!b.introVideoID||!!b.outroVideoID||b.liveStickers.count()>0||a;return a&&!this.isInputDisabled()&&!b.isSubmitting};a.prototype.getOwnerID=function(){"use strict";return b("nullthrows")(this.getState().ownerData).id};a.prototype.getOwnerData=function(){"use strict";return b("nullthrows")(this.getState().ownerData)};a.prototype.getOwnerType=function(){"use strict";return b("nullthrows")(this.getState().ownerData).type};a.prototype.shouldShowAudienceModal=function(a){"use strict";return this.getState().hasShownAudienceModal?!1:this.getState().currentView===b("LiveCreativeKitViewType").OVERLAY&&!this.getState().templateID&&a};a.prototype.$LiveCreativeKitStore6=function(a,b){"use strict";return babelHelpers["extends"]({},a,{introVideoUploadState:b})};a.prototype.$LiveCreativeKitStore7=function(a,b){"use strict";return babelHelpers["extends"]({},a,{outroVideoUploadState:b})};a.prototype.$LiveCreativeKitStore5=function(a){"use strict";var c=this.getState();new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").DIALOG_VIEW_CHANGED).setOwnerID(b("nullthrows")(c.ownerData).id).setLiveTemplateID(c.templateID).setDialogViewName(a).log()};function a(){"use strict";g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("LiveCreativeKitDispatcher"))}),null);
__d("LiveCreativeKitTextUtils",["fbt","LiveCreativeKitViewType","expectationViolation"],(function(a,b,c,d,e,f,g){__p&&__p();a={getLiveTemplateTitleText:function(){return g._("Live Creative Kit")},getLiveTemplateSectionTitleText:function(){return g._("Create a Live Creative Kit for your page")},getLiveTemplateAdminSettingsDescriptionText:function(){return g._("If you set up a Live Creative Kit, you can customize elements of your live videos, including intro and outro videos, and effects.")},getIntroVideoTitleText:function(){return g._("Intro Video")},getUploadIntroVideoText:function(){return g._("Upload Intro Video")},getIntroVideoExplanationText:function(){return g._("This video will play before your live broadcast starts. It can't be longer than 180 seconds and is recommended to be under 90 seconds.")},getOutroVideoTitleText:function(){return g._("Outro Video")},getUploadOutroVideoText:function(){return g._("Upload Outro Video")},getOutroVideoExplanationText:function(){return g._("This video will play after your live broadcast ends. It can't be longer than 60 seconds and is recommended to be under 30 seconds.")},getLiveStickersTitleText:function(){return g._("Live Stickers")},getUploadLiveStickerText:function(){return g._("Upload Live Sticker")},getLiveStickersExplanationText:function(){return g._("Live stickers will be available for use by your viewers when they watch your live video. The images uploaded for these live stickers should be square and at least 256x256px. You can create at most 5 live stickers.")},getUploadNewFileText:function(){return g._("Upload New File")},getNameForView:function(a){switch(a){case b("LiveCreativeKitViewType").OVERLAY:return g._("Frame");case b("LiveCreativeKitViewType").DETAILS:return g._("Details");case b("LiveCreativeKitViewType").REVIEW:return g._("Review");default:b("expectationViolation")("invalid view name: %s",a);return null}},getTooLongIntroMessage:function(a){return a===null||a===undefined?g._("This intro video is too long. Consider restricting it to 90 seconds."):g._({"*":"This intro video is too long ({number} seconds). Consider restricting it to 90 seconds.","_1":"This intro video is too long (1 second). Consider restricting it to 90 seconds."},[g._plural(a,"number")])},getTooLongOutroMessage:function(a){return a===null||a===undefined?g._("This outro video is too long. Consider restricting it to 30 seconds."):g._({"*":"This outro video is too long ({number} seconds). Consider restricting it to 30 seconds.","_1":"This outro video is too long (1 second). Consider restricting it to 30 seconds."},[g._plural(a,"number")])},getLandscapeVideoWarning:function(a){return g._("This video is in landscape mode (dimensions = {width}x{height}), which is currently not supported. This will appear stretched on phones when broadcast is in portrait mode. Please consider uploading a portrait video instead.",[g._param("width",a.width),g._param("height",a.height)])}};e.exports=a}),null);
__d("LiveCreativeKitUploadElement.react",["cx","ix","Image.react","React","LiveCreativeKitTextUtils","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";return this.props.filename?this.$1(this.props.filename):this.$2(this.props.hasRoundedBorder,this.props.uploadText)};a.prototype.$2=function(a,c){"use strict";return b("React").createElement("div",{className:"_4iuj"},b("React").createElement("span",{className:"_4iuk"+(a?"":" _4iul")+(a?" _4ium":"")},b("React").createElement(b("Image.react"),{src:h("134633")})),b("React").createElement("span",{className:"_4iun"},c))};a.prototype.$1=function(a){"use strict";return b("React").createElement("div",{className:"_4iuj"},b("React").createElement("div",{className:"_4iup"},b("React").createElement(b("Image.react"),{className:"_4iuq",src:h("312065")})),b("React").createElement("div",{className:"_4iur"},b("React").createElement(b("XUIText.react"),{className:"_4iuz",display:"block",size:"meta1"},a),b("React").createElement(b("XUIText.react"),{display:"block",className:"_4iv2",size:"meta1"},b("LiveCreativeKitTextUtils").getUploadNewFileText())))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("XLiveTemplateDeleteVideoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/showpages/live_template/video/remove/",{video_id:{type:"FBID",required:!0},template_id:{type:"FBID"},owner_id:{type:"FBID",required:!0},video_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("LiveCreativeKitVideoUploader.react",["ix","cx","fbt","AsyncUploadRequest","ErrorDialog","FileInput.react","Image.react","Layout.react","Link.react","LiveCreativeKitActions","LiveCreativeKitOwnerType","LiveCreativeKitUploadElement.react","React","ProgressBar.react","ShimButton.react","SubscriptionsHandler","LiveCreativeKitUploadState","VideoEncodeFeedbackProgressBar","VideoUploader","VideoUploadFile","VideoUploadMetadataParser","VideoUploadProgressBar","XLiveTemplateDeleteVideoController","XUISpinner.react","XUIText.react","expectationViolation","fbglyph","nullthrows"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn;b("React").PropTypes;var m=10;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(a){"use strict";__p&&__p();j.constructor.call(this,a),this.$10=function(){__p&&__p();if(this.state.isDeleting)return;if(!this.state.videoID){b("expectationViolation")("videoID cannot be null");return}var a=b("XLiveTemplateDeleteVideoController").getURIBuilder().setEnum("video_type",this.props.inputType).setFBID("owner_id",this.props.ownerID.toString()).setFBID("video_id",b("nullthrows")(this.state.videoID).toString());this.props.templateID&&a.setFBID("template_id",this.props.templateID.toString());a=new(b("AsyncUploadRequest"))().setURI(a.getURI()).setAllowCrossOrigin(!1);a.subscribe("failure",function(a,c){if(c.getResponse()===null)return;this.setState({isDeleting:!1},function(){return this.props.onUploadStateChange(b("LiveCreativeKitUploadState").NOT_STARTED)}.bind(this));b("ErrorDialog").showAsyncError(c.getResponse().errorDescription)}.bind(this));a.subscribe("success",function(a,c){this.setState({isDeleting:!1,videoID:null,videoDimensions:null,videoFilename:null,videoDuration:null},function(){this.props.onUploadStateChange(b("LiveCreativeKitUploadState").NOT_STARTED),b("LiveCreativeKitActions").onVideoChange(null,null,null,null,this.props.inputType)}.bind(this))}.bind(this));a.send();this.setState({isDeleting:!0},function(){return this.props.onUploadStateChange(b("LiveCreativeKitUploadState").DELETING)}.bind(this))}.bind(this),this.$11=function(event){__p&&__p();var a=event.target,c=b("VideoUploadFile").fromFileInput(a),d=a.value;d=d.substring(d.lastIndexOf("\\")+1);a=new(b("VideoUploadMetadataParser"))(c,function(a){__p&&__p();if(!a){this.$12();b("ErrorDialog").show(i._("Unsupported file extension."),i._("This file extension is not supported. Please try a different one."));return}if(!a.streams.primaryAudio){this.$12();b("ErrorDialog").show(i._("Video does not have any audio."),i._("This video does not have an audio stream. Please upload a video that has as audio."));return}this.setState({videoFilename:d,videoDuration:a.format.duration,videoDimensions:{height:a.streams.primaryVideo.height,width:a.streams.primaryVideo.width}},function(){this.$13(),a.format.duration>this.props.durationThreshold?(this.props.onTooLongVideoUpload(),this.$12()):(this.props.videoUploader.abandon(),this.props.videoUploader.upload(c),this.props.onUploadStart())}.bind(this))}.bind(this));a.parse()}.bind(this),this.$14=function(){this.setState({uploadProgress:0,progressBarShown:!0,progressLabel:i._("Uploading Video...")},function(){this.props.onUploadStateChange(b("LiveCreativeKitUploadState").UPLOADING)}.bind(this))}.bind(this),this.$15=function(event,a){this.$12(),b("ErrorDialog").show(a.error_summary,a.error_description)}.bind(this),this.$6=function(a){this.$12(),b("ErrorDialog").show(i._("Error in encoding the video"),a)}.bind(this),this.$16=function(event,a){a=b("VideoUploadProgressBar").computeProgress(a.start_offset,a.sent_bytes,a.file_size,0,0);a=Math.round(m*a)/m;this.setState({uploadProgress:a})}.bind(this),this.$17=function(){__p&&__p();if(this.props.uploadState==b("LiveCreativeKitUploadState").UPLOADED)return;var a=this.props.videoUploader.getVideoID();this.props.onUploadStateChange(b("LiveCreativeKitUploadState").UPLOADED);if(this.state.videoDimensions===null||this.state.videoFilename===null||this.state.videoFilename&&this.state.videoFilename.length===0||this.state.videoDuration===null){b("expectationViolation")("Invalid video data");return}this.props.onVideoChange(a,b("nullthrows")(this.state.videoFilename),b("nullthrows")(this.state.videoDuration),b("nullthrows")(this.state.videoDimensions));this.setState({videoID:a});this.props.videoUploader.post({video_id:a})}.bind(this),this.$18=function(){this.props.onUploadStateChange(b("LiveCreativeKitUploadState").ENCODING),this.setState({progressLabel:i._("Encoding Video...")}),this.props.videoUploader.reset()}.bind(this),this.$7=function(){this.props.videoUploader.cancel(),this.$12()}.bind(this),this.$4=function(){this.$12()}.bind(this),this.$3=function(a){this.setState({uploadProgress:a})}.bind(this),this.$5=function(a){this.setState({progressLabel:a})}.bind(this),this.$1=new(b("SubscriptionsHandler"))(),this.state={uploadProgress:0,videoFilename:a.filename,videoDuration:null,videoDimensions:null,videoID:a.videoID,progressLabel:null,progressBarShown:!1,isDeleting:!1}}a.prototype.componentWillUnmount=function(){"use strict";this.props.videoUploader&&this.props.videoUploader.abandon()};a.prototype.render=function(){"use strict";__p&&__p();var a=null,c=null,d=b("React").createElement("div",{className:"_3p_7"+(this.state.progressBarShown?"":" _3p_g")},b("React").createElement(b("ProgressBar.react"),{isRounded:!0,size:"small",value:this.state.uploadProgress}));switch(this.props.uploadState){case b("LiveCreativeKitUploadState").NOT_STARTED:case b("LiveCreativeKitUploadState").DELETING:a=this.$2();break;case b("LiveCreativeKitUploadState").ENCODING:var e=new(b("VideoEncodeFeedbackProgressBar"))({processing_message:i._("Processing your video..."),onProgressChange:this.$3,onEncodeDone:this.$4,updateProgressBarLabel:this.$5,video_id:b("nullthrows")(this.state.videoID),handleEncodingFail:this.$6});e.init();break;case b("LiveCreativeKitUploadState").UPLOADING:c=b("React").createElement(b("Link.react"),{onClick:this.$7,className:"_3p_i"},b("React").createElement(b("XUIText.react"),{size:"meta1"},i._("Cancel Upload")));break}return b("React").createElement("div",null,d,b("React").createElement(b("XUIText.react"),{size:"meta1",className:"_3p_j"+(this.state.progressBarShown?"":" _3p_g")},this.state.progressLabel),a,c)};a.prototype.$2=function(){"use strict";return this.state.videoID===null?this.$8():b("React").createElement(b("Layout.react"),null,b("React").createElement(l,null,this.$8()),b("React").createElement(k,null,this.$9()))};a.prototype.$9=function(){"use strict";var a=this.state.isDeleting?b("React").createElement(b("XUISpinner.react"),{size:"small"}):b("React").createElement(b("Image.react"),{src:g("127523")});return b("React").createElement("div",{className:"_3p_k"},b("React").createElement(b("ShimButton.react"),{onClick:this.$10,className:"_3p_l"},a))};a.prototype.$8=function(){"use strict";return b("React").createElement(b("FileInput.react"),{accept:".mp4,.mov,.m4v,.3gp,.3g2",multiple:!1,disabled:this.props.inputDisabled,onChange:this.$11},b("React").createElement(b("Link.react"),{className:"_3-cj"},b("React").createElement(b("LiveCreativeKitUploadElement.react"),{filename:this.props.filename,hasRoundedBorder:this.props.hasRoundedBorder,uploadText:this.props.uploadText})))};a.prototype.$13=function(){"use strict";this.$1.engage(),this.$1.addSubscriptions(this.props.videoUploader.subscribe("upload-started",this.$14),this.props.videoUploader.subscribe("upload-failed",this.$15),this.props.videoUploader.subscribe("upload-progressed",this.$16),this.props.videoUploader.subscribe("upload-finished",this.$17),this.props.videoUploader.subscribe("post-finished",this.$18),this.props.videoUploader.subscribe("post-failed",this.$15))};a.prototype.$12=function(){"use strict";this.props.videoUploader.reset(),this.$1.release(),this.setState({uploadProgress:0,progressBarShown:!1,progressLabel:null}),this.props.onUploadStateChange(b("LiveCreativeKitUploadState").NOT_STARTED)};e.exports=a}),null);
__d("LiveCreativeKitIntroInputViewContainer.react",["fbt","FluxContainer","React","LiveCreativeKitActions","LiveCreativeKitDispatcher","LiveCreativeKitInputTypes","LiveCreativeKitStore","LiveCreativeKitTextUtils","LiveCreativeKitUploadState","LiveCreativeKitVideoUploader.react","ShowsLiveTemplateWaterfallEventName","ShowsLiveTemplateWaterfallTypedLogger","LiveCreativeKitDetailsRow.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("LiveCreativeKitDetailsRow.react").LiveCreativeKitDetailsRow,j=b("LiveCreativeKitDetailsRow.react").Severity,k=90,l=180;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=function(){this.setState({shouldShowError:!1}),new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").INTRO_UPLOAD_STARTED).setOwnerID(this.state.ownerID).setLiveTemplateID(this.state.templateID).log()}.bind(this),this.$2=function(a,c,d,e){b("LiveCreativeKitActions").onVideoChange(a,c,d,e,b("LiveCreativeKitInputTypes").INTRO_VIDEO),new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").INTRO_VIDEO_CHANGED).setOwnerID(this.state.ownerID).setLiveTemplateID(this.state.templateID).setIntroVideoID(a).setIntroVideoDuration(Math.floor(d)).log()}.bind(this),this.$4=function(){this.setState({shouldShowError:!0})}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";b("LiveCreativeKitDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores()))};a.getStores=function(){"use strict";return[b("LiveCreativeKitStore")]};a.calculateState=function(a){"use strict";var c=b("LiveCreativeKitStore").getState();return{ownerID:b("LiveCreativeKitStore").getOwnerID(),ownerType:b("LiveCreativeKitStore").getOwnerType(),templateID:c.templateID,introVideoID:c.introVideoID,introVideoFilename:c.introVideoFilename,uploadState:c.introVideoUploadState,inputDisabled:b("LiveCreativeKitStore").isInputDisabled(),shouldShowError:a?a.shouldShowError:!1,introVideoDuration:c.introVideoDuration,introVideoDimensions:c.introVideoDimensions}};a.prototype.render=function(){"use strict";var a=b("React").createElement(b("LiveCreativeKitVideoUploader.react"),{inputType:b("LiveCreativeKitInputTypes").INTRO_VIDEO,ownerID:this.state.ownerID,templateID:this.state.templateID,ownerType:this.state.ownerType,onUploadStateChange:this.$1,onVideoChange:this.$2,onUploadStart:this.$3,videoUploader:b("LiveCreativeKitStore").getVideoUploader(),uploadState:this.state.uploadState,inputDisabled:this.state.inputDisabled,filename:this.state.introVideoFilename,hasRoundedBorder:!1,uploadText:b("LiveCreativeKitTextUtils").getUploadIntroVideoText(),durationThreshold:l,onTooLongVideoUpload:this.$4,videoID:this.state.introVideoID}),c=this.$5();return b("React").createElement(i,{isOptional:!0,titleText:b("LiveCreativeKitTextUtils").getIntroVideoTitleText(),inputElement:a,explanationText:b("LiveCreativeKitTextUtils").getIntroVideoExplanationText(),errorMessage:c&&c.message,errorSeverity:c&&c.severity})};a.prototype.$1=function(a){"use strict";b("LiveCreativeKitActions").onUploadStateChange(a,b("LiveCreativeKitInputTypes").INTRO_VIDEO)};a.prototype.$5=function(){"use strict";__p&&__p();if(this.state.uploadState!==b("LiveCreativeKitUploadState").NOT_STARTED)return null;var a=this.state.introVideoDuration,c=this.state.introVideoDimensions;if(this.state.shouldShowError)return{message:b("LiveCreativeKitTextUtils").getTooLongIntroMessage(),severity:j.ERROR};else if(!!a&&a>k)return{message:b("LiveCreativeKitTextUtils").getTooLongIntroMessage(Math.round(a*100)/100),severity:j.WARNING};else if(c&&c.width>c.height)return{message:b("LiveCreativeKitTextUtils").getLandscapeVideoWarning(c),severity:j.WARNING};else return null};e.exports=b("FluxContainer").create(a)}),null);
__d("XLiveTemplateRemoveStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/showpages/live_template/live_sticker/remove/",{sticker_id:{type:"FBID",required:!0},template_id:{type:"FBID"},owner_id:{type:"FBID",required:!0}})}),null);
__d("LiveCreativeKitLiveSticker.react",["cx","fbt","AsyncUploadRequest","ErrorDialog","Image.react","Layout.react","Link.react","LiveCreativeKitActions","React","XLiveTemplateRemoveStickerController","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";__p&&__p();i.constructor.call(this,a),this.$1=function(){__p&&__p();var a=b("XLiveTemplateRemoveStickerController").getURIBuilder().setFBID("sticker_id",this.props.sticker.id.toString()).setFBID("owner_id",this.props.ownerID.toString());this.props.templateID&&a.setFBID("template_id",this.props.templateID.toString());a=new(b("AsyncUploadRequest"))().setURI(a.getURI()).setAllowCrossOrigin(!1);a.subscribe("failure",function(a,c){if(c.getResponse()===null)return;this.setState({isProcessingRequest:!1});b("ErrorDialog").showAsyncError(c.getResponse().errorDescription)}.bind(this));a.subscribe("success",function(a,c){this.setState({isProcessingRequest:!1},function(){return b("LiveCreativeKitActions").removeLiveSticker(this.props.sticker.id)}.bind(this))}.bind(this));a.send();this.setState({isProcessingRequest:!0})}.bind(this),this.state={isProcessingRequest:!1}}a.prototype.render=function(){"use strict";return this.state.isProcessingRequest?b("React").createElement("div",{className:"_27e2"},b("React").createElement(b("XUISpinner.react"),{size:"large"})):b("React").createElement(b("Layout.react"),{className:"_27e3"},b("React").createElement(j,null,b("React").createElement("span",{className:"_27e4"},b("React").createElement(b("Image.react"),{src:this.props.sticker.uri.toString()}))),b("React").createElement(k,{className:"_27e5"},b("React").createElement(b("XUIText.react"),{display:"block",className:"_27e6"},this.props.sticker.filename),b("React").createElement(b("Link.react"),{onClick:this.$1},b("React").createElement(b("XUIText.react"),{display:"block",className:"_27e7"},h._("Remove")))))};e.exports=a}),null);
__d("XLiveCreativeKitDeleteStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_creative_kit/live_sticker/delete/",{sticker_id:{type:"FBID",required:!0},owner_id:{type:"FBID",required:!0}})}),null);
__d("XShowPagesLiveTemplateLiveStickerUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/showpages/live_template/live_sticker/upload/",{owner_id:{type:"FBID",required:!0}})}),null);
__d("LiveCreativeKitLiveStickersInputViewContainer.react",["cx","fbt","AsyncUploadRequest","LiveCreativeKitDispatcher","ErrorDialog","FileInput.react","FluxContainer","Link.react","LiveCreativeKitActions","LiveCreativeKitLiveSticker.react","LiveCreativeKitStore","LiveCreativeKitTextUtils","LiveCreativeKitUploadElement.react","LiveCreativeKitUploadState","React","ShowsLiveTemplateWaterfallEventName","ShowsLiveTemplateWaterfallTypedLogger","XLiveCreativeKitDeleteStickerController","XShowPagesLiveTemplateLiveStickerUploadController","LiveCreativeKitDetailsRow.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("LiveCreativeKitDetailsRow.react").LiveCreativeKitDetailsRow;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(event){__p&&__p();if(this.state.liveStickers.count()>=b("LiveCreativeKitStore").getMaxLiveStickers())return;var a=b("XShowPagesLiveTemplateLiveStickerUploadController").getURIBuilder().setFBID("owner_id",this.state.ownerID.toString()).getURI();a=new(b("AsyncUploadRequest"))(a).setAllowCrossOrigin(!0).setFiles({file:event.target.files});a.subscribe("success",function(a,b){this.$3(b)}.bind(this));a.subscribe("failure",function(a,b){this.$4(b)}.bind(this));a.send();this.refs.fileInput.getFileInput().clear();b("LiveCreativeKitActions").liveStickerUploading();this.$5()}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";b("LiveCreativeKitDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores()))};a.getStores=function(){"use strict";return[b("LiveCreativeKitStore")]};a.calculateState=function(a){"use strict";a=b("LiveCreativeKitStore").getState();return{liveStickers:a.liveStickers,isInputDisabled:b("LiveCreativeKitStore").isInputDisabled(),liveStickerUploadState:a.liveStickersUploadState,templateID:a.templateID,ownerID:b("LiveCreativeKitStore").getOwnerID()}};a.prototype.render=function(){"use strict";var a=this.state.liveStickerUploadState!==b("LiveCreativeKitUploadState").NOT_STARTED,c=null;!a&&this.state.liveStickers.count()<b("LiveCreativeKitStore").getMaxLiveStickers()&&(c=b("React").createElement(b("FileInput.react"),{accept:".png",multiple:!0,ref:"fileInput",disabled:this.state.isInputDisabled,onChange:this.$1},b("React").createElement(b("Link.react"),{className:"_3-cj"},b("React").createElement(b("LiveCreativeKitUploadElement.react"),{filename:"",hasRoundedBorder:!0,uploadText:b("LiveCreativeKitTextUtils").getUploadLiveStickerText()}))));return b("React").createElement(j,{isOptional:!0,titleText:b("LiveCreativeKitTextUtils").getLiveStickersTitleText(),inputElement:c,explanationText:b("LiveCreativeKitTextUtils").getLiveStickersExplanationText(),shouldShowProgressSpinner:a,activeLiveStickers:this.$2(),errorMessage:null,errorSeverity:null})};a.prototype.$2=function(){"use strict";if(!this.state.liveStickers)return null;var a=this.state.liveStickers.map(function(a,c){return b("React").createElement("div",{className:c!==0?"_3-8x":"",key:a.id},b("React").createElement(b("LiveCreativeKitLiveSticker.react"),{sticker:a,templateID:this.state.templateID,ownerID:this.state.ownerID}))}.bind(this));return b("React").createElement("div",null,a)};a.prototype.$3=function(a){"use strict";__p&&__p();a=a.getResponse();var c=a.payload;if(c.success===!1){b("ErrorDialog").show(h._("Failed to upload live sticker."),c.failureReason);b("LiveCreativeKitActions").liveStickerUploadFailed();this.$6(a);return}this.state.liveStickers.count()<b("LiveCreativeKitStore").getMaxLiveStickers()?(b("LiveCreativeKitActions").addLiveSticker(c.stickerData.stickerID,c.stickerData.filename,c.stickerData.uri),this.$7(a)):this.$8(c.stickerData.stickerID)};a.prototype.$4=function(a){"use strict";b("LiveCreativeKitActions").liveStickerUploadFailed(),this.$6(a.getResponse())};a.prototype.$5=function(){"use strict";new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").LIVE_STICKER_UPLOAD_STARTED).setOwnerID(this.state.ownerID).setLiveTemplateID(this.state.templateID).log()};a.prototype.$7=function(a){"use strict";new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").LIVE_STICKER_UPLOAD_SUCCESS).setOwnerID(this.state.ownerID).setLiveTemplateID(this.state.templateID).setLiveStickerID(a.payload.stickerData.stickerID).log()};a.prototype.$6=function(a){"use strict";var c=new(b("ShowsLiveTemplateWaterfallTypedLogger"))();c.setEventName(b("ShowsLiveTemplateWaterfallEventName").LIVE_STICKER_UPLOAD_FAIL).setOwnerID(this.state.ownerID).setLiveTemplateID(this.state.templateID);a!==null&&(a.payload!==null?c.updateExtraData({failureReason:a.payload.failureReason}):c.updateExtraData({errorID:a.error,errorSummary:a.errorSummary,errorDescription:a.errorDescription}));c.log()};a.prototype.$8=function(a){"use strict";a=b("XLiveCreativeKitDeleteStickerController").getURIBuilder().setFBID("sticker_id",a.toString()).setFBID("owner_id",this.state.ownerID.toString()).getURI();a=new(b("AsyncUploadRequest"))().setURI(a).setAllowCrossOrigin(!1);a.send()};e.exports=b("FluxContainer").create(a)}),null);
__d("LiveCreativeKitOutroInputViewContainer.react",["FluxContainer","React","LiveCreativeKitActions","LiveCreativeKitDispatcher","LiveCreativeKitInputTypes","LiveCreativeKitStore","LiveCreativeKitTextUtils","LiveCreativeKitUploadState","LiveCreativeKitVideoUploader.react","ShowsLiveTemplateWaterfallEventName","ShowsLiveTemplateWaterfallTypedLogger","LiveCreativeKitDetailsRow.react"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("LiveCreativeKitDetailsRow.react").LiveCreativeKitDetailsRow,i=b("LiveCreativeKitDetailsRow.react").Severity,j=30,k=60;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$3=function(){this.setState({shouldShowError:!1}),new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").OUTRO_UPLOAD_STARTED).setOwnerID(this.state.ownerID).setLiveTemplateID(this.state.templateID).log()}.bind(this),this.$2=function(a,c,d,e){b("LiveCreativeKitActions").onVideoChange(a,c,d,e,b("LiveCreativeKitInputTypes").OUTRO_VIDEO),new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").OUTRO_VIDEO_CHANGED).setOwnerID(this.state.ownerID).setLiveTemplateID(this.state.templateID).setOutroVideoID(a).setOutroVideoDuration(Math.floor(d)).log()}.bind(this),this.$4=function(){this.setState({shouldShowError:!0})}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";b("LiveCreativeKitDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores()))};a.getStores=function(){"use strict";return[b("LiveCreativeKitStore")]};a.calculateState=function(a){"use strict";var c=b("LiveCreativeKitStore").getState();return{ownerID:b("LiveCreativeKitStore").getOwnerID(),ownerType:b("LiveCreativeKitStore").getOwnerType(),templateID:c.templateID,outroVideoID:c.outroVideoID,uploadState:c.outroVideoUploadState,outroVideoFilename:c.outroVideoFilename,inputDisabled:b("LiveCreativeKitStore").isInputDisabled(),shouldShowError:a?a.shouldShowError:!1,outroVideoDuration:c.outroVideoDuration,outroVideoDimensions:c.outroVideoDimensions}};a.prototype.render=function(){"use strict";var a=b("React").createElement(b("LiveCreativeKitVideoUploader.react"),{inputType:b("LiveCreativeKitInputTypes").OUTRO_VIDEO,ownerID:this.state.ownerID,ownerType:this.state.ownerType,templateID:this.state.templateID,onUploadStateChange:this.$1,onVideoChange:this.$2,onUploadStart:this.$3,videoUploader:b("LiveCreativeKitStore").getVideoUploader(),uploadState:this.state.uploadState,inputDisabled:this.state.inputDisabled,filename:this.state.outroVideoFilename,hasRoundedBorder:!1,uploadText:b("LiveCreativeKitTextUtils").getUploadOutroVideoText(),durationThreshold:k,onTooLongVideoUpload:this.$4,videoID:this.state.outroVideoID}),c=this.$5();return b("React").createElement(h,{isOptional:!0,titleText:b("LiveCreativeKitTextUtils").getOutroVideoTitleText(),inputElement:a,explanationText:b("LiveCreativeKitTextUtils").getOutroVideoExplanationText(),errorMessage:c&&c.message,errorSeverity:c&&c.severity})};a.prototype.$1=function(a){"use strict";b("LiveCreativeKitActions").onUploadStateChange(a,b("LiveCreativeKitInputTypes").OUTRO_VIDEO)};a.prototype.$5=function(){"use strict";__p&&__p();if(this.state.uploadState!==b("LiveCreativeKitUploadState").NOT_STARTED)return null;var a=this.state.outroVideoDuration,c=this.state.outroVideoDimensions;if(this.state.shouldShowError)return{message:b("LiveCreativeKitTextUtils").getTooLongOutroMessage(),severity:i.ERROR};else if(!!a&&a>j)return{message:b("LiveCreativeKitTextUtils").getTooLongOutroMessage(Math.round(a*100)/100),severity:i.WARNING};else if(c&&c.width>c.height)return{message:b("LiveCreativeKitTextUtils").getLandscapeVideoWarning(c),severity:i.WARNING};else return null};e.exports=b("FluxContainer").create(a)}),null);
__d("LiveCreativeKitDetailsView.react",["cx","fbt","React","LiveCreativeKitIntroInputViewContainer.react","LiveCreativeKitOutroInputViewContainer.react","LiveCreativeKitLiveStickersInputViewContainer.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_4u25"},b("React").createElement("div",{className:"_4u26"},b("React").createElement(b("XUIGrayText.react"),{size:"header4"},h._("Details")),b("React").createElement("div",{className:"_4u27 mtl"},b("React").createElement("div",{className:"_4u28"},b("React").createElement(b("LiveCreativeKitIntroInputViewContainer.react"),null),b("React").createElement("div",{className:"_4u2j"},b("React").createElement(b("LiveCreativeKitOutroInputViewContainer.react"),null)),b("React").createElement("div",{className:"_4u2j"},b("React").createElement(b("LiveCreativeKitLiveStickersInputViewContainer.react"),null))))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("LiveCreativeKitOverlayPreview.react",["cx","Image.react","immutable","MediaEffectFramePhonePreviewContainer.react","React","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=275;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=16*i/9,c=this.props.liveStickers.map(function(a,c){return b("React").createElement("span",{key:c,className:"_3ia-"},b("React").createElement(b("Image.react"),{src:a.uri.toString()}))});return b("React").createElement("div",{className:"_3ia_"},b("React").createElement(b("MediaEffectFramePhonePreviewContainer.react"),{previewHeight:a,previewWidth:i,previewImage:this.props.liveStickers.size===0?null:"/images/video/shows/live_template/stickers_overlay.png"}),b("React").createElement("div",{className:"_3ib0"},c))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("LiveCreativeKitVideoPreview.react",["cx","ix","Image.react","React","VideoComponentCover.react","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoDataContainer.react","VideoPlayer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("React").PropTypes;var j=630,k=305,l=483,m=273,n=15,o=63;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.$1(this.props.videoDimensions);return b("React").createElement("div",{className:"_1pc0"},b("React").createElement("div",{className:"_e4l"},b("React").createElement(b("Image.react"),{height:j,width:k,src:h("86664")})),b("React").createElement("div",{style:{width:m,height:l,top:o,left:n},className:"_e4m"},b("React").createElement("div",{className:"_e4n"},b("React").createElement(b("VideoDataContainer.react"),{renderLoading:function(){return b("VideoDataContainer.react").renderSpinner(a.width,a.height)},videoID:this.props.videoID.toString()},b("React").createElement(b("VideoPlayer.react"),{className:"_e4o",videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,height:a.height,width:a.width,autoplay:!0},b("React").createElement(b("VideoComponentCover.react"),{clickToSnowLift:!1}),b("React").createElement(b("VideoComponentPlayButton.react"),null),b("React").createElement(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!1,showFullscreenButton:!1}))))))};a.prototype.$1=function(a){var b=a.height/l,c=a.width/m;if(b>=1&&c>=1)return{height:l,width:m};else if(b>1)return{height:l,width:Math.round(a.width/b)};else return{height:Math.round(a.height/c),width:m}};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("LiveCreativeKitReviewViewContainer.react",["cx","fbt","LiveCreativeKitActions","LiveCreativeKitDispatcher","FluxContainer","immutable","LiveCreativeKitStore","LiveCreativeKitOverlayPreview.react","LiveCreativeKitVideoPreview.react","LiveCreativeKitPreviewTabs","React","TabBar.react","TabBarItem.react","URI","expectationViolation","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){if(this.$4(a))return;b("LiveCreativeKitActions").previewCurrentTabChange(a)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){b("LiveCreativeKitDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores()))};a.getStores=function(){return[b("LiveCreativeKitStore")]};a.calculateState=function(a){a=b("LiveCreativeKitStore").getState();return{selectedTab:a.previewSelectedTab,introVideoID:a.introVideoID,outroVideoID:a.outroVideoID,introVideoDimensions:a.introVideoDimensions,outroVideoDimensions:a.outroVideoDimensions,liveStickers:a.liveStickers}};a.prototype.render=function(){return b("React").createElement("div",{className:"_61br"},b("React").createElement("div",{className:"_61bs"},b("React").createElement("div",{className:"_61bt"},this.$1(this.state.selectedTab)),b("React").createElement("div",{className:"_61bu"},b("React").createElement("div",{className:"_--e"},b("React").createElement(b("TabBar.react"),{className:"_--f",onTabClick:this.$2,activeTabKey:this.state.selectedTab},this.$3())))))};a.prototype.$3=function(){var a=b("immutable").List(Object.keys(b("LiveCreativeKitPreviewTabs")));return a.map(function(c,d){return b("React").createElement(b("TabBarItem.react"),{key:c,className:"_--v"+(d!=a.count()-1?" _--w":"")+(this.state.selectedTab==c?" _--x":"")+(this.$4(c)?" _--y":"")},b("React").createElement("div",{className:"_-_0"},this.$5(c)))}.bind(this))};a.prototype.$4=function(a){switch(a){case b("LiveCreativeKitPreviewTabs").INTRO:return!this.state.introVideoID;case b("LiveCreativeKitPreviewTabs").OUTRO:return!this.state.outroVideoID;default:return!1}};a.prototype.$5=function(a){switch(a){case b("LiveCreativeKitPreviewTabs").INTRO:return h._("Intro Video");case b("LiveCreativeKitPreviewTabs").OVERLAY:return h._("Frame and Stickers");case b("LiveCreativeKitPreviewTabs").OUTRO:return h._("Outro Video");default:b("expectationViolation")("Invalid tab name: %s",a);return null}};a.prototype.$1=function(a){__p&&__p();if(this.$4(a))return null;switch(a){case b("LiveCreativeKitPreviewTabs").INTRO:if(this.state.introVideoID===null||this.state.introVideoDimensions===null){b("expectationViolation")("VideoID and dimensions cannot be null at this point");return null}return b("React").createElement(b("LiveCreativeKitVideoPreview.react"),{videoID:b("nullthrows")(this.state.introVideoID),videoDimensions:b("nullthrows")(this.state.introVideoDimensions)});case b("LiveCreativeKitPreviewTabs").OUTRO:if(this.state.outroVideoID===null||this.state.outroVideoDimensions===null){b("expectationViolation")("VideoID and dimensions cannot be null at this point");return null}return b("React").createElement(b("LiveCreativeKitVideoPreview.react"),{videoID:b("nullthrows")(this.state.outroVideoID),videoDimensions:b("nullthrows")(this.state.outroVideoDimensions)});case b("LiveCreativeKitPreviewTabs").OVERLAY:return b("React").createElement(b("LiveCreativeKitOverlayPreview.react"),{liveStickers:this.state.liveStickers});default:return null}};e.exports=b("FluxContainer").create(a)}),null);
__d("LiveCreativeKitDialogBodyContainer.react",["cx","LiveCreativeKitDispatcher","FluxContainer","LiveCreativeKitAudienceModal.react","LiveCreativeKitDetailsView.react","LiveCreativeKitReviewViewContainer.react","LiveCreativeKitStore","MediaEffectMultistepFrameEditor.react","React","LiveCreativeKitViewType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.UNSAFE_componentWillMount=function(){b("LiveCreativeKitDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores()))};a.getStores=function(){return[b("LiveCreativeKitStore")]};a.calculateState=function(a,c){return{currentView:b("LiveCreativeKitStore").getState().currentView,ownerData:b("LiveCreativeKitStore").getOwnerData(),shouldShowAudienceModal:b("LiveCreativeKitStore").shouldShowAudienceModal(c.isDialogShown)}};a.prototype.render=function(){__p&&__p();var a=null;switch(this.state.currentView){case b("LiveCreativeKitViewType").OVERLAY:a=this.$1(this.props);break;case b("LiveCreativeKitViewType").DETAILS:a=b("React").createElement(b("LiveCreativeKitDetailsView.react"),null);break;case b("LiveCreativeKitViewType").REVIEW:a=b("React").createElement(b("LiveCreativeKitReviewViewContainer.react"),null);break;default:a=null;break}return b("React").createElement("div",{className:"_e4k"},this.$2(),a)};a.prototype.$2=function(){return!this.state.shouldShowAudienceModal?null:b("React").createElement(b("LiveCreativeKitAudienceModal.react"),{ownerData:this.state.ownerData})};a.prototype.$1=function(a){return b("React").createElement(b("MediaEffectMultistepFrameEditor.react"),{context:this.props.context,flowType:this.props.flowType,inlineNUXType:this.props.inlineNUXType,frameEditorBootstrapData:this.props.frameEditorBootstrapData,bootstrapData:this.props.bootstrapData,currentStep:this.props.currentStep,maxFrameOpaquePercentageAllowed:this.props.maxFrameOpaquePercentageAllowed,showInlineNUX:!1})};function a(){h.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveCreativeKitDialogProgressBar.react",["cx","React","LiveCreativeKitTextUtils","LiveCreativeKitViewType","XUIStepper.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;var i=b("XUIStepper.react").Step;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=[b("LiveCreativeKitViewType").OVERLAY,b("LiveCreativeKitViewType").DETAILS,b("LiveCreativeKitViewType").REVIEW],c=a.findIndex(function(a){return a===this.props.currentView}.bind(this));a=a.map(function(a,d){return b("React").createElement(i,{key:d,className:(d<c?"_38vg":"")+(d>c?" _38vh":"")},b("LiveCreativeKitTextUtils").getNameForView(a))});return b("React").createElement(b("XUIStepper.react"),{className:"_38vi",currentStep:c,size:"small"},a)};function a(){"use strict";h.apply(this,arguments)}a.propTypes={currentView:c.string.isRequired};e.exports=a}),null);
__d("SwipeableFrameParam",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FBID:"fbid",NAME:"name",TARGETING_GK:"fb_eligibility_gks",START_TIME:"start_time",END_TIME:"end_time",OWNER:"media_effect_owner",FLOW_TYPE:"flow_type",CREATION_REFERRER:"creation_referrer",STICKERS:"stickers",TEXT:"text",STICKER_EDGES:"sticker_edges",TEXT_EDGES:"text_edges",TRANSPARENT_OVERLAY:"transparent_overlay",FILTER_ID:"filter_id",THUMBNAIL_FILE:"thumbnail_file",PROD_EFFECT:"prod_effect",INSTAGRAM_ATTRIBUTION_ID:"instagram_attribution_id",COLOR_PALETTE:"color_palette",VARIANT_OF_TEMPLATE:"variant_of_template",FRAME_RATE:"frame_rate",IS_LOOPING:"is_looping",CATEGORIES:"categories"})}),null);
__d("XLiveCreativeKitSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_creative_kit/save/",{creation_referrer:{type:"Enum",enumType:1},owner_id:{type:"FBID"},live_template_id:{type:"FBID"},intro_video_id:{type:"FBID"},intro_video_filename:{type:"String"},outro_video_id:{type:"FBID"},outro_video_filename:{type:"String"},live_sticker_ids:{type:"FBIDVector",defaultValue:[]},has_uploaded_custom_frame:{type:"Bool",defaultValue:!1}})}),null);
__d("LiveCreativeKitDialogFooterContainer.react",["cx","fbt","invariant","regeneratorRuntime","Arbiter","AsyncUploadRequest","ErrorDialog","FluxContainer","immutable","Layout.react","LiveCreativeKitActions","LiveCreativeKitCloseDialogArbiterEvent","LiveCreativeKitDialogProgressBar.react","LiveCreativeKitDispatcher","LiveCreativeKitStore","LiveCreativeKitViewType","LiveCreativeKitViewUtils","MediaEffectMetadataStore","MediaEffectUploadManager","MediaEffectReactFrameEditorDataStore","MediaEffectReactFrameSerializer","React","ShowsLiveTemplateWaterfallEventName","ShowsLiveTemplateWaterfallTypedLogger","SwipeableFrameParam","XLiveCreativeKitSaveController","XUIButton.react","XUIDialogFooter.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$7=function(){b("LiveCreativeKitActions").handleGoToNextView(this.state.currentView)}.bind(this),this.$9=function(){b("LiveCreativeKitActions").handleGoToPreviousView(this.state.currentView)}.bind(this),this.$10=function(){this.$11()}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){b("LiveCreativeKitDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores()))};a.getStores=function(){return[b("LiveCreativeKitStore")]};a.calculateState=function(a,c){var d=b("LiveCreativeKitStore").getState();return{ownerID:b("LiveCreativeKitStore").getOwnerID(),currentView:d.currentView,isInputDisabled:b("LiveCreativeKitStore").isInputDisabled(),isSubmitEnabled:b("LiveCreativeKitStore").canSubmit(c.hasUploadedFrameAssets),submitting:a?a.submitting:!1}};a.prototype.render=function(){var a=void 0;switch(this.state.currentView){case b("LiveCreativeKitViewType").OVERLAY:a=this.$1();break;case b("LiveCreativeKitViewType").DETAILS:a=this.$2();break;case b("LiveCreativeKitViewType").REVIEW:a=this.$3();break}return b("React").createElement(b("XUIDialogFooter.react"),{className:"_3bvc"},b("React").createElement(b("Layout.react"),{className:"_3bvd"},b("React").createElement(l,null,b("React").createElement(b("LiveCreativeKitDialogProgressBar.react"),{currentView:this.state.currentView})),b("React").createElement(k,{className:"_3bve"},a)))};a.prototype.$1=function(){return[b("React").createElement(b("XUIButton.react"),{key:this.state.currentView+"_cancel",className:"_2pi8",disabled:this.$4(),label:h._("Cancel"),onClick:this.$5}),b("React").createElement(b("XUIButton.react"),{key:this.state.currentView+"_next",className:"_2pi8",use:"confirm",disabled:this.$6(),label:h._("Next"),onClick:this.$7})]};a.prototype.$2=function(){return[b("React").createElement(b("XUIButton.react"),{key:this.state.currentView+"_back",className:"_2pi8",disabled:this.$8(),label:h._("Back"),onClick:this.$9}),b("React").createElement(b("XUIButton.react"),{key:this.state.currentView+"_next",className:"_2pi8",use:"confirm",disabled:this.$6(),label:h._("Next"),onClick:this.$7})]};a.prototype.$3=function(){return[b("React").createElement(b("XUIButton.react"),{key:this.state.currentView+"_back",disabled:this.$8(),className:"_2pi8",label:h._("Back"),onClick:this.$9}),b("React").createElement(b("XUIButton.react"),{key:this.state.currentView+"_submit",className:"_2pi8",use:"confirm",disabled:!this.state.isSubmitEnabled||this.state.submitting,label:h._("Submit"),onClick:this.$10})]};a.prototype.$5=function(){b("Arbiter").inform(b("LiveCreativeKitCloseDialogArbiterEvent").EVENT_NAME)};a.prototype.$8=function(){var a=b("LiveCreativeKitViewUtils").hasPreviousView(this.state.currentView);return this.state.isInputDisabled||!a||this.state.submitting};a.prototype.$6=function(){var a=b("LiveCreativeKitViewUtils").hasNextView(this.state.currentView);return this.state.isInputDisabled||!a||this.props.isUploadingFrameAssets};a.prototype.$4=function(){return this.state.isInputDisabled||this.props.isUploadingFrameAssets};a.prototype.$11=function(){__p&&__p();var a,c,d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:a=b("LiveCreativeKitStore").getState();if(this.state.isSubmitEnabled){g.next=3;break}return g.abrupt("return");case 3:c=b("XLiveCreativeKitSaveController").getURIBuilder().setFBID("owner_id",this.state.ownerID.toString());a.templateID!=null&&c.setFBID("live_template_id",a.templateID.toString());a.introVideoID!=null&&c.setFBID("intro_video_id",a.introVideoID.toString()).setString("intro_video_filename",a.introVideoFilename);a.outroVideoID!=null&&c.setFBID("outro_video_id",a.outroVideoID.toString()).setString("outro_video_filename",a.outroVideoFilename);c.setFBIDVector("live_sticker_ids",a.liveStickers.map(function(a){return a.id.toString()}).toArray()).setBool("has_uploaded_custom_frame",this.props.hasUploadedFrameAssets);g.next=10;return b("regeneratorRuntime").awrap(this.$12());case 10:d=g.sent,e={thumbnail_file:d.thumbnail},f=new(b("AsyncUploadRequest"))().setURI(c.getURI()).setAllowCrossOrigin(!1).setData(d).setFiles(e),f.subscribe("failure",function(a,c){if(c.getResponse()===null)return;b("ErrorDialog").showAsyncError(c.getResponse().errorDescription);this.setState({submitting:!1});this.$13(c.getResponse())}.bind(this)),f.subscribe("success",function(a,c){a=c.getResponse().payload;b("LiveCreativeKitActions").handleSaveResponse(a);b("MediaEffectUploadManager").informUploadDone(a);this.$14(a.templateID);this.setState({submitting:!1},function(){return b("Arbiter").inform(b("LiveCreativeKitCloseDialogArbiterEvent").EVENT_NAME)})}.bind(this)),f.send(),b("LiveCreativeKitActions").uploadStarted(),this.setState({submitting:!0}),this.$15();case 19:case"end":return g.stop()}},null,this)};a.prototype.$12=function(){__p&&__p();var a,c,d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(b("MediaEffectReactFrameSerializer").genSerializeFrame(b("MediaEffectReactFrameEditorDataStore").getState()));case 2:a=g.sent;c=b("immutable").Map(a);d=this.props.isFBOnly;e=b("immutable").Map(b("MediaEffectMetadataStore").getRequestData(d)).withMutations(function(a){c.toSeq().forEach(function(b,c){a.set(c,b)});var d=this.state.ownerID.toString();a.set("name",d);a.set(b("SwipeableFrameParam").OWNER,d)}.bind(this)).toObject();f=this.props.effectID;String(e.fbid)===String(f)||i(0);return g.abrupt("return",e);case 9:case"end":return g.stop()}},null,this)};a.prototype.$15=function(){new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").SUBMIT_CLICKED).setOwnerID(this.state.ownerID).log()};a.prototype.$13=function(a){new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").SUBMIT_FAIL).setOwnerID(this.state.ownerID).updateExtraData({submitErrorID:a.error,submitErrorSummary:a.errorSummary,submitErrorDescription:a.errorDescription}).log()};a.prototype.$14=function(a){new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").SUBMIT_SUCCESS).setLiveTemplateID(a).setOwnerID(this.state.ownerID).log()};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveCreativeKitDialogFooterContainerContainer.react",["FluxContainer","LiveCreativeKitDialogFooterContainer.react","MediaEffectReactFrameEditorDataStore","MediaEffectMetadataStore","React"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getStores=function(){"use strict";return[b("MediaEffectMetadataStore"),b("MediaEffectReactFrameEditorDataStore")]};a.calculateState=function(a){"use strict";a=b("MediaEffectMetadataStore").getState();return{isFBOnly:a.get("fbOnlyMediaRestriction"),effectID:a.get("id"),isUploadingFrameAssets:!b("MediaEffectReactFrameEditorDataStore").areAllImageAssetsUploaded(),hasUploadedFrameAssets:b("MediaEffectReactFrameEditorDataStore").isValidForSubmit()}};a.prototype.render=function(){"use strict";return b("React").createElement(b("LiveCreativeKitDialogFooterContainer.react"),this.state)};function a(){"use strict";g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("LiveCreativeKitDialogContainer.react",["cx","FluxContainer","LiveCreativeKitDialogBodyContainer.react","LiveCreativeKitDialogFooterContainerContainer.react","LiveCreativeKitTextUtils","MediaEffectCreationReferrer","MediaEffectFrameCreateDialogDataStore","MediaEffectFrameEditorDispatcher","MediaEffectMetadataActionCreators","MediaEffectMetadataStore","MediaEffectReactFrameEditorDataStore","MediaEffectReactFrameEditorCanvasDataStore","MediaEffectTemplateDataStore","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=1e3,j=800;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.getStores=function(){"use strict";return[b("MediaEffectFrameCreateDialogDataStore")]};a.getImplicitlyStores=function(){"use strict";return[b("MediaEffectReactFrameEditorDataStore"),b("MediaEffectReactFrameEditorCanvasDataStore"),b("MediaEffectMetadataStore"),b("MediaEffectTemplateDataStore")]};a.calculateState=function(a,c){"use strict";return{currentStep:b("MediaEffectFrameCreateDialogDataStore").getState().currentStep}};a.prototype.UNSAFE_componentWillMount=function(){"use strict";__p&&__p();b("MediaEffectFrameEditorDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores()));b("MediaEffectFrameEditorDispatcher").explicitlyRegisterStores([].concat(this.constructor.getImplicitlyStores()));var a=this.props,c=a.bootstrapData;a=a.frameEditorBootstrapData;b("MediaEffectMetadataActionCreators").addSystemColorPalettes(a.colorPalettes);b("MediaEffectMetadataActionCreators").addFontData(a.fontData);b("MediaEffectMetadataActionCreators").initEffectMetadata(c);a.frameData&&(a.frameData.source_template_id=c.metadataJSData.sourceTemplateID);b("MediaEffectMetadataActionCreators").initFrameData(a.frameData);b("MediaEffectMetadataActionCreators").initDialog(b("MediaEffectCreationReferrer").LIVE_CREATIVE_KIT,this.props.flowType,this.props.bootstrapData,this.props.sourceID);b("MediaEffectMetadataActionCreators").setScreenDimensions(i,j,this.props.flowType)};a.prototype.render=function(){"use strict";return!this.props.isShown?null:b("React").createElement(b("XUIDialog.react"),{className:"_4c44",causalElementRef:function(){return this.refs.editTemplateLink}.bind(this),layerHideOnBlur:!1,layerDestroyOnHide:!0,shown:this.props.isShown,onToggle:this.props.onToggle,titleID:"live-creative-kit-dialog-title",height:j,width:i},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},b("React").createElement("span",{id:"live-creative-kit-dialog-title"},b("LiveCreativeKitTextUtils").getLiveTemplateTitleText())),b("React").createElement(b("XUIDialogBody.react"),{className:"_4c45"},b("React").createElement(b("LiveCreativeKitDialogBodyContainer.react"),{context:this.props.context,flowType:this.props.flowType,inlineNUXType:this.props.inlineNUXType,frameEditorBootstrapData:this.props.frameEditorBootstrapData,bootstrapData:this.props.bootstrapData,currentStep:this.state.currentStep,showInlineNUX:!1,isDialogShown:this.props.isShown,maxFrameOpaquePercentageAllowed:this.props.maxFrameOpaquePercentageAllowed})),b("React").createElement(b("LiveCreativeKitDialogFooterContainerContainer.react"),null))};function a(){"use strict";h.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XLiveCreativeKitDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_creative_kit/delete_lck/",{template_id:{type:"FBID",required:!0},owner_id:{type:"FBID",required:!0}})}),null);
__d("LiveCreativeKitSettingSection.react",["cx","fbt","Arbiter","AsyncUploadRequest","ErrorDialog","Layout.react","Link.react","LiveCreativeKitCloseDialogArbiterEvent","LiveCreativeKitDialogContainer.react","LiveCreativeKitOwnerType","LiveCreativeKitTextUtils","React","ReactDOM","ReloadPage","ShowsLiveTemplateWaterfallEventName","ShowsLiveTemplateWaterfallTypedLogger","XLiveCreativeKitDeleteController","XUISpinner.react","XUIText.react","expectationViolation"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";__p&&__p();i.constructor.call(this,a),this.$7=function(){__p&&__p();var a=this.props.templateID;if(!a){b("expectationViolation")("Template ID cannot be null");return}a=b("XLiveCreativeKitDeleteController").getURIBuilder().setFBID("template_id",a.toString()).setFBID("owner_id",this.props.ownerID.toString());a=new(b("AsyncUploadRequest"))().setURI(a.getURI()).setAllowCrossOrigin(!1);a.subscribe("failure",function(a,c){if(c.getResponse()===null)return;this.setState({isDeleting:!1});b("ErrorDialog").showAsyncError(c.getResponse().errorDescription)}.bind(this));a.subscribe("success",function(a,c){this.setState({isDeleting:!1},function(){b("ReloadPage").now()})}.bind(this));this.setState({isDeleting:!0});a.send()}.bind(this),this.$5=function(){if(this.state.isDeleting)return;this.setState({dialogShown:!0},function(){new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").DIALOG_OPENED).setOwnerID(this.props.ownerID).setLiveTemplateID(this.props.templateID).log()}.bind(this))}.bind(this),this.$1=function(a){this.setState({dialogShown:a},function(){a===!1&&b("ReactDOM").unmountComponentAtNode(this.refs.lckDialog)}.bind(this))}.bind(this),this.state={dialogShown:!1,isDeleting:!1}}a.prototype.componentDidMount=function(){"use strict";b("Arbiter").subscribe(b("LiveCreativeKitCloseDialogArbiterEvent").EVENT_NAME,function(){this.$1(!1)}.bind(this)),new(b("ShowsLiveTemplateWaterfallTypedLogger"))().setEventName(b("ShowsLiveTemplateWaterfallEventName").LIVE_TEMPLATE_SECTION_RENDERED).setOwnerID(this.props.ownerID).setLiveTemplateID(this.props.templateID).log()};a.prototype.render=function(){"use strict";var a=this.props.templateID?this.$2():this.$3(),c=null;this.props.ownerType===b("LiveCreativeKitOwnerType").PAGE&&(c=b("React").createElement("div",{className:"_293e"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},b("LiveCreativeKitTextUtils").getLiveTemplateSectionTitleText())));return b("React").createElement("div",null,c,b("React").createElement("div",null,b("React").createElement(b("Layout.react"),null,b("React").createElement(k,{className:"_3-8n"},b("React").createElement(b("XUIText.react"),{size:"meta1"},b("LiveCreativeKitTextUtils").getLiveTemplateAdminSettingsDescriptionText())),b("React").createElement(j,{className:"_3-9b"},b("React").createElement("div",{className:"_1nj_"},b("React").createElement("div",{className:"_1nk0"},a),b("React").createElement("div",{className:"_1nk1",ref:"lckDialog"},this.$4()))))))};a.prototype.$3=function(){"use strict";return b("React").createElement("div",{className:"_3-8m"},b("React").createElement(b("Link.react"),{ref:"editTemplateLink",onClick:this.$5},h._("Create")))};a.prototype.$2=function(){"use strict";return b("React").createElement("div",{className:"_3-8m"},b("React").createElement(b("Link.react"),{ref:"editTemplateLink",onClick:this.$5},h._("Edit")),this.$6())};a.prototype.$6=function(){"use strict";return this.state.isDeleting?b("React").createElement("span",{className:"_3-9a"},b("React").createElement(b("XUISpinner.react"),{size:"small"})):b("React").createElement("span",{className:"_3-9a"},b("React").createElement(b("Link.react"),{onClick:this.$7},h._("Delete")))};a.prototype.$4=function(){"use strict";return b("React").createElement(b("LiveCreativeKitDialogContainer.react"),babelHelpers["extends"]({},this.props.frameEditorData,{isShown:this.state.dialogShown,onToggle:this.$1}))};e.exports=a}),null);
__d("LiveCreativeKitSettingContainer.react",["LiveCreativeKitDispatcher","FluxContainer","React","LiveCreativeKitSettingSection.react","LiveCreativeKitActions","LiveCreativeKitStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.UNSAFE_componentWillMount=function(){b("LiveCreativeKitDispatcher").explicitlyRegisterStores([].concat(this.constructor.getStores())),b("LiveCreativeKitActions").initializeStore({templateData:this.props.templateData})};a.getStores=function(){return[b("LiveCreativeKitStore")]};a.calculateState=function(a){a=b("LiveCreativeKitStore").getState();return{templateID:a.templateID}};a.prototype.render=function(){return b("React").createElement(b("LiveCreativeKitSettingSection.react"),{frameEditorData:this.props.templateData.frameEditorData,ownerID:this.props.templateData.ownerData.id,ownerType:this.props.templateData.ownerData.type,templateID:this.state.templateID})};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);