if (self.CavalryLogger) { CavalryLogger.start_js(["1ukSw"]); }

__d("RightsManagerRulesRequestSource",[],(function(a,b,c,d,e,f){e.exports={MATCH_SETTINGS_DIALOG:"MATCH_SETTINGS_DIALOG",RULES_SELECTOR:"RULES_SELECTOR",RULES_TAB:"RULES_TAB"}}),null);
__d("VideoContainerTypeInVideoLibrary",[],(function(a,b,c,d,e,f){e.exports={LEGACY:"LEGACY",CONTAINED_POST_ATTACHMENT:"CONTAINED_POST_ATTACHMENT",SAY_THANKS_DEPRECATED:"SAY_THANKS_DEPRECATED",LOOK_NOW_DEPRECATED:"LOOK_NOW_DEPRECATED",BROADCAST:"BROADCAST",ALBUM_MULTIMEDIA_POST:"ALBUM_MULTIMEDIA_POST",UNLISTED:"UNLISTED",NO_STORY:"NO_STORY",GOODWILL_ANNIVERSARY_DEPRECATED:"GOODWILL_ANNIVERSARY_DEPRECATED",PROFILE_VIDEO:"PROFILE_VIDEO",DIRECT_INBOX:"DIRECT_INBOX",DIRECT_INBOX_REACTION:"DIRECT_INBOX_REACTION",STORYLINE:"STORYLINE",GROUP_POST:"GROUP_POST",ATLAS_VIDEO:"ATLAS_VIDEO",LIVE_PHOTO:"LIVE_PHOTO",TEMP_MULTIMEDIA_POST:"TEMP_MULTIMEDIA_POST",GOODWILL_ANNIVERSARY_PROMOTION_DEPRECATED:"GOODWILL_ANNIVERSARY_PROMOTION_DEPRECATED",GOODWILL_VIDEO_SHARE:"GOODWILL_VIDEO_SHARE",GOODWILL_VIDEO_PROMOTION:"GOODWILL_VIDEO_PROMOTION",MOMENTS_VIDEO:"MOMENTS_VIDEO",APP_REVIEW_SCREENCAST:"APP_REVIEW_SCREENCAST",VIDEO_COMMENT:"VIDEO_COMMENT",OFFERS_VIDEO:"OFFERS_VIDEO",JOB_APPLICATION_VIDEO:"JOB_APPLICATION_VIDEO",STORYLINE_WITH_EXTERNAL_MUSIC:"STORYLINE_WITH_EXTERNAL_MUSIC",JOB_OPENING_VIDEO:"JOB_OPENING_VIDEO",INSTANT_ARTICLE:"INSTANT_ARTICLE",PRODUCT_VIDEO:"PRODUCT_VIDEO",DIRECTED_POST_ATTACHMENT:"DIRECTED_POST_ATTACHMENT",PROFILE_INTRO_CARD:"PROFILE_INTRO_CARD",ISSUE_MODULE:"ISSUE_MODULE",GOODWILL_VIDEO_TOKEN_REQUIRED:"GOODWILL_VIDEO_TOKEN_REQUIRED",INSTANT_APPLICATION_PREVIEW:"INSTANT_APPLICATION_PREVIEW",REPLACE_VIDEO:"REPLACE_VIDEO",FACECAST_DVR:"FACECAST_DVR",PIXELCLOUD:"PIXELCLOUD",SLIDESHOW_SHAKR:"SLIDESHOW_SHAKR",INSPIRATION_VIDEO:"INSPIRATION_VIDEO",TAROT_DIGEST:"TAROT_DIGEST",SLIDESHOW_ANIMOTO:"SLIDESHOW_ANIMOTO",AUDIO_BROADCAST:"AUDIO_BROADCAST",LEARN:"LEARN",CULTURAL_MOMENT_DEPRECATED:"CULTURAL_MOMENT_DEPRECATED",PAGES_COVER_VIDEO:"PAGES_COVER_VIDEO",GOODWILL_VIDEO_CONTAINED_SHARE:"GOODWILL_VIDEO_CONTAINED_SHARE",DCO_AD_ASSET_FEED:"DCO_AD_ASSET_FEED",CONTAINED_POST_BROADCAST:"CONTAINED_POST_BROADCAST",QUICK_PROMOTION:"QUICK_PROMOTION",DYNAMIC_ITEM_DISPLAY_BUNDLE:"DYNAMIC_ITEM_DISPLAY_BUNDLE",AD_DERIVATIVE:"AD_DERIVATIVE",LIVE_CREATIVE_KIT_VIDEO:"LIVE_CREATIVE_KIT_VIDEO",ALOHA_SUPERFRAME:"ALOHA_SUPERFRAME",INSTAGRAM_VIDEO_COPY:"INSTAGRAM_VIDEO_COPY",ALOHA_CALL_VIDEO:"ALOHA_CALL_VIDEO",PROFILE_COVER_VIDEO:"PROFILE_COVER_VIDEO",PAGE_REVIEW_SCREENCAST:"PAGE_REVIEW_SCREENCAST",GAME_CLIP:"GAME_CLIP",WOODHENGE:"WOODHENGE"}}),null);
__d("VideoCopyrightRuleConditionType",[],(function(a,b,c,d,e,f){e.exports={UNDEFINED:"UNDEFINED",GEO:"GEO",MONITORING_TYPE:"MONITORING_TYPE",OVERLAP_DURATION:"OVERLAP_DURATION",VIDEO_EXPERIENCE:"VIDEO_EXPERIENCE",PUBLISHER_TYPE:"PUBLISHER_TYPE",MATCH_OVERLAP_PERCENTAGE:"MATCH_OVERLAP_PERCENTAGE",REFERENCE_OVERLAP_PERCENTAGE:"REFERENCE_OVERLAP_PERCENTAGE",PRIVACY:"PRIVACY",VALIDITY_PERIOD:"VALIDITY_PERIOD"}}),null);
__d("VideoCopyrightRuleOperatorType",[],(function(a,b,c,d,e,f){e.exports={UNDEFINED:"UNDEFINED",IS:"IS",IS_NOT:"IS_NOT",IN_SET:"IN_SET",NOT_IN_SET:"NOT_IN_SET",LESS_THAN:"LESS_THAN",LESS_THAN_OR_EQUAL:"LESS_THAN_OR_EQUAL",GREATER_THAN:"GREATER_THAN",GREATER_THAN_OR_EQUAL:"GREATER_THAN_OR_EQUAL"}}),null);
__d("AdsGenericFilterFieldConfigUtil",["invariant","AdsGenericFilterField"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b){a=h(a,b);a||g(0);return a}function h(a,b){__p&&__p();for(var c=Object.keys(a||{}),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=a?a[f]:{};if(f.field.toString()===b.toString())return f}return null}function c(a,b){__p&&__p();var c=void 0;for(var d=Object.keys(a),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c=a[h];if(c.field.name===b||(c.alternativeFieldNames||[]).some(function(a){return a===b}))return c}g(0)}function d(a,b){__p&&__p();var c=void 0;for(var d=Object.keys(a),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;h=a[h];if(h.field.name===b){c=h.field.type;break}}c||g(0);return c}function f(a,b){return!b?!1:b.values.some(function(b){return b.field.key===a.key})}function i(a,b){__p&&__p();for(var c=Object.keys(a),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=a[f];if(f.field.name===b)return!!f.isLevelNeeded}g(0)}function j(a,c,d){a=h(a,c);return!a||!a.isLevelNeeded?c:new(b("AdsGenericFilterField"))(c.name,c.type,d)}function k(a,b){__p&&__p();var c=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],d=null,e=0;for(var f=Object.keys(a),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i,k=a[j],m=l(k,b,c);if(m){var n=m.reduce(function(a,b){return a+(b?1:0)},0)-1;(!d||n<e)&&(d=m,e=n)}}return d}function l(a,b){__p&&__p();var c=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],d=a.field&&[a.field.name]||[];c&&(a.alternativeFieldNames||[]).forEach(function(a){return d.push(a)});var e=d.find(function(a){return a&&b.toLowerCase().endsWith(a.toLowerCase())});if(!e)return null;var f=b.substring(b.length-e.length);b=b.substring(0,b.length-f.length);var g=a.supportedPrefixes||[],h=g.map(function(a){a=a.prefixes;a=a.find(function(a){return b.toLowerCase().startsWith(a.prefix.toLowerCase())})||null;var c=null;a&&(c=a.prefix);c&&(c=b.substring(0,c.length),b=b.substring(c.length));return c});if(b!=="")return null;h.push(f);return h}j={convertFilterFieldToLevel:j,getConfigByDirtyFieldName:c,getConfigByField:a,getConfigByFieldOrNull:h,getTypeByFieldName:d,isFieldInFilterSet:f,isLevelNeeded:i,parsePrefixedField:k,parsePrefixesFromFieldConfig:l};e.exports=j}),null);
__d("AdsSelectorWithTooltips.react",["DOM","React","ReactDOM","SingleSelectorAlignOnScroll","SingleSelectorHideOnScrollOut","Tooltip","XUIError.react","XUISingleSelector.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;d=b("React").PropTypes;f=b("XUISingleSelector.react").Option;f=babelHelpers.inherits(a,f);g=f&&f.prototype;function a(a){g.constructor.call(this,a),this.$OptionWithTooltip1=a.tooltip||null}a.prototype.setupTooltip=function(){typeof this.$OptionWithTooltip1=="string"?this.tooltip=this.$OptionWithTooltip1:typeof this.$OptionWithTooltip1=="object"&&(this.tooltip=b("DOM").create("div"),b("ReactDOM").render(this.$OptionWithTooltip1,this.tooltip))};a.prototype.render=function(){var a=g.render.call(this);this.$OptionWithTooltip1&&(this.tooltip||this.setupTooltip(),b("Tooltip").set(b("ReactDOM").findDOMNode(a),this.tooltip,"right"));return a};h=babelHelpers.inherits(c,b("React").Component);h&&h.prototype;c.prototype.render=function(){return b("React").createElement(b("XUIError.react"),this.props,b("React").createElement(b("XUISingleSelector.react"),babelHelpers["extends"]({behaviors:[b("SingleSelectorAlignOnScroll"),b("SingleSelectorHideOnScrollOut")]},this.props),this.props.children))};function c(){h.apply(this,arguments)}c.propTypes=babelHelpers["extends"]({},b("XUIError.react").propTypes,{onHide:d.func,onShow:d.func});c.Option=a;e.exports=c}),null);
__d("PageInsightsSponsoredPostsTableUnavailableContent.react",["cx","fbt","React","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;d=b("React").PropTypes;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_1zb1"},b("React").createElement(b("Tooltip.react"),{tooltip:h._("This information is unavailable for {type}",[h._param("type",this.props.type)])},"-"))};function a(){i.apply(this,arguments)}a.propTypes={type:d.string.isRequired};e.exports=a}),null);
__d("XUIBackgroundBar.react",["cx","React","sumOfArray"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.getColorAtIndex=function(a){if(Array.isArray(this.props.colors))return this.props.colors[a];else return this.props.colors(a)}.bind(this),b}a.prototype.render=function(){"use strict";__p&&__p();var a=this.props.values,c=b("sumOfArray")(a),d=this.props.scale;d.rangeRound([0,100]);var e={width:d(c)+"%"};function f(a,e){if(e>0&&a===0)return null;a=d(c)!==0?100*d(a)/d(c)+"%":"0";a={backgroundColor:this.getColorAtIndex(e),width:a};return b("React").createElement("div",{className:"_5abn",key:e,style:a})}return b("React").createElement("div",{className:"_5abm",style:e},a.map(f,this),b("React").createElement("div",{className:"_352g"}))};e.exports=a}),null);
__d("InsightsBackgroundBar.react",["cx","PageInsightsSponsoredPostsTableUnavailableContent.react","React","ReactDOM","Tooltip","XUIBackgroundBar.react","joinClasses","sumOfArray"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=b("sumOfArray")(this.props.values||[]),c=this.props.forceTooltip||this.props.values.length>=2;!c||a===0?b("Tooltip").remove(b("ReactDOM").findDOMNode(this.refs.bar)):b("Tooltip").set(b("ReactDOM").findDOMNode(this.refs.bar),b("ReactDOM").findDOMNode(this.refs.tooltip).cloneNode(!0),"above","center")}.bind(this),c}a.prototype.componentDidMount=function(){"use strict";this.$1()};a.prototype.componentDidUpdate=function(a){"use strict";a.values!=this.props.values&&this.$1()};a.prototype.componentWillUnmount=function(){"use strict";b("Tooltip").remove(b("ReactDOM").findDOMNode(this.refs.bar))};a.prototype.render=function(){"use strict";__p&&__p();var a="_5kmz"+(this.props.tall?" _5km-":"")+(this.props.single?" _5km_":"")+(this.props["short"]?" _5vip":"")+(this.props.thin?" _608_":""),c=Array.isArray(this.props.values)?this.props.values:[this.props.values],d=this.props.scale&&this.props.scale.tickFormat(),e=this.props.totalValue?this.props.totalValue:b("sumOfArray")(c||[]),f=c.map(function(a,c){var d=this.props.titles?this.props.titles[c]:null,e=this.props.scale.tooltipFormat&&this.props.scale.tooltipFormat();e=e(a);this.props.availability&&!this.props.availability[c]&&(e=b("React").createElement(b("PageInsightsSponsoredPostsTableUnavailableContent.react"),{type:"Instagram"}));a=d||c;return b("React").createElement("div",{key:a,className:"_5kn0"},b("React").createElement("div",{className:"_5kn1"},d),b("React").createElement("div",{className:"_5kn2"},e))},this),g=null,h=null;this.props.labelWidth&&(g={marginLeft:this.props.labelWidth},h={width:this.props.labelWidth});if(this.props.label||typeof this.props.label==="undefined")var i=b("React").createElement("div",{className:"_5kn3 ellipsis",style:h},this.props.label||d(e));return b("React").createElement("div",{className:b("joinClasses")(a,this.props.className)},i,b("React").createElement("div",{className:"_5kn4 _11uq",style:g},b("React").createElement(b("XUIBackgroundBar.react"),{colors:this.props.colors,ref:"bar",scale:this.props.scale,values:c,inlineLabels:this.props.inlineLabels}),b("React").createElement("div",{className:"_5kn5",ref:"tooltip"},f)))};a.propTypes={className:c.string,colors:c.oneOfType([c.array,c.func]),forceTooltip:c.bool,label:c.oneOfType([c.bool,c.object,c.string]),labelWidth:c.string,scale:c.func,single:c.bool,tall:c.bool,"short":c.bool,thin:c.bool,titles:c.array,values:c.array,totalValue:c.number,availability:c.array};e.exports=a}),null);
__d("FBNoSelect",["DOMQuery","Event","UserAgent"],(function(a,b,c,d,e,f){__p&&__p();var g=["input","select","textarea","object","embed"];a=new(function(){__p&&__p();function a(){"use strict";this.$1=!1,this.$2={},this.$3={},this.$4=Array.from(g)}a.prototype.addBlockClass=function(a){"use strict";this.$5();return this.$6(this.$2,a)};a.prototype.removeBlockClass=function(a){"use strict";this.$5();return this.$7(this.$2,a)};a.prototype.addUnblockClass=function(a){"use strict";this.$5();return this.$6(this.$3,a)};a.prototype.removeUnblockClass=function(a){"use strict";this.$5();return this.$7(this.$3,a)};a.prototype.addUnblockNodeType=function(a){"use strict";this.$5();this.$4.includes(a)||this.$4.push(a);return this};a.prototype.removeUnblockNodeType=function(a){"use strict";this.$5();a=this.$4.indexOf(a);a!==-1&&this.$4.splice(a,1);return this};a.prototype.addUnblockLayers=function(){"use strict";this.addUnblockClass("uiLayer");return this};a.prototype.$6=function(a,b){"use strict";a[b]?a[b]++:a[b]=1;return this};a.prototype.$7=function(a,b){"use strict";a[b]&&(a[b]--,a[b]==0&&delete a[b]);return this};a.prototype.shouldBlock=function(a){"use strict";__p&&__p();if(!this.$1)return!1;for(var a=a;a!==null&&a!==document;a=a.parentNode){if(a.classList){for(var c in this.$2)if(a.classList.contains(c))return!0;for(var d in this.$3)if(a.classList.contains(d))return!1}var e=b("DOMQuery").isNodeOfType(a,this.$4);if(e)return!1}return!1};a.prototype.$5=function(){__p&&__p();var a=this;if(this.$1)return;this.$1=!0;b("UserAgent").isEngine("Gecko")?(b("Event").listen(document,"mousedown",function(a){this.shouldBlock(a.getTarget())&&(document.body.style.MozUserSelect="none")}.bind(this)),b("Event").listen(document,"mouseup",function(a){document.body.style.MozUserSelect=""})):(function(){__p&&__p();var c=!1,d=!1;b("Event").listen(document,"selectstart",function(a){if(c){d&&a.kill();return}d=!1;c=!0;this.shouldBlock(a.getTarget())&&(d=!0,a.kill())}.bind(a));b("Event").listen(document,{mousedown:function(){c=!1},mouseup:function(){c=!1}})})()};return a}())();e.exports=a}),null);
__d("BUIDateTimePicker.react",["cx","invariant","AbstractDateTimePicker.react","BUIComponent","BUIDatePicker.react","BUITimeInput.react","BUITimezoneLabel.react","DateTime","LocalDate","LocalDateTime","React","XUIError"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j={innerWrapper:"_gyf"};d=babelHelpers.inherits(a,b("BUIComponent"));i=d&&d.prototype;function a(a){__p&&__p();i.constructor.call(this,a),this.$BUIDateTimePicker2=function(a){this.$BUIDateTimePicker1=a}.bind(this),this.$BUIDateTimePicker3=function(a){if(this.props.onChange){void 0;try{a=a?a.toDateTime(this.props.timezoneID):null}catch(b){a=this.props.value}this.props.onChange(a)}}.bind(this),this.$BUIDateTimePicker4=function(a){var c=this.props,d=c.onInvalidDateSelected;c=c.onChange;if(!d)return;try{d(b("LocalDate").fromDateTime(a.toDateTime(this.props.timezoneID)))}catch(e){a=b("LocalDate").fromDateTime(this.props.value);this.$BUIDateTimePicker5(a)?c(this.props.value):d(a)}}.bind(this)}a.prototype.focusDateInput=function(){this.$BUIDateTimePicker1&&this.$BUIDateTimePicker1.focusInput()};a.prototype.$BUIDateTimePicker5=function(a){var b=this.props.dateRestraints;return!b||b.length===0?!0:b.every(function(b){return b(a)})};a.prototype.render=function(){var a=this.props,c=a.dateRestraints,d=a.height,e=a.onBlur,f=a.onChange,g=a.onInvalidDateSelected,i=a.timezoneID,k=a.timezoneLabel,l=a.value;a=babelHelpers.objectWithoutProperties(a,["dateRestraints","height","onBlur","onChange","onInvalidDateSelected","timezoneID","timezoneLabel","value"]);!l||l.timezoneID===i||h(0);return b("React").createElement(b("AbstractDateTimePicker.react"),babelHelpers["extends"]({},a,{classNames:j,datePicker:b("React").createElement(b("BUIDatePicker.react"),{className:"_3yhb","data-testid":this.props["data-testid-date"],ref:this.$BUIDateTimePicker2,dateRestraints:c,height:d,onInvalidDateSelected:g?this.$BUIDateTimePicker4:undefined,onBlur:e}),onChange:f?this.$BUIDateTimePicker3:undefined,timeInput:b("React").createElement(b("BUITimeInput.react"),{className:"_3-99","data-testid":this.props["data-testid-time"],height:d,onBlur:e}),timezoneID:i,timezoneLabel:b("React").createElement("div",{className:"_3-8w"},b("React").createElement(b("BUITimezoneLabel.react"),{value:k})),value:l?b("LocalDateTime").fromDateTime(l):null}))};f=b("BUIDatePicker.react").propTypes;g=b("AbstractDateTimePicker.react").propTypes;a.propTypes=babelHelpers["extends"]({},b("XUIError").propTypes,{"data-testid-date":c.string,"data-testid-time":c.string,className:c.string,value:c.instanceOf(b("DateTime")),dateRestraints:f.dateRestraints,datePlaceholder:f.placeholder,disabled:g.disabled,height:f.height,maxTime:g.maxTime,minTime:g.minTime,name:g.name,onChange:c.func,onInvalidDateSelected:f.onInvalidDateSelected,timezoneID:g.timezoneID.isRequired,timezoneLabel:g.timezoneLabel});e.exports=a}),null);
__d("BUIDraggableList.react",["cx","invariant","AbstractDraggableList.react","BUIComponent","FBOverlayBase.react","React","XUIGrayText.react","joinClasses","mapObject"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("BUIComponent"));i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$BUIDraggableList1=function(a){a=b("React").createElement(b("FBOverlayBase.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{shade:"medium"},b("React").createElement("div",null,a))));return a},this.$BUIDraggableList2=function(a){a=b("mapObject")(a,function(a){var b=this.$BUIDraggableList1(a.label);a=babelHelpers["extends"]({},a,{label:b});return a}.bind(this));return a}.bind(this),c}a.prototype.render=function(){this.props.itemIDs.length!==0||h(0);var a=b("joinClasses")(this.props.className,"_5nz6");return b("React").createElement(b("AbstractDraggableList.react"),babelHelpers["extends"]({},this.props,{className:a,itemsByID:this.$BUIDraggableList2(this.props.itemsByID)}))};a.propTypes={itemIDs:c.arrayOf(c.string.isRequired).isRequired,itemsByID:c.object.isRequired,itemsRenderer:c.func,onRemove:c.func.isRequired,onReorder:c.func.isRequired};e.exports=a}),null);
__d("FixedDataTableColumnGroupNew.react",["React"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";return null};function a(){"use strict";g.apply(this,arguments)}a.__TableColumnGroup__=!0;a.propTypes={align:c.oneOf(["left","center","right"]),fixed:c.bool,hideHeaders:c.bool,header:c.oneOfType([c.node,c.func])};a.defaultProps={fixed:!1,hideHeaders:!1};e.exports=a}),null);
__d("FixedDataTableColumnNew.react",["React"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";return null};function a(){"use strict";g.apply(this,arguments)}a.__TableColumn__=!0;a.propTypes={align:c.oneOf(["left","center","right"]),fixed:c.bool,header:c.oneOfType([c.node,c.func]),headerStyle:c.object,cell:c.oneOfType([c.node,c.func]),cellClassNameGetter:c.func,cellStyle:c.object,footer:c.oneOfType([c.node,c.func]),columnKey:c.oneOfType([c.string,c.number]),width:c.number.isRequired,minWidth:c.number,maxWidth:c.number,flexGrow:c.number,isResizable:c.bool,allowCellsRecycling:c.bool};a.defaultProps={allowCellsRecycling:!1,fixed:!1};e.exports=a}),null);
__d("FixedDataTableCellTransition.react",["cx","React","joinClasses","shallowEqual","FixedDataTableCellDefault.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$4=function(a){if(a.rowGetter)return a.rowGetter(a.rowIndex)||{};if(a.footerDataGetter)return a.footerDataGetter()||{};return a.footerData?a.footerData||{}:{}},b}a.prototype.shouldComponentUpdate=function(a){"use strict";var c=!1,d;a.rowGetter&&(d=a.rowGetter(a.rowIndex),this.$1!==d&&(c=!0));var e;a.dataKey!=null&&(a.cellDataGetter?e=a.cellDataGetter(a.dataKey,d):a.headerDataGetter&&(e=a.headerDataGetter(a.dataKey)),!e&&d&&(e=d[a.dataKey]));(this.$2!==e||this.props.isRowHovered!==a.isRowHovered)&&(c=!0);this.$1=d;this.$2=e;return c||!b("shallowEqual")(a,this.props)};a.prototype.$3=function(a){"use strict";__p&&__p();var b=a.dataKey;if(b==null)return null;var c;a.rowGetter&&(c=a.rowGetter(a.rowIndex));if(a.cellDataGetter)return a.cellDataGetter(b,c);if(c)return c[b];if(a.footerDataGetter)return a.footerDataGetter()[b];if(a.footerData)return a.footerData[b];if(typeof a.headerDataGetter==="function")return a.headerDataGetter(b);if(a.headerDataGetter)return a.headerDataGetter[b]};a.prototype.render=function(){"use strict";__p&&__p();var a=this.props,c=this.$3(a),d=c,e=this.$4(a),f=!!(a.cellRenderer||a.groupHeaderRenderer);(a.isHeaderCell||a.isFooterCell)&&(d=d||a.label);a.cellRenderer&&(a.isHeaderCell||a.isFooterCell?d=a.cellRenderer(d,a.dataKey,a.columnData,e,a.width,a.isRowHovered)||a.label:d=a.cellRenderer(c,a.dataKey,e,a.rowIndex,a.columnData,a.width,a.isRowHovered));a.groupHeaderRenderer&&(d=a.groupHeaderRenderer(a.label,a.dataKey,a.groupHeaderData,a.groupHeaderLabels,a.width)||d);c="_4h2r";if(b("React").isValidElement(d)&&f)d=b("React").cloneElement(d,{className:b("joinClasses")(d.props.className,c)});else return b("React").createElement(b("FixedDataTableCellDefault.react"),a,d);e=babelHelpers["extends"]({height:a.height,width:a.width},a.style);if(a.useDefaultCellLayout===!1)return!this.props.className?d:b("React").createElement("div",{className:this.props.className},d);else return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")("_4lgc","_4h2u",this.props.className),style:e}),b("React").createElement("div",{className:b("joinClasses")("_4lgd","_4h2w")},b("React").createElement("div",{className:b("joinClasses")("_4lge","_4h2x")},d)))};a.propTypes={label:c.oneOfType([c.node,c.string]),className:c.string,rowIndex:c.number,rowGetter:c.func,dataKey:c.oneOfType([c.string,c.number]),cellRenderer:c.func,cellDataGetter:c.func,footerDataGetter:c.func,footerData:c.any,columnData:c.any,width:c.number,height:c.number,isHeaderCell:c.bool,isFooterCell:c.bool,isRowHovered:c.bool,style:c.object,useDefaultCellLayout:c.bool};e.exports=a}),null);
__d("FixedDataTable.react",["React","FixedDataTableNew.react","FixedDataTableColumnNew.react","FixedDataTableColumnGroupNew.react","FixedDataTableCellTransition.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d="0.7.0";f="https://fburl.com/FixedDataTable-v0.6";var h={};d={};function i(a,b){}f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(a){g.constructor.call(this,a);var b={};b.needsMigration=!!a.rowGetter;this.state=b}a.prototype.$1=function(){__p&&__p();this.props.rowGetter&&i("rowGetter","Please use the cell API in Column to fetch data for your cells."),this.props.headerDataGetter&&i("headerDataGetter","Please use the header API in Column to fetch data for your header cells."),this.props.footerData&&i("footerData","Please use the footer API in Column to fetch data for your footer cells."),this.props.footerDataGetter&&i("footerDataGetter","Please use the footer API in Column to fetch data for your footer cells."),b("React").Children.forEach(this.props.children,function(a){__p&&__p();if(!a||!a.props)return;a=a.props;a.label&&i("label","Please use `header` instead.");a.dataKey&&i("dataKey","Please use the `cell` API to pass in a dataKey");a.cellRenderer&&i("cellRenderer","Please use the `cell` API to pass in a React Element instead.");a.headerRenderer&&i("headerRenderer","Please use the `header` API to pass in a React Element instead.");a.columnData&&i("columnData","Please pass data in through props to your header, cell or footer.");a.groupHeaderRenderer&&i("groupHeaderRenderer","Please use the `header` API in ColumnGroup to pass in a React Element instead of a function that creates one.");a.groupHeaderData&&i("groupHeaderData","Please pass in any data through props to your header.")})};a.prototype.$2=function(a,b){return!b?undefined:function(c,d){b(c,d,a.rowGetter&&a.rowGetter(d)||h)}};a.prototype.$3=function(a,c,d){var e=a.props;return a.type.__TableColumn__?b("React").createElement(b("FixedDataTableColumnNew.react"),babelHelpers["extends"]({key:"column_"+d},e,{header:b("React").createElement(b("FixedDataTableCellTransition.react"),{isHeaderCell:!0,label:e.label,width:e.width,dataKey:e.dataKey,className:e.headerClassName,columnData:e.columnData||h,cellRenderer:e.headerRenderer,headerDataGetter:c.headerDataGetter,style:e.headerStyle}),columnKey:e.dataKey,cell:b("React").createElement(b("FixedDataTableCellTransition.react"),{dataKey:e.dataKey,className:e.cellClassName,rowGetter:c.rowGetter,width:e.width,columnData:e.columnData||h,cellDataGetter:e.cellDataGetter,cellRenderer:e.cellRenderer,useDefaultCellLayout:c.useDefaultCellLayout}),footer:b("React").createElement(b("FixedDataTableCellTransition.react"),{isFooterCell:!0,className:e.footerClassName,dataKey:e.dataKey,cellRenderer:e.footerRenderer,footerDataGetter:c.footerDataGetter,footerData:c.footerData||h})})):null};a.prototype.$4=function(a,c,d,e){var f=a.props,g=0,i=b("React").Children.map(f.children,function(a){g++;return this.$3(a,c,d+"_"+g)}.bind(this));return b("React").createElement(b("FixedDataTableColumnGroupNew.react"),babelHelpers["extends"]({},f,{key:"group_"+d,header:b("React").createElement(b("FixedDataTableCellTransition.react"),{isHeaderCell:!0,label:a.props.label,dataKey:d,groupHeaderRenderer:f.groupHeaderRenderer,groupHeaderLabels:e,groupHeaderData:f.columnGroupData||h})}),i)};a.prototype.$5=function(a){__p&&__p();if(!a)return b("React").Children.map(this.props.children,function(a){if(!a)return null;if(a.type.__TableColumn__)return b("React").createElement(b("FixedDataTableColumnNew.react"),a.props);return a.type.__TableColumnGroup__?b("React").createElement(b("FixedDataTableColumnGroupNew.react"),a.props):null});var c=this.props,d=0;return b("React").Children.map(this.props.children,function(a){__p&&__p();if(!a)return null;a.type.__TableColumn__&&(a=this.$3(a,c,d));if(a.type.__TableColumnGroup__){var e=[];b("React").Children.forEach(this.props.children,function(a){e.push(a.props.label)});a=this.$4(a,c,d,e)}d++;return a}.bind(this))};a.prototype.render=function(){var a=this.props;return b("React").createElement(b("FixedDataTableNew.react"),babelHelpers["extends"]({},a,{ref:"fixedDataTable",onRowMouseDown:this.$2(a,a.onRowMouseDown),onRowClick:this.$2(a,a.onRowClick),onRowDoubleClick:this.$2(a,a.onRowDoubleClick),onRowKeyPress:this.$2(a,a.onRowKeyPress),onRowMouseEnter:this.$2(a,a.onRowMouseEnter),onRowMouseLeave:this.$2(a,a.onRowMouseLeave)}),this.$5(this.state.needsMigration))};a.propTypes={width:c.number.isRequired,height:c.number,maxHeight:c.number,ownerHeight:c.number,overflowX:c.oneOf(["hidden","auto"]),overflowY:c.oneOf(["hidden","auto"]),rowsCount:c.number.isRequired,rowHeight:c.number.isRequired,rowHeightGetter:c.func,rowGetter:c.func,rowClassNameGetter:c.func,rowStyleGetter:c.func,groupHeaderHeight:c.number,headerHeight:c.number.isRequired,headerStyle:c.object,headerDataGetter:c.func,footerHeight:c.number,footerData:c.oneOfType([c.object,c.array]),footerDataGetter:c.func,scrollLeft:c.number,scrollToColumn:c.number,scrollTop:c.number,scrollToRow:c.number,scrollToRowBehavior:c.oneOfType([c.objectOf(c.number),c.string]),useDefaultCellLayout:c.bool,onScrollStart:c.func,onScrollEnd:c.func,onRangeChange:c.func,onChangeHorizontalScrollbarVisibility:c.func,onContentHeightChange:c.func,onRowClick:c.func,onRowDoubleClick:c.func,onRowKeyPress:c.func,onRowMouseDown:c.func,onRowMouseEnter:c.func,onRowMouseLeave:c.func,onColumnResizeEndCallback:c.func,isColumnResizing:c.bool,isRTL:c.bool,bufferRowCount:c.number};a.defaultProps={useDefaultCellLayout:!0};e.exports=a}),null);
__d("PageInsightsPostFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAPTION:"caption",CREATION_TIME:"created_time",DESCRIPTION:"description",ID:"id",IDENTIFIER:"identifier",IS_HOT:"is_hot",LINK:"link",MESSAGE:"message",NAME:"name",PICTURE:"picture",PRIVACY:"privacy",PRIVACY_COUNTRIES:"privacy_countries",PRIVACY_CITIES:"privacy_cities",PRIVACY_DESCRIPTION:"privacy_description",PRIVACY_LOCALES:"privacy_locales",PRIVACY_POST_TARGETING:"privacy_post_targeting",PROMOTABLE_POST_ID:"promotable_post_id",PROPERTY:"properties",STATUS_TYPE:"status_type",STYLE:"style",TYPE:"type",HAS_HINTS:"has_hints",HINTS_CONFIG:"hints_config",AUDIENCE_TARGETING:"audience_targeting",VISIBILITY:"visibility",TIMELINE_TOKEN:"timeline_token",BREAKING_STATUS:"breaking_status",BREAKING_BOUNDS:"breaking_bounds"})}),null);
__d("HubbleConstants",["PageInsightsPostFields"],(function(a,b,c,d,e,f){a={DATE_RANGE:{TODAY:"today",YESTERDAY:"yesterday",WEEK:"7_days",MONTH:"28_days"},DEFAULT_SECTION:"navOverview",NAV_SECTIONS:{LIKES:"navLikes",FOLLOWERS:"navFollowers",LOCAL:"navLocal",OVERVIEW:"navOverview",PEOPLE:"navPeople",POSTS:"navPosts",REACH:"navReach",VISITS:"navVisits",PAGE_VIEWS:"navPageViews",GROUPS:"navGroups",ACTIONS_ON_PAGE:"navActionsOnPage",WIFI:"navWifi",EVENTS:"navEvents",VIDEOS:"navVideos",SHOP:"navShop",BRANDED_CONTENT:"navBrandedContent",MESSAGES:"navMessages",PROMOTIONS:"navPromotions",API:"navAPI",IA_CTA_INSIGHTS:"navIaCtaInsights",OFFERS:"navOffers",PAGE_INVITES:"navPageInvites",REWARDS:"navRewards",PREVIEWS:"navPreviews",PURCHASES:"navPurchases",AD_BREAKS:"navAdBreaks",QR_CODE:"navQRCode",FB_STORIES:"navStories"},SCROLL_TARGETS:{ENGAGEMENT:"engagement"},PIPELINE_DAILY:"pipe_daily",PIPELINE_WEEKLY:"pipe_weekly",PIPELINE_MONTHLY:"pipe_monthly",PIPELINE_LIFETIME:"pipe_lifetime",PIPELINE_DEMO:"pipe_demo",PERIOD_DAY:"day",PERIOD_WEEK:"week",PERIOD_28_DAYS:"days_28",PERIOD_LIFETIME:"lifetime",SERIES_AREA:"area",SERIES_LINE:"line",SEC_IN_MIN:60,DAYS_PER_WEEK:7,SORT_BY_DATE:"date",SORT_BY_REACH:"reach",SORT_BY_CLICKS:"clicks",SORT_BY_LCS:"lcs",REQ_PREMIUM_VIDEO:"premium_video",REQ_PUBLISHED:"published",REQ_SMART_PUBLISHING:"smart_publishing",REQ_UNPUBLISHED:"unpublished",REQ_VIDEO:"video",TABLE_PAGE_SIZE:10,FACEBOOK_DEMOGRAPHICS:{F:{ageBuckets:{"13-17":7.2,"18-24":14.4,"25-34":11.8,"35-44":6.2,"45-54":3.6,"55-64":1.9,"65+":1.1},total:46.2},M:{ageBuckets:{"13-17":7.7,"18-24":17.9,"25-34":14.8,"35-44":7,"45-54":3.6,"55-64":1.6,"65+":1.3},total:53.8},total:100},MIN_WIFI_USERS_COUNT:100,POSTS_TABLE_FIELDS:[b("PageInsightsPostFields").CAPTION,b("PageInsightsPostFields").CREATION_TIME,b("PageInsightsPostFields").DESCRIPTION,b("PageInsightsPostFields").ID,b("PageInsightsPostFields").IDENTIFIER,b("PageInsightsPostFields").MESSAGE,b("PageInsightsPostFields").NAME,b("PageInsightsPostFields").PICTURE,b("PageInsightsPostFields").PRIVACY,b("PageInsightsPostFields").PROMOTABLE_POST_ID,b("PageInsightsPostFields").STATUS_TYPE,b("PageInsightsPostFields").TYPE,b("PageInsightsPostFields").HAS_HINTS,b("PageInsightsPostFields").HINTS_CONFIG,b("PageInsightsPostFields").VISIBILITY,b("PageInsightsPostFields").TIMELINE_TOKEN],FBTYPE_VIDEO:128};e.exports=a}),null);
__d("VideoAssetWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setComposerDialogVersion=function(a){this.$1.composer_dialog_version=a;return this};a.prototype.setCrosspostingPageIds=function(a){this.$1.crossposting_page_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setError=function(a){this.$1.error=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setIsBulk=function(a){this.$1.is_bulk=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoAssetIDOverride=function(a){this.$1.video_asset_id_override=a;return this};a.prototype.setVideoAssetIds=function(a){this.$1.video_asset_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setVideoIds=function(a){this.$1.video_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c={composer_dialog_version:!0,crossposting_page_ids:!0,error:!0,event:!0,is_bulk:!0,page_id:!0,source:!0,vc:!0,video_asset_id_override:!0,video_asset_ids:!0,video_id:!0,video_ids:!0};e.exports=a}),null);
__d("VideoCopyrightUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideoCopyrightUILoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoCopyrightUILoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoCopyrightUILoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setAttributionID=function(a){this.$1.attribution_id=a;return this};a.prototype.setContentCategory=function(a){this.$1.content_category=a;return this};a.prototype.setCopyrightChecked=function(a){this.$1.copyright_checked=a;return this};a.prototype.setCopyrightContentID=function(a){this.$1.copyright_content_id=a;return this};a.prototype.setCopyrightID=function(a){this.$1.copyright_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExceptionClass=function(a){this.$1.exception_class=a;return this};a.prototype.setExceptionMessage=function(a){this.$1.exception_message=a;return this};a.prototype.setExceptionStack=function(a){this.$1.exception_stack=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setIsReference=function(a){this.$1.is_reference=a;return this};a.prototype.setIsReferenceDisabled=function(a){this.$1.is_reference_disabled=a;return this};a.prototype.setLiveStatus=function(a){this.$1.live_status=a;return this};a.prototype.setMatchID=function(a){this.$1.match_id=a;return this};a.prototype.setMatchedVideoID=function(a){this.$1.matched_video_id=a;return this};a.prototype.setMessage=function(a){this.$1.message=a;return this};a.prototype.setMonitoringType=function(a){this.$1.monitoring_type=a;return this};a.prototype.setOwnershipCountries=function(a){this.$1.ownership_countries=a;return this};a.prototype.setResolvedTimestamp=function(a){this.$1.resolved_timestamp=a;return this};a.prototype.setRightsHolderID=function(a){this.$1.rights_holder_id=a;return this};a.prototype.setRuleID=function(a){this.$1.rule_id=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWhitelistedIds=function(a){this.$1.whitelisted_ids=a;return this};a.prototype.setWhitelistedIgUserIds=function(a){this.$1.whitelisted_ig_user_ids=a;return this};c={app_id:!0,attribution_id:!0,content_category:!0,copyright_checked:!0,copyright_content_id:!0,copyright_id:!0,event:!0,exception_class:!0,exception_message:!0,exception_stack:!0,is_reference:!0,is_reference_disabled:!0,live_status:!0,match_id:!0,matched_video_id:!0,message:!0,monitoring_type:!0,ownership_countries:!0,resolved_timestamp:!0,rights_holder_id:!0,rule_id:!0,source:!0,vc:!0,whitelisted_ids:!0,whitelisted_ig_user_ids:!0};e.exports=a}),null);
__d("VideoFormattingUtils",["DateConsts"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DateConsts").SEC_PER_HOUR,h=b("DateConsts").MIN_PER_HOUR,i=b("DateConsts").SEC_PER_MIN;function j(a){return("0"+a).slice(-2)}function a(a){a=Math.round(a);var b=Math.floor(a/g),c=Math.floor(a%g/h);a=a%i;return(b>0?j(b)+":":"")+(b>0?j(c):c)+":"+j(a)}function c(a,b){if(b===0)return"0%";a=Math.round(a*100/b);return a+"%"}d={formatPercentage:c,formatTime:a};e.exports=d}),null);
__d("ClockFormatConverter",["fbt","invariant","VideoFormattingUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1e3,j=60,k=/^\d\d$/,l=/^\d?\d?$/;a={TIME_SEPARATOR:g._(":"),validate:function(a,b){__p&&__p();a=a.split(/:|\./);if(a.length===0)return!1;for(var c=0;c<a.length;c++){var d=b&&c===a.length-1||c===0?l:k;if(!d.test(a[c]))return!1;if(parseInt(a[c],10)>=j)return!1}return!0},timestampToSeconds:function(a){this.validate(a)||h(0);a=a.split(this.TIME_SEPARATOR);var b;void 0;var c=0,d=1;while(b=a.pop())c+=parseInt(b,10)*d,d*=j;return c},timestampToMillis:function(a){return this.timestampToSeconds(a)*i},secondsToTimestamp:function(a){return a===0?"0"+this.TIME_SEPARATOR+"00":b("VideoFormattingUtils").formatTime(a)},millisToTimestamp:function(a){return this.secondsToTimestamp(a/i)},normalize:function(a){a=this.timestampToSeconds(a);return this.secondsToTimestamp(a)},normalizedSecondsTimestamp:function(a){a=a.split(this.TIME_SEPARATOR).map(function(a){return a.length===1?"0"+a:a});return this.normalize(a.join(this.TIME_SEPARATOR))},normalizeMinutesTimestamp:function(a){a=a.split(this.TIME_SEPARATOR);if(a.length===1)a.push("00");else for(var b=1;b<a.length;b++)a[b]=("00"+a[b]).slice(-2);return this.normalize(a.join(this.TIME_SEPARATOR))}};e.exports=a}),null);
__d("PageSaveAction.react",["ix","fbt","ContextualDialogArrow","Image.react","PageActionOpenURLAsyncPost.react","PageActionURLHandlerType","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","URI","XSavedForLaterDashboardController","XUIPopoverButton.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReactXUIMenu").Item;a=function(a){var c=a.action,d=c.url,e=c.url_handler_type;c=c.page;if(!c.has_viewer_saved)return b("React").createElement(b("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},a,{image:b("React").createElement(b("Image.react"),{src:g("127260")})}));c=b("React").createElement(b("ReactXUIMenu"),null,b("React").createElement(i,{href:new(b("URI"))(d).getUnqualifiedURI(),key:"unsave",rel:b("PageActionURLHandlerType")[e]||null},h._("Unsave")),b("React").createElement(i,{href:b("XSavedForLaterDashboardController").getURIBuilder().getURI(),key:"view_saved"},h._("View Saved Items")));return b("React").createElement(b("PopoverMenu.react"),{behaviors:[b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:c},b("React").createElement(b("XUIPopoverButton.react"),{image:b("React").createElement(b("Image.react"),{src:g("116046")}),label:h._("Saved"),size:"large"}))};e.exports=a}),null);
__d("PageContentTabDrawerContentWrapper.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.componentWillUnmount=function(){this.props.onClosed&&this.props.onClosed()};a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_a7e")},b("React").createElement("div",{className:"_a7l"},b("React").createElement("div",{className:"_a7n"},this.props.drawerView.header),b("React").createElement("div",{className:"_a7o"},this.props.drawerView.content),this.props.footer))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PageContentTabDrawerHeader.react",["ix","cx","fbt","Image.react","Link.react","React","XUICloseButton.react","XUIText.react","emptyFunction","fbglyph","joinClasses"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=b("React").PureComponent;j=babelHelpers.inherits(a,c);j&&j.prototype;a.prototype.getBackButton=function(){"use strict";return b("React").createElement(b("Link.react"),{onClick:this.props.onClose,className:"_4c8u"},b("React").createElement(b("Image.react"),{className:"_4c8-",src:g("133542")}),b("React").createElement("div",{className:"_4c8_"},i._("Back")))};a.prototype.getCloseButton=function(){"use strict";return b("React").createElement("div",{className:"_4c90"},b("React").createElement(b("XUICloseButton.react"),{onClick:this.props.onClose,size:"medium"}))};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_4c91")},this.props.showBackButton?this.getBackButton():null,this.props.showCloseButton?this.getCloseButton():null,b("React").createElement(b("XUIText.react"),{size:"header3",weight:"bold"},this.props.children))};function a(){"use strict";j.apply(this,arguments)}a.defaultProps={onClose:b("emptyFunction"),showBackButton:!1,showCloseButton:!1};e.exports=a}),null);
__d("PageContentTabModalBackground.react",["cx","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("React").Element;c=b("React").PureComponent;d=b("React").PropTypes;f=babelHelpers.inherits(a,c);h=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a.target===b("ReactDOM").findDOMNode(this)&&(this.props.onClick&&this.props.onClick())}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_s6p"+(this.props.isTransparent?" _2jyj":""),this.props.className),onClick:this.$1,role:"presentation"},this.props.children)};a.propTypes={isTransparent:d.bool,onClick:d.func};e.exports=a}),null);
__d("PageContentTabDrawer.react",["cx","Keys","PageContentTabDrawerContentWrapper.react","PageContentTabDrawerHeader.react","PageContentTabModalBackground.react","React","ReactCSSTransitionGroup","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(event){event.keyCode===b("Keys").ESC&&this.props.position==="open"&&this.props.onClose()}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){document.addEventListener("keydown",this.$1)};a.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.$1)};a.prototype.render=function(){var a=this.props,c=a.onClose,d=a.drawerView;a=a.position;var e=d&&d.footer?b("React").createElement("div",{className:"_a7d"},d.footer):null;return b("React").createElement("div",null,a==="open"?b("React").createElement(b("PageContentTabModalBackground.react"),{isTransparent:this.props.useTransparentBackground,onClick:this.props.hideOnBackgroundClick?c:b("emptyFunction")}):null,b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_1p07",component:"div",key:"transitionGroup",transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionName:"panel"},a==="open"?b("React").createElement(b("PageContentTabDrawerContentWrapper.react"),{className:this.props.className,drawerView:d,footer:e,onClosed:this.props.onClosed,position:a}):null))};a.Header=b("PageContentTabDrawerHeader.react");a.defaultProps={onClose:b("emptyFunction"),hideOnBackgroundClick:!0,useTransparentBackground:!1};e.exports=a}),null);
__d("PageContentTabVideoCopyrightThumbnail.react",["ix","cx","Image.react","React","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return this.props.thumbnailSrc?b("React").createElement(b("Image.react"),{src:this.props.thumbnailSrc,className:"_1h52"}):b("React").createElement("div",{className:"_b7i"},b("React").createElement(b("Image.react"),{className:"_b7m",src:g("127761")}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("VideoCopyrightRuleLoggingAction",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({MATCH_RULE_CREATED:"MATCH_RULE_CREATED",MATCH_RULE_DELETED:"MATCH_RULE_DELETED",MATCH_RULE_VIEWED:"MATCH_RULE_VIEWED"});e.exports=a}),null);
__d("VideosCopyrightRuleActions",["GraphAPI","VideoCopyrightUtils"],(function(a,b,c,d,e,f){a={createMatchRule:function(a,c,d){return b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",a).edge("video_copyright_rules").post(babelHelpers["extends"]({},d,{access_token:c}))},reassociateReferences:function(a,c,d,e,f){return b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_rule",d).post({migration_rule_id:c,excluded_copyright_ids:e,access_token:f})},getMatchRule:function(a,c){return b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_rules",a).get({fields:b("VideoCopyrightUtils").getMatchGraphFields(),access_token:c,date_format:"U"})},deleteMatchRule:function(a,c){return b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright_rule",a).remove({access_token:c})}};e.exports=a}),null);
__d("PageContentTabVideosCopyrightRuleActions",["fbt","Promise","Arbiter","DateConsts","ErrorDialog","PageContentTabConstants","PageContentTabDispatcher","PageContentTabLoadingDialog","PageContentTabLocations","PageContentTabLogger","PageContentTabLoggingEvents","VideoCopyrightRuleLoggingAction","VideosCopyrightRuleActions","idx","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();a={createMatchRule:function(a,c,d){__p&&__p();b("PageContentTabLoadingDialog").show();b("PageContentTabLogger").hasPageID()||b("PageContentTabLogger").init(a,b("PageContentTabLocations").PAGES_MANAGER);var e=b("VideoCopyrightRuleLoggingAction").MATCH_RULE_CREATED;return b("VideosCopyrightRuleActions").createMatchRule(a,d,c).then(function(c){return b("VideosCopyrightRuleActions").getMatchRule(c.id,d).then(function(c){b("PageContentTabDispatcher").handlePostCreated(b("PageContentTabConstants").TABS.MATCH_RULES,c,a);this._logAction(e,c.id);b("PageContentTabLoadingDialog").hide();return c}.bind(this),function(a){this._onError(e,a)}.bind(this))}.bind(this))},reassociateReferences:function(a,c,d,e,f){__p&&__p();b("PageContentTabLoadingDialog").show();var h=b("VideoCopyrightRuleLoggingAction").MATCH_RULE_CREATED,i={};e.map(function(a){var b;if((b=a)!=null?(b=b.rule_ids)!=null?(b=b[0])!=null?b.id:b:b:b){b=a.rule_ids[0].id;i[b]=i[b]||[];i[b].push(a.id)}});e=d.map(function(d){__p&&__p();if(d.id==c){b("ErrorDialog").show(g._("Error"),g._("You can not assign the same match rule."));b("PageContentTabLoadingDialog").hide();return b("Promise").reject()}return b("VideosCopyrightRuleActions").reassociateReferences(a,c,d.id,i[d.id]||[],f).then(function(a){d.is_in_migration=!0;return},function(a){this._onError(h,a);return{error:a}}.bind(this))}.bind(this));b("promiseDone")(b("Promise").all(e),function(e){if((e=e)!=null?(e=e[0])!=null?e.error:e:e){b("PageContentTabLoadingDialog").hide();return}c?b("promiseDone")(b("VideosCopyrightRuleActions").getMatchRule(c,f),function(e){b("PageContentTabDispatcher").handlePostChanged(e,b("PageContentTabConstants").TABS.MATCH_RULES,a),b("PageContentTabDispatcher").handlePostsChanged(d,b("PageContentTabConstants").TABS.MATCH_RULES,a),this._logAction(h,c),b("PageContentTabLoadingDialog").hideWithSuccessMessage(g._("Your match rule is updating. This may take some time."),2*b("DateConsts").MS_PER_SEC),b("Arbiter").inform("rightsmanager/reassociationSucceeded"+a,{})}.bind(this),function(a){this._onError(h,a)}.bind(this)):(b("PageContentTabDispatcher").handlePostsChanged(d,b("PageContentTabConstants").TABS.MATCH_RULES,a),this._logAction(h,""),b("PageContentTabLoadingDialog").hide())}.bind(this))},deleteMatchRule:function(a,c,d){b("PageContentTabLoadingDialog").show();var e=b("VideoCopyrightRuleLoggingAction").MATCH_RULE_DELETED;b("promiseDone")(b("VideosCopyrightRuleActions").deleteMatchRule(c,d),function(d){b("PageContentTabDispatcher").handlePostRemoved(a,c,b("PageContentTabConstants").TABS.MATCH_RULES),this._logAction(e,c),b("PageContentTabLoadingDialog").hide()}.bind(this),function(a){this._onError(e,a,c)}.bind(this))},_logAction:function(a,c){b("PageContentTabLogger").log(b("PageContentTabLoggingEvents").ACTION_TAKEN_MAIN_VIEW,b("PageContentTabConstants").TABS.MATCH_RULES,{action:a,post_id:c,num_posts:1,bulk_action:!1})},_showErrorForAction:function(a){var c=void 0;switch(a){case b("VideoCopyrightRuleLoggingAction").MATCH_RULE_CREATED:c=g._("There was a problem creating your match rule. Please try again later.");break;case b("VideoCopyrightRuleLoggingAction").MATCH_RULE_VIEWED:c=g._("There was a problem displaying your match rule. Please try again later.");break;case b("VideoCopyrightRuleLoggingAction").MATCH_RULE_DELETED:c=g._("There was a problem deleting your match rule. Please try again later.");break}b("ErrorDialog").show(g._("Something Happened"),c)},_onError:function(a,c,d){this._showErrorForAction(a),b("PageContentTabLogger").log(b("PageContentTabLoggingEvents").API_ERROR,b("PageContentTabConstants").TABS.MATCH_RULES,{error:JSON.stringify(c),action:a,post_id:d})}};e.exports=a}),null);
__d("ScheduledLiveTimeStringUtil",["fbt","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=24*60*60*1e3;a={getStr:function(a){return b("React").createElement("span",null,this.getDateStr(a)," ",b("formatDate")(a,"g:ia"))},getDateStr:function(a){var c=new Date(a),d=new Date(Date.now()),e=new Date(Date.now()+h),f=new Date(Date.now()+2*h),i=new Date(Date.now()+3*h);d.toDateString()===c.toDateString()?d=g._("Today at"):e.toDateString()===c.toDateString()?d=g._("Tomorrow at"):f.toDateString()===c.toDateString()||i.toDateString()===c.toDateString()?d=this._renderDayOfWeekString(c.getDay()):d=b("formatDate")(a,"F d");return d},_renderDayOfWeekString:function(a){switch(a){case 0:return g._("Sunday at");case 1:return g._("Monday at");case 2:return g._("Tuesday at");case 3:return g._("Wednesday at");case 4:return g._("Thursday at");case 5:return g._("Friday at");case 6:return g._("Saturday at")}return null}};e.exports=a}),null);
__d("ScheduledLiveStoryVideoPreview.react",["ix","cx","fbt","BackgroundImage.react","Image.react","React","ScaledImage.react","ScheduledLiveTimeStringUtil","XUIButton.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=a.URL||a.webkitURL||{};j=babelHelpers.inherits(c,b("React").Component);j&&j.prototype;c.prototype.render=function(){var a=b("React").createElement("div",{className:"_ary"});return b("React").createElement("div",{className:"_ar_"},this.$1(),a,this.$2())};c.prototype.$1=function(){return this.props.backgroundImage.imageURL&&this.props.backgroundImage.width&&this.props.backgroundImage.height?b("React").createElement(b("ScaledImage.react"),{width:600,height:300,className:"_as0",src:this.props.backgroundImage.imageURL,imageSize:{width:this.props.backgroundImage.width,height:this.props.backgroundImage.height}}):null};c.prototype.$3=function(){var a=this.props.customProfileImage,c=this.props.customProfileImagePosition;c=c?""+c.x*100+"% "+c.y*100+"%":"50% 50%";if(a!=null)return b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"coverinside",backgroundPosition:c,className:"_as4",height:88,src:k.createObjectURL(a),width:88});return this.props.previousCustomImage!=null?b("React").createElement(b("Image.react"),{className:"_as4",src:this.props.previousCustomImage}):b("React").createElement(b("Image.react"),{className:"_as4",src:this.props.profileImageURL})};c.prototype.$2=function(){var a=this.$3(),c=b("React").createElement("div",{className:"_as5"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},b("ScheduledLiveTimeStringUtil").getStr(this.props.plannedStartTime))),d=this.props.isPremiere?i._("{broadcaster_name} plans to premiere a video.",[i._param("broadcaster_name",this.props.profileName)]):i._("{broadcaster_name} plans to go live.",[i._param("broadcaster_name",this.props.profileName)]);d=b("React").createElement("div",{className:"_as5"},b("React").createElement(b("XUIText.react"),{size:"header4"},d));var e=b("React").createElement(b("XUIButton.react"),{size:"medium",className:"_as6",label:i._("Get Reminder"),image:b("React").createElement(b("Image.react"),{src:g("114508")})});return b("React").createElement("div",null,b("React").createElement("div",null,a),b("React").createElement("div",{className:"_as7"},c,d,e))};function c(){j.apply(this,arguments)}e.exports=c}),null);
__d("easeInOutInterpolate",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a>=0&&a<=1||g(0);return Math.cos((a+1)*Math.PI)/2+.5};e.exports=a}),null);
__d("SphericalParallaxUtils",["easeInOutInterpolate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=200,h=-100,i=g-h,j=45,k={getMinYawOffset:function(a,b,c,d){c=j*(c-h)/i;if(!a)return c;a=-a+b;if(d>180){b=-(360-d-c);return b>a?Math.abs(-(360-d)-a):c}else return d-c<a?d+a:c},getMaxYawOffset:function(a,b,c,d){c=j*(g-c)/i;if(!a||d>180)return c;a=a-b;if(d<180)return c+d>a?a-d:c;else return d-360+c>a?a-(d-360):c},calculateNewYaw:function(a,c,d,e,f,j){__p&&__p();e=k.getMinYawOffset(e,j,c,d);f=k.getMaxYawOffset(f,j,c,d);if(a<h)return{yaw:-e,success:!0};if(a>g)return{yaw:f,success:!0};j=b("easeInOutInterpolate")((a-h)/i)*i+h;if(j>=h&&j<=g){j>c?a=d+f*((j-c)/(g-c)):a=d-e+e*(j-h)/(c-h);if(a<=d+f&&a>=d-e)return{yaw:a,success:!0}}return{yaw:0,success:!1}},calculateYawOffset:function(a,b,c,d){return k.calculateNewYaw(a,50,0,b,c,d)}};e.exports=k}),null);
__d("VideoAssetPostsTable.react",["cx","fbt","ContentTabPageInfo","FixedDataTable.react","FixedDataTableColumn.react","Image.react","LeftRight.react","LineClamp.react","PageContentTabCellRenderers","React","VideoPublishingStateIndicator.react","VideoPublishingStateIndicatorUtils","XUICheckboxInput.react","XUIDateTimePickerUtils","XUIGrayText.react","formatDate","joinClasses","parseISODate"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=20,k=435,l=275,m=80,n=140,o=28,p=55,q=26,r=7e3,s=1e3;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[])};a.prototype.$2=function(a){"use strict";a=this.$1()[a];var b=a.title?a.title+" ":"",c=a.description?a.description:"",d=a.isPublished?a.createdTime:a.schedulePublishTime?a.schedulePublishTime:null;return{video:{text:b+c,img:a.thumbnailUrl,expirationTime:a.expirationTime?a.expirationTime:null,publishTime:d,isDraft:!a.isPublished&&!d,creationTime:a.createdTime},views:a.viewsCount,time:new Date(a.createdTime*s).toISOString(),selected:this.props.selectedOrganicPosts.indexOf(a)>=0,showPostStateIndicator:this.props.showPostStateIndicator}};a.prototype.$3=function(a,c){__p&&__p();var d=this;if(a==="profile")return{cellRenderer:function(a){return!a?b("React").createElement("div",null):b("React").createElement("div",null,b("React").createElement(b("Image.react"),{src:a.img,className:"_16fx"}),b("React").createElement("div",{className:"_16fy","data-tooltip-content":a.text},b("React").createElement(b("LineClamp.react"),{lines:2},b("React").createElement("div",{className:"_16fz"},a.text))))},key:"video",label:h._("Your Posts"),width:k};else if(a==="summary")return{cellRenderer:function(a){return!a?b("React").createElement("div",null):b("React").createElement("div",null,b("React").createElement("div",{className:"_16fy","data-tooltip-content":a.text},b("React").createElement("div",{className:"_1tq2"},a.text)))},key:"video",label:h._("Your Posts"),width:l};else if(a==="views")return{cellRenderer:function(a){return b("PageContentTabCellRenderers").renderCellWithNumber(a)},key:"views",width:m,label:h._("Views")};else if(a==="dateCreated"){a=function(){__p&&__p();var a=d;return{v:{cellRenderer:function(d,e,f){if(c&&f.video){e=f.video;f=b("VideoPublishingStateIndicatorUtils").getState(e);return b("React").createElement(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,className:"_3g5l"},b("React").createElement(b("VideoPublishingStateIndicator.react"),{state:f,toolTip:b("VideoPublishingStateIndicatorUtils").getStateToolTip(f,e)}),a.renderDateCell(d))}else return a.renderDateCell(d)},width:n,key:"time",headerRenderer:function(a,d,e){d=c?"_3-9b":"";return b("React").createElement("span",{className:d},a)},label:h._("Date Created")}}}();if(typeof a==="object")return a.v}};a.prototype.renderDateCell=function(a){"use strict";if(!a)return b("React").createElement("div",null);a=b("parseISODate")(a);a=b("XUIDateTimePickerUtils").offsetDate(a,a.getTimezoneOffset()/60*-1,!0);a=b("XUIDateTimePickerUtils").getOffsetUIDate(a,b("ContentTabPageInfo").accountGmtOffsetSeconds/60);var c=b("formatDate")(a,"M j, Y");a=b("formatDate")(a,"g:ia");return b("React").createElement("div",null,b("React").createElement(b("LineClamp.react"),{lines:1},b("React").createElement("span",null,c)," ",b("React").createElement(b("XUIGrayText.react"),{size:"meta1"},a)))};a.prototype.$4=function(event){"use strict";__p&&__p();var a=this.$1(),b=Number(event.target.value);a=a[b];b=this.props.selectedOrganicPosts;var c=void 0;if(event.target.checked)c=b.concat(a);else{a=b.indexOf(a);c=b.slice(0);c.splice(a,1)}this.props.onPostSelectionChange(c)};a.prototype.$5=function(){"use strict";var a=this.props.columns.map(function(a){return this.$3(a,this.props.showPostStateIndicator)}.bind(this));this.props.allowRowSelection&&a.unshift({cellRenderer:function(a,c,d,e){return b("React").createElement("div",{className:"_3zpx"},b("React").createElement(b("XUICheckboxInput.react"),{value:e,checked:a,onChange:this.$4.bind(this)}))}.bind(this),width:j,key:"selected"});return a};a.prototype.$6=function(){"use strict";var a=this.$5();return a.map(function(a){return b("React").createElement(b("FixedDataTableColumn.react"),{width:a.width,key:a.key,dataKey:a.key,label:a.label,cellRenderer:a.cellRenderer,headerRenderer:a.headerRenderer})})};a.prototype.$7=function(){"use strict";return"_16f-"};a.prototype.$8=function(){"use strict";return this.props.columns.indexOf("profile")>=0?p:q};a.prototype.$9=function(){"use strict";return this.props.hideHeader?0:o};a.prototype.render=function(){"use strict";var a=this.$5().reduce(function(a,b){return a+b.width},0),c=this.$8();return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_16g2"+(this.props.hideHeader?" _16g3":"")+(c===q?" _16g4":"")+(this.props.onRowClick?" _16g5":""))},b("React").createElement(b("FixedDataTable.react"),{width:a,onRowClick:this.props.onRowClick,rowsCount:this.$1().length,rowGetter:this.$2.bind(this),rowClassNameGetter:this.$7.bind(this),headerHeight:this.$9(),rowHeight:c,maxHeight:r},this.$6()))};function a(){"use strict";i.apply(this,arguments)}a.defaultProps={hideHeader:!1,allowRowSelection:!1,selectedOrganicPosts:[],showPostStateIndicator:!1};e.exports=a}),null);
__d("VideoAssetPostsSelection.react",["cx","fbt","React","ShimButton.react","VideoAssetPostsTable.react","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=" \u25b4",k=" \u25be";c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.state={showPostsTable:!1}}a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.posts.length},0)};a.prototype.render=function(){"use strict";var a=void 0,c=void 0,d=this.$1(),e=void 0;this.state.showPostsTable?(a=b("React").createElement(b("VideoAssetPostsTable.react"),{className:"_3-8w",organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.props.selectedOrganicPosts,onPostSelectionChange:this.props.onPostSelectionChange,columns:["summary","dateCreated"],hideHeader:!0,allowRowSelection:!0}),c=b("React").createElement(b("ShimButton.react"),{form:"link",onClick:function(){return this.setState({showPostsTable:!1})}.bind(this)},b("React").createElement(b("XUIText.react"),{size:"meta1"},h._("Hide {totalPostsCount} Posts",[h._param("totalPostsCount",d)])),b("React").createElement(b("XUIText.react"),{size:"meta1"},k)),this.props.tableCaption&&(e=b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x",shade:"light",size:"meta1",display:"block"},this.props.tableCaption))):c=b("React").createElement(b("ShimButton.react"),{form:"link",onClick:function(){return this.setState({showPostsTable:!0})}.bind(this)},b("React").createElement(b("XUIText.react"),{size:"meta1"},h._("Show {totalPostsCount} Posts",[h._param("totalPostsCount",d)])),b("React").createElement(b("XUIText.react"),{size:"header3"},j));return b("React").createElement("div",{className:this.props.className},c,a,e)};e.exports=a}),null);
__d("SortedCopyrightCountryCodes",["CopyrightCountryNames"],(function(a,b,c,d,e,f){e.exports=Object.keys(b("CopyrightCountryNames")).sort(function(a,c){if(b("CopyrightCountryNames")[a]<b("CopyrightCountryNames")[c])return-1;return b("CopyrightCountryNames")[a]>b("CopyrightCountryNames")[c]?1:0})}),null);
__d("VideoCopyrightPostGraphFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ID:"id",ATTRIBUTION_ID:"attribution_id",COPYRIGHT_CONTENT_ID:"copyright_content_id",IS_REFERENCE_VIDEO:"is_reference_video",MONITORING_TYPE:"monitoring_type",RULE_ID:"rule_id",WHITELISTED_IDS:"whitelisted_ids",WHITELISTED_IG_USER_IDS:"whitelisted_ig_user_ids",OWNERSHIP_COUNTRIES:"ownership_countries",EXCLUDED_OWNERSHIP_COUNTRIES:"excluded_ownership_countries",EXCLUDED_OWNERSHIP_SEGMENTS:"excluded_ownership_segments",APPEND_EXCLUDED_OWNERSHIP_SEGMENTS:"append_excluded_ownership_segments",IS_REFERENCE_DISABLED:"is_reference_disabled",OPS_OVERRIDE_MONITORING_TYPE:"ops_override_monitoring_type",IS_REFERENCE_DISABLED_BY_OPS:"is_reference_disabled_by_ops",CONTENT_CATEGORY:"content_category",PAUSE_LIVE_MONITORING:"pause_live_monitoring",PAUSE_LIVE_MONITORING_TYPE:"pause_live_monitoring_type"})}),null);
__d("VideoCopyrightAPI",["fbt","regeneratorRuntime","Promise","GraphAPI","PageContentTabRightsManagerStore","SimpleXUIDialog","VideoContainerType","VideoCopyrightPostGraphFields","VideoCopyrightUITypedLogger","VideoCopyrightUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="NO_RULE_SELECTED";a={toAPI:function(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:d={};c.copyrightRuleID!=undefined&&(d[b("VideoCopyrightPostGraphFields").RULE_ID]=c.copyrightRuleID);"copyrightAttributionID"in c&&(d[b("VideoCopyrightPostGraphFields").ATTRIBUTION_ID]=c.copyrightAttributionID||0);c.copyrightMonitoringType!=undefined&&(d[b("VideoCopyrightPostGraphFields").MONITORING_TYPE]=c.copyrightMonitoringType);c.copyrightOwnershipCountries!=undefined&&(c.areCopyrightCountriesIncluded?d[b("VideoCopyrightPostGraphFields").OWNERSHIP_COUNTRIES]=c.copyrightOwnershipCountries:d[b("VideoCopyrightPostGraphFields").EXCLUDED_OWNERSHIP_COUNTRIES]=c.copyrightOwnershipCountries);c.isReferenceFileDisabled!=undefined&&(d[b("VideoCopyrightPostGraphFields").IS_REFERENCE_DISABLED]=!!c.isReferenceFileDisabled);c.copyrightWhitelistedFBUsers!=undefined&&(d[b("VideoCopyrightPostGraphFields").WHITELISTED_IDS]=(c.copyrightWhitelistedFBUsers||[]).map(function(a){return a.id}));if(!Array.isArray(c.copyrightWhitelistedIGUserNames)){f.next=12;break}f.next=10;return b("regeneratorRuntime").awrap(b("VideoCopyrightUtils").convertIGUserNameToIDs(a,c.copyrightWhitelistedIGUserNames));case 10:e=f.sent,Array.isArray(e)&&(d[b("VideoCopyrightPostGraphFields").WHITELISTED_IG_USER_IDS]=e.filter(function(a){return a!=null}));case 12:(c.video_container||c.isReferenceVideo)&&(d[b("VideoCopyrightPostGraphFields").IS_REFERENCE_VIDEO]=c.video_container===b("VideoContainerType").COPYRIGHT_REFERENCE_VIDEO||c.isReferenceVideo===!0);c.copyrightExcludedSegments!=undefined&&(d[b("VideoCopyrightPostGraphFields").EXCLUDED_OWNERSHIP_SEGMENTS]=c.copyrightExcludedSegments,d[b("VideoCopyrightPostGraphFields").APPEND_EXCLUDED_OWNERSHIP_SEGMENTS]=c.shouldAppendExcludedSegments||!1);c.selectedCategory!=undefined&&(d[b("VideoCopyrightPostGraphFields").CONTENT_CATEGORY]=c.selectedCategory);return f.abrupt("return",d);case 16:case"end":return f.stop()}},null,this)},copyrightVideo:function(a,c,d,e,f,g){__p&&__p();var i,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:i=e.copyrightRuleID;if(!(i===h&&!b("PageContentTabRightsManagerStore").getIsRMLite())){l.next=5;break}j=this._getErrorMessageForNoRuleSelected();this._showErrorDialog(j);return l.abrupt("return",b("Promise").reject(new Error()));case 5:l.next=7;return b("regeneratorRuntime").awrap(this.toAPI(c,e));case 7:k=l.sent;k[b("VideoCopyrightPostGraphFields").COPYRIGHT_CONTENT_ID]=d;return l.abrupt("return",b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",c).edge("video_copyrights").post(babelHelpers["extends"]({},k,{access_token:a})).then(function(a){g&&g(a),this._logEvent("copyright_created",f,c,d,null,k)}.bind(this),function(a){this._logEvent("api_error",f,c,d,null,k,a);this._showErrorDialog(a);throw a}.bind(this)));case 10:case"end":return l.stop()}},null,this)},uncopyrightVideo:function(a,c,d,e,f,g,h){__p&&__p();var i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:j.next=2;return b("regeneratorRuntime").awrap(this.toAPI(c,f));case 2:i=j.sent;return j.abrupt("return",b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright",e).remove({access_token:a}).then(function(a){h&&h(a),this._logEvent("copyright_deleted",g,c,d,e,i)}.bind(this),function(a){this._logEvent("api_error",g,c,d,e,i,a);throw a}.bind(this)));case 4:case"end":return j.stop()}},null,this)},editVideoCopyright:function(a,c,d,e,f,g){__p&&__p();var h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(this.toAPI(c,f));case 2:h=i.sent;return i.abrupt("return",b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright",e).post(babelHelpers["extends"]({},h,{access_token:a})).then(function(a){return this._logEvent("copyright_edited",g,c,d,e,h)}.bind(this),function(a){this._logEvent("api_error",g,c,d,e,h,a);this._showErrorDialog(a);throw a}.bind(this)));case 4:case"end":return i.stop()}},null,this)},reassignVideoCopyrightMatchRule:function(a,c,d,e,f){return b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright",d).post({rule_id:e,access_token:a}).then(function(a){new(b("VideoCopyrightUITypedLogger"))().setEvent("reassign_match_rule").setSource(f).setCopyrightID(d).setRightsHolderID(c).setRuleID(e).log()},function(a){new(b("VideoCopyrightUITypedLogger"))().setEvent("api_error").setSource(f).setCopyrightID(d).setRightsHolderID(c).setMessage("Tried to assign to rule ID "+e).setExceptionMessage(a).log();this._showErrorDialog(a);throw a}.bind(this))},updateAttribution:function(a,c,d,e,f){return b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("video_copyright",d).post({attribution_id:e==null?0:e,access_token:a})},_logEvent:function(event,a,c,d,e,f,g){new(b("VideoCopyrightUITypedLogger"))().setEvent(event).setSource(a).setCopyrightContentID(d).setCopyrightID(e).setRightsHolderID(c).setMonitoringType(f[b("VideoCopyrightPostGraphFields").MONITORING_TYPE]).setIsReference(f[b("VideoCopyrightPostGraphFields").IS_REFERENCE_VIDEO]).setOwnershipCountries((f[b("VideoCopyrightPostGraphFields").OWNERSHIP_COUNTRIES]||[]).join(",")).setWhitelistedIds((f[b("VideoCopyrightPostGraphFields").WHITELISTED_IDS]||[]).join(",")).setAttributionID(f[b("VideoCopyrightPostGraphFields").ATTRIBUTION_ID]).setRuleID(f[b("VideoCopyrightPostGraphFields").RULE_ID]).setExceptionMessage(g).log()},_showErrorDialog:function(a){b("SimpleXUIDialog").show(a.error_user_msg||g._("Your video can't be monitored for matching uploads right now. Please try again later."),a.error_user_title||g._("Can't monitor video"))},_getErrorMessageForNoRuleSelected:function(){return{error_user_msg:g._("Match rule is required.")}}};e.exports=a}),null);
__d("VideoCopyrightClaimAdEarningsText",["fbt","PageSettingsRef","XPagesManagerSettingsController"],(function(a,b,c,d,e,f,g){"use strict";a={getRightsManagerSettingsURI:function(a){return b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",a).setString("tab","video_copyright_management").setString("ref",b("PageSettingsRef").VIDEO_COPYRIGHT).getURI()},getTitle:function(){return g._("Claim Ad Earnings")},getMessage:function(){return g._("Pages and profiles can now earn money through ad breaks placed in their videos. If you find content posted by others that belongs to you, you may be able to claim a share of the ad earnings. Learn more.")}};e.exports=a}),null);
__d("VideoCopyrightGeoSearchSource",["AbstractSearchSource","CopyrightCountryNames","SearchableEntry","filterObject","forEachObject"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("AbstractSearchSource"));g&&g.prototype;a.prototype.searchImpl=function(a,c){arguments.length<=2||arguments[2]===undefined?({}):arguments[2];var d=[];a&&(function(){var c=a.toLowerCase(),e=b("filterObject")(b("CopyrightCountryNames"),function(a){return a.toString().toLowerCase().includes(c)}),f=0;b("forEachObject")(e,function(a,c){d.push(new(b("SearchableEntry"))({order:f++,title:a,uniqueID:c}))})})();c(d,a)};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("VideoCopyrightMatchContentType",["ix","fbt","fbglyph"],(function(a,b,c,d,e,f,g,h){a={VIDEO_AND_AUDIO:{value:"VIDEO_AND_AUDIO",label:h._("Video and Audio"),glyphs:[g("122523"),g("123754")]},VIDEO_ONLY:{value:"VIDEO_ONLY",label:h._("Video Only"),glyphs:[g("122523")]},AUDIO_ONLY:{value:"AUDIO_ONLY",label:h._("Audio Only"),glyphs:[g("123754")]}};e.exports=a}),null);
__d("VideoCopyrightMatchPrivacyType",["fbt"],(function(a,b,c,d,e,f,g){a={PUBLIC_ONLY:{value:"PUBLIC_ONLY",label:g._("Public videos only")},PRIVATE_ONLY:{value:"PRIVATE_ONLY",label:g._("Private videos only")},PUBLIC_OR_PRIVATE:{value:"PUBLIC_OR_PRIVATE",label:g._("Both public and private videos")}};e.exports=a}),null);
__d("PolicyRuleAction",[],(function(a,b,c,d,e,f){__p&&__p();var g=0;function a(a,b){"use strict";this.$1=a,this.$2=b||[],this.$3=++g}a.prototype.getActionType=function(){"use strict";return this.$1};a.prototype.getID=function(){"use strict";return this.$3};a.prototype.getConditions=function(){"use strict";return this.$2};a.prototype.pushCondition=function(a){"use strict";this.$2.push(a)};a.prototype.pushConditionByIndex=function(a,b){"use strict";this.$2.splice(b,0,a)};a.prototype.removeCondition=function(a){"use strict";a=this.$2.indexOf(a);this.$2.splice(a,1)};a.prototype.setActionType=function(a){"use strict";this.$1=a};a.prototype.areConditionsValid=function(){"use strict";return this.$2.every(function(a){return a.isValid&&a.isValid()})};e.exports=a}),null);
__d("PolicyRuleCondition",["fbt"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b,c){"use strict";this.$1=a,this.$2=b,this.$3=c,this.$4=null}a.prototype.getConditionType=function(){"use strict";return this.$1};a.prototype.setConditionType=function(a){"use strict";this.$1=a};a.prototype.getOption=function(){"use strict";return this.$2};a.prototype.setOption=function(a){"use strict";this.$2=a};a.prototype.getValue=function(){"use strict";return this.$3};a.prototype.setValue=function(a){"use strict";this.$3=a};a.prototype.isValid=function(){"use strict";return this.getError()==null};a.prototype.setCustomError=function(a){"use strict";this.$4=a};a.prototype.getError=function(a){"use strict";if(this.$4)return this.$4;a=a?a:this.$3;if(!a||a.length===0)return g._("Provide a value for this condition.")};e.exports=a}),null);
__d("VideoCopyrightMatchPrivacyTypeName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PUBLIC_ONLY:"PUBLIC_ONLY",PRIVATE_ONLY:"PRIVATE_ONLY",PUBLIC_OR_PRIVATE:"PUBLIC_OR_PRIVATE"})}),null);
__d("VideoCopyrightRuleConditionOption",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={GREATER_THAN:{key:"GREATER_THAN",untranslated:"Greater than",text:g._("Greater than"),symbol:">"},LESS_THAN:{key:"LESS_THAN",untranslated:"Less than",text:g._("Less than"),symbol:"<"},LESS_THAN_OR_EQUAL:{key:"LESS_THAN_OR_EQUAL",untranslated:"Less than or equal",text:g._("Less than or equal"),symbol:"\u2264"},IN_SET:{key:"IN_SET",untranslated:"Is",text:g._("Is"),alias:"INCLUDE"},NOT_IN_SET:{key:"NOT_IN_SET",untranslated:"Is not",text:g._("Is not"),alias:"NOT_INCLUDE"},IS:{key:"IS",untranslated:"Is",text:g._("Is")},INCLUDE:{key:"INCLUDE",untranslated:"Include countries",text:g._("Include countries"),alias:"IN_SET"},NOT_INCLUDE:{key:"NOT_INCLUDE",untranslated:"Not include countries",text:g._("Exclude countries"),alias:"NOT_IN_SET"},WORLDWIDE:{key:"WORLDWIDE",untranslated:"Worldwide",text:g._("Worldwide")}};e.exports=a}),null);
__d("VideoCopyrightRuleCondition",["ClockFormatConverter","PolicyRuleCondition","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionType","VideoCopyrightRuleGraphFields","VideoCopyrightRuleOperatorType","VideoCopyrightMatchPrivacyTypeName","VideoCopyrightMatchContentType","VideoCopyrightPublisherType"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("PolicyRuleCondition"));g=c&&c.prototype;function a(a,b,c){"use strict";g.constructor.call(this,a,b,c)}a.prototype.toAPI=function(){"use strict";var a={},c=this.getValue();a[b("VideoCopyrightRuleGraphFields").TYPE]=this.getConditionType();a[b("VideoCopyrightRuleGraphFields").OPERATOR]=b("VideoCopyrightRuleOperatorType")[this.getOption()];this.getConditionType()===b("VideoCopyrightRuleConditionType").OVERLAP_DURATION&&(c=b("ClockFormatConverter").timestampToMillis(c));a[b("VideoCopyrightRuleGraphFields").VALUE]=c;return a};a.prototype.toAPIforNewMatchRule=function(){"use strict";var a={},c=this.getValue();a[b("VideoCopyrightRuleGraphFields").TYPE]=this.getConditionType();this.getConditionType()===b("VideoCopyrightRuleConditionType").GEO?a[b("VideoCopyrightRuleGraphFields").OPERATOR]=b("VideoCopyrightRuleConditionOption")[this.getOption()].alias:a[b("VideoCopyrightRuleGraphFields").OPERATOR]=b("VideoCopyrightRuleOperatorType")[this.getOption()];this.getConditionType()===b("VideoCopyrightRuleConditionType").OVERLAP_DURATION&&(c=b("ClockFormatConverter").timestampToMillis(c));this.getConditionType()===b("VideoCopyrightRuleConditionType").PRIVACY&&Array.isArray(c)&&(c.length>1?c=b("VideoCopyrightMatchPrivacyTypeName").PUBLIC_OR_PRIVATE:c=c[0]);this.getConditionType()===b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE&&Array.isArray(c)&&(c=c[0]);a[b("VideoCopyrightRuleGraphFields").VALUE]=c;return a};a.fromAPI=function(a){"use strict";var c=a[b("VideoCopyrightRuleGraphFields").TYPE],d=a[b("VideoCopyrightRuleGraphFields").OPERATOR];a=a[b("VideoCopyrightRuleGraphFields").VALUE];switch(c){case b("VideoCopyrightRuleConditionType").OVERLAP_DURATION:a=b("ClockFormatConverter").millisToTimestamp(parseInt(a,10)).toString();break;case b("VideoCopyrightRuleConditionType").MONITORING_TYPE:a=Array.isArray(a)?a:a.split(",");break}return new this(c,d,a)};a.fromAPIforNewMatchRule=function(a,c){"use strict";__p&&__p();var d=a[b("VideoCopyrightRuleGraphFields").TYPE],e=a[b("VideoCopyrightRuleGraphFields").OPERATOR],f=a[b("VideoCopyrightRuleGraphFields").VALUE];switch(d){case b("VideoCopyrightRuleConditionType").OVERLAP_DURATION:f=b("ClockFormatConverter").millisToTimestamp(parseInt(f,10)).toString();break;case b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE:case b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE:f=f.toString();break;case b("VideoCopyrightRuleConditionType").GEO:f.includes("Worldwide")?(e=b("VideoCopyrightRuleConditionOption").WORLDWIDE.key,f=["Worldwide"]):b("VideoCopyrightRuleConditionOption")[a[b("VideoCopyrightRuleGraphFields").OPERATOR]].alias&&(e=b("VideoCopyrightRuleConditionOption")[a[b("VideoCopyrightRuleGraphFields").OPERATOR]].alias);break;case b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE:f=Array.isArray(f)?f:[f];if(f.length===Object.keys(b("VideoCopyrightPublisherType")).length&&!c)return null;break;case b("VideoCopyrightRuleConditionType").MONITORING_TYPE:f=Array.isArray(f)?f:[f];if(f.length===Object.keys(b("VideoCopyrightMatchContentType")).length&&!c)return null;break;case b("VideoCopyrightRuleConditionType").PRIVACY:a=[b("VideoCopyrightMatchPrivacyTypeName").PUBLIC_ONLY,b("VideoCopyrightMatchPrivacyTypeName").PRIVATE_ONLY];if(f===b("VideoCopyrightMatchPrivacyTypeName").PUBLIC_OR_PRIVATE){if(!c)return null;f=a}else{f=Array.isArray(f)?f:[f];if(f.length===a.length&&!c)return null}break}return new this(d,e,f)};e.exports=a}),null);
__d("PolicyRuleTokenizedTypeahead.react",["React","SearchableEntry","SortedCopyrightCountryCodes","XUITokenizer.react"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={entries:[],queryString:"",searchSource:this.props.searchSource},this.$2=function(a){var b=this.props.value;b.push(a.getUniqueID().toString());this.props.onEntriesUpdated(b)}.bind(this),this.$3=function(a){var b=this.props.value;b.splice(b.indexOf(a.getUniqueID().toString()),1);this.props.onEntriesUpdated(b)}.bind(this),this.$4=function(event){this.setState({queryString:event.target.value})}.bind(this),b}a.prototype.componentDidMount=function(){"use strict";this.$1(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.$1(a)};a.prototype.$1=function(a){"use strict";__p&&__p();var c=[],d=0,e=b("SortedCopyrightCountryCodes").filter(function(b){return a.value.indexOf(b)!==-1});e.forEach(function(e){if(a.searchSourceLabels[e]){e=new(b("SearchableEntry"))({order:d,title:a.searchSourceLabels?a.searchSourceLabels[e]:e,uniqueID:e});c.push(e);d++}});this.setState({entries:c,searchSource:a.searchSource})};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUITokenizer.react"),{className:this.props.className,disabled:this.props.disabled,entries:this.state.entries,onAddEntryAttempt:this.$2,onQueryStringChange:this.$4,onRemoveEntryAttempt:this.$3,placeholder:this.props.placeholder,searchSource:this.state.searchSource,viewStyle:"textonly",xuiError:this.props.error})};a.propTypes={className:c.string,disabled:c.bool,name:c.string.isRequired,error:c.string,placeholder:c.string,searchSource:c.object,searchSourceLabels:c.object,onEntriesUpdated:c.func.isRequired,value:c.arrayOf(c.string).isRequired};e.exports=a}),null);
__d("VideoCopyrightPrivacyType",["fbt","VideoCopyrightMatchPrivacyTypeName","fbglyph"],(function(a,b,c,d,e,f,g){c=(a={},a[b("VideoCopyrightMatchPrivacyTypeName").PUBLIC_ONLY]={value:"PUBLIC_ONLY",label:g._("Public"),summaryLabel:g._("Public")},a[b("VideoCopyrightMatchPrivacyTypeName").PRIVATE_ONLY]={value:"PRIVATE_ONLY",label:g._("Limited"),summaryLabel:g._("Limited")},a);e.exports=c}),null);
__d("VideoCopyrightRuleConditionButtonSelector.react",["cx","Image.react","React","Tooltip","VideoCopyrightRuleCondition","XUIButton.react","XUIButtonGroup.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=function(b,a){var c=a.condition.getValue().indexOf(b);a=a.condition.getValue();if(c===-1)a.push(b);else{if(a.length<=1)return a;a.splice(c,1)}return a},d=Object.keys(a.VideoCopyrightSelectorOptionType);d=d.map(function(d){var e=a.VideoCopyrightSelectorOptionType[d];d=e.glyphs;var f=void 0,g=void 0;d?(f=d.map(function(a,c){return b("React").createElement(b("Image.react"),{className:"_3bc-",key:e.value+c,src:a})}),g=b("Tooltip").propsFor(e.label)):(f=e.label,g={});return b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({className:"_f66",onClick:function(){a.onValueUpdated(c(e.value,a))},disabled:a.isDisabled,key:e.value,depressed:a.condition.getValue().includes(e.value),value:e.value,label:f},g))});return b("React").createElement(b("XUIButtonGroup.react"),{className:"_f67"+(a.isDisabled?" _f68":"")},d)}e.exports=a}),null);
__d("VideoCopyrightRuleOverlapAddDeletButton.react",["ix","cx","VideoCopyrightRuleCondition","Image.react","React","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return b("React").createElement("span",null,a.shouldShowDeleteButton?b("React").createElement(b("Image.react"),{className:"_12w_",onClick:function(){return a.onConditionDelete(a.condition)},src:g("124318")}):null,a.shouldShowAddButton?b("React").createElement(b("Image.react"),{className:"_12w_",onClick:a.onConditionAdded,src:g("125014")}):null)};e.exports=a}),null);
__d("VideoCopyrightRuleOverlapPercentageInput.react",["cx","React","VideoCopyrightRuleCondition","XUITextInput.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return b("React").createElement(b("XUITextInput.react"),{className:"_431y",max:"100",disabled:a.isDisabled,onBlur:function(){var b=a.condition.getValue();if(!b||b.length===0||isNaN(b)){a.onValueUpdated("");return}Number(b)>100&&a.onValueUpdated("100")},onChange:function(b){return a.onValueUpdated(b.target.value)},placeholder:"0",value:a.condition.getValue(),xuiError:a.showError?a.condition.getError():null})}e.exports=a}),null);
__d("VideoCopyrightOverlapType",["fbt"],(function(a,b,c,d,e,f,g){a={OVERLAP_DURATION:{value:"OVERLAP_DURATION",label:g._("mins")},REFERENCE_OVERLAP_PERCENTAGE:{value:"REFERENCE_OVERLAP_PERCENTAGE",label:g._("\u0025 of reference file")},MATCH_OVERLAP_PERCENTAGE:{value:"MATCH_OVERLAP_PERCENTAGE",label:g._("\u0025 of matching video")}};e.exports=a}),null);
__d("VideoCopyrightRuleOverlapTypeSelector.react",["cx","React","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","VideoCopyrightOverlapType","VideoCopyrightRuleCondition"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("span",{className:"_ivl"},b("React").createElement(b("SUISelector.react"),{value:this.props.condition.getConditionType(),theme:b("SUIBusinessTheme"),disabled:this.props.isDisabled,onChange:function(a){return this.props.onOverlapTypeUpdated(a)}.bind(this)},Object.keys(b("VideoCopyrightOverlapType")).map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{value:a,key:a},b("VideoCopyrightOverlapType")[a].label)})))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("VideoCopyrightRuleConditionRowConfig",["cx","fbt","ClockFormatConverter","CopyrightCountryNames","PolicyRuleTokenizedTypeahead.react","React","VideoCopyrightGeoSearchSource","VideoCopyrightMatchContentType","VideoCopyrightPrivacyType","VideoCopyrightPublisherType","VideoCopyrightRuleActionType","VideoCopyrightRuleCondition","VideoCopyrightRuleConditionButtonSelector.react","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionType","VideoCopyrightRuleOverlapAddDeletButton.react","VideoCopyrightRuleOverlapPercentageInput.react","VideoCopyrightRuleOverlapTypeSelector.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=new(b("VideoCopyrightGeoSearchSource"))();a={GEO:{label:h._("Apply this action"),labelForLite:h._("Apply these settings"),options:[b("VideoCopyrightRuleConditionOption").WORLDWIDE,b("VideoCopyrightRuleConditionOption").INCLUDE,b("VideoCopyrightRuleConditionOption").NOT_INCLUDE],createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").GEO,b("VideoCopyrightRuleConditionOption").WORLDWIDE.key,[])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").GEO,b("VideoCopyrightRuleConditionOption").WORLDWIDE.key,[])},renderValueInput:function(a,c,d,e){return a.getOption()==b("VideoCopyrightRuleConditionOption").WORLDWIDE.key?null:b("React").createElement(b("PolicyRuleTokenizedTypeahead.react"),{className:"_drg _4peh _345w",disabled:d,error:e?a.getError():null,name:"typeahead",onEntriesUpdated:c,placeholder:h._("Choose countries"),searchSource:i,searchSourceLabels:b("CopyrightCountryNames"),value:a.getValue()||[]})},getSummary:function(a,c){if(a===b("VideoCopyrightRuleConditionOption").INCLUDE.key)return h._({"*":"Include {number} countries","_1":"Include 1 country"},[h._plural(c.length,"number")]);else if(a===b("VideoCopyrightRuleConditionOption").NOT_INCLUDE.key)return h._({"*":"Exclude {number} countries","_1":"Exclude 1 country"},[h._plural(c.length,"number")]);else if(a===b("VideoCopyrightRuleConditionOption").WORLDWIDE.key)return h._("Worldwide");return null}},OVERLAP_DURATION:{label:h._("Overlap"),options:[b("VideoCopyrightRuleConditionOption").GREATER_THAN,b("VideoCopyrightRuleConditionOption").LESS_THAN],createCondition:function(){var a=arguments.length<=0||arguments[0]===undefined?"":arguments[0];return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,b("VideoCopyrightRuleConditionOption").GREATER_THAN.key,a)},createConditionForTemplate:function(a){__p&&__p();var c="";switch(a){case b("VideoCopyrightRuleActionType").MONETIZE:c="5:00";break;case b("VideoCopyrightRuleActionType").BLOCK:c="5:00";break;case b("VideoCopyrightRuleActionType").TRACK:c="3:00";break;case b("VideoCopyrightRuleActionType").MANUAL_REVIEW:c="1:00";break}return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,b("VideoCopyrightRuleConditionOption").GREATER_THAN.key,c)},renderValueInput:function(a,c,d,e){a.getValue()||a.setValue("");return b("React").createElement("span",{className:"_431x"},b("React").createElement(b("XUITextInput.react"),{className:"_431y",disabled:d,onBlur:function(){var d=a.getValue();if(!d||d.length===0)return;var e=b("ClockFormatConverter").normalizeMinutesTimestamp(d);e==="0"?c(""):e!==d&&c(e)},onChange:function(a){a=a.target.value;b("ClockFormatConverter").validate(a,!0)&&c(a)},placeholder:h._("00 {Time separator} 00",[h._param("Time separator",b("ClockFormatConverter").TIME_SEPARATOR)]),value:a.getValue(),xuiError:e?a.getError():null}))},renderConditionTypeSelector:function(a,c,d){return b("React").createElement(b("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:a,onOverlapTypeUpdated:c,isDisabled:d})},nextConditionToAdd:b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE,renderConditionAddDeleteButton:function(a,c,d,e,f,g){return g?null:b("React").createElement(b("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:a,onConditionDelete:c,onConditionAdded:f,shouldShowAddButton:d,shouldShowDeleteButton:e})},getSummary:function(a,c){return!c?null:h._("Overlap {math symbol e.g. > or \u003C} {Condition value will be a time string e.g. 1:00} minute(s)",[h._param("math symbol e.g. > or <",b("VideoCopyrightRuleConditionOption")[a].symbol),h._param("Condition value will be a time string e.g. 1:00",c)])}},REFERENCE_OVERLAP_PERCENTAGE:{label:h._("Overlap"),options:[b("VideoCopyrightRuleConditionOption").GREATER_THAN,b("VideoCopyrightRuleConditionOption").LESS_THAN],createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE,b("VideoCopyrightRuleConditionOption").GREATER_THAN.key,"")},renderValueInput:function(a,c,d,e){return b("React").createElement("span",{className:"_431x"},b("React").createElement(b("VideoCopyrightRuleOverlapPercentageInput.react"),{condition:a,onValueUpdated:c,isDisabled:d,showError:e}))},renderConditionTypeSelector:function(a,c,d){return b("React").createElement(b("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:a,onOverlapTypeUpdated:c,isDisabled:d})},renderConditionAddDeleteButton:function(a,c,d,e,f,g){return g?null:b("React").createElement(b("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:a,onConditionDelete:c,onConditionAdded:f,shouldShowAddButton:d,shouldShowDeleteButton:e})},nextConditionToAdd:b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,getSummary:function(a,c){return!c?null:h._("Overlap {math symbol e.g. > or \u003C} {Condition value will be a percentage e.g. 0-100} \u0025 of reference file",[h._param("math symbol e.g. > or <",b("VideoCopyrightRuleConditionOption")[a].symbol),h._param("Condition value will be a percentage e.g. 0-100",c)])}},MATCH_OVERLAP_PERCENTAGE:{label:h._("Overlap"),options:[b("VideoCopyrightRuleConditionOption").GREATER_THAN,b("VideoCopyrightRuleConditionOption").LESS_THAN],createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,b("VideoCopyrightRuleConditionOption").GREATER_THAN.key,"")},renderValueInput:function(a,c,d,e){return b("React").createElement("span",{className:"_431x"},b("React").createElement(b("VideoCopyrightRuleOverlapPercentageInput.react"),{condition:a,onValueUpdated:c,isDisabled:d,showError:e}))},renderConditionTypeSelector:function(a,c,d){return b("React").createElement(b("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:a,onOverlapTypeUpdated:c,isDisabled:d})},renderConditionAddDeleteButton:function(a,c,d,e,f,g){return g?null:b("React").createElement(b("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:a,onConditionDelete:c,onConditionAdded:f,shouldShowAddButton:d,shouldShowDeleteButton:e})},nextConditionToAdd:b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,getSummary:function(a,c){return!c?null:h._("Overlap {math symbol} {Condition value will be a percentage e.g. 0-100} \u0025 of matching file",[h._param("math symbol",b("VideoCopyrightRuleConditionOption")[a].symbol),h._param("Condition value will be a percentage e.g. 0-100",c)])}},MONITORING_TYPE:{label:h._("Content type"),createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").MONITORING_TYPE,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value,b("VideoCopyrightMatchContentType").VIDEO_ONLY.value])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").MONITORING_TYPE,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value,b("VideoCopyrightMatchContentType").VIDEO_ONLY.value,b("VideoCopyrightMatchContentType").AUDIO_ONLY.value])},renderValueInput:function(a,c,d,e){return b("React").createElement("div",null,b("React").createElement(b("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:b("VideoCopyrightMatchContentType"),onValueUpdated:c,condition:a,isDisabled:d}))},getSummary:function(a,c){return c.map(function(a){return b("VideoCopyrightMatchContentType")[a].label}).join(", ")},getDetailedDescription:function(a,c){__p&&__p();if(!Array.isArray(c))return null;a=c.indexOf(b("VideoCopyrightMatchContentType").VIDEO_ONLY.value)!=-1;var d=c.indexOf(b("VideoCopyrightMatchContentType").AUDIO_ONLY.value)!=-1;c=c.indexOf(b("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value)!=-1;if(a&&!d&&!c)return h._("Matches will only contain video segments matching your reference file, not any audio segments.");if(!a&&d&&!c)return h._("Matches will only contain audio segments matching your reference file, not any video segments.");if(!a&&!d&&c)return h._("Matches must contain both video and audio segments matching your reference file.");if(a&&d&&!c)return h._("Matches will contain either video or audio segments matching your reference file, but not both.");if(a&&!d&&c)return h._("Matches must contain video segments matching your reference file.");if(!a&&d&&c)return h._("Matches must contain audio segments matching your reference file.");return a&&d&&c?h._("Matches will contain any matching video or audio."):null}},PUBLISHER_TYPE:{label:h._("Publisher"),createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightPublisherType").PAGE.value])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightPublisherType").PAGE.value,b("VideoCopyrightPublisherType").PERSON.value])},renderValueInput:function(a,c,d,e){return b("React").createElement(b("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:b("VideoCopyrightPublisherType"),onValueUpdated:c,condition:a,isDisabled:d})},getSummary:function(a,c){void 0;c.length===1?a=b("VideoCopyrightPublisherType")[c[0].toUpperCase()].summaryLabel:a=h._("Any");return h._("Publisher: {summary}",[h._param("summary",a)])}},PRIVACY:{label:h._("Privacy"),createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PRIVACY,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightPrivacyType").PUBLIC_ONLY.value])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PRIVACY,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightPrivacyType").PUBLIC_ONLY.value,b("VideoCopyrightPrivacyType").PRIVATE_ONLY.value])},renderValueInput:function(a,c,d,e){return b("React").createElement(b("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:b("VideoCopyrightPrivacyType"),onValueUpdated:c,condition:a,isDisabled:d})},getSummary:function(a,c){void 0;c.length===1?a=b("VideoCopyrightPrivacyType")[c[0]].summaryLabel:a=h._("Any");return h._("Privacy: {summary}",[h._param("summary",a)])}}};e.exports=a}),null);
__d("VideoCopyrightRuleAction",["PolicyRuleAction","VideoCopyrightMatchPrivacyType","VideoCopyrightRuleCondition","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleConditionType","VideoCopyrightRuleGraphFields"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("PolicyRuleAction"));g=c&&c.prototype;function a(a,c,d){"use strict";d&&(!c||!c.length)&&(c=[new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PRIVACY,b("VideoCopyrightRuleConditionOption").IS.key,b("VideoCopyrightMatchPrivacyType").PUBLIC_ONLY.value)]),g.constructor.call(this,a,c)}a.prototype.getConditionWithType=function(a){"use strict";return this.getConditions().find(function(b){return b.getConditionType()===a})};a.prototype.hasConditionType=function(a){"use strict";return!!this.getConditions().find(function(b){return b.getConditionType()===a})};a.prototype.toAPI=function(){"use strict";var a={};a[b("VideoCopyrightRuleGraphFields").ACTION]=this.getActionType();var c=this.getConditions().map(function(a){return a.toAPI()});a[b("VideoCopyrightRuleGraphFields").CONDITIONS]=c;return a};a.prototype.toAPIforNewMatchRule=function(){"use strict";var a={};a[b("VideoCopyrightRuleGraphFields").ACTION]=this.getActionType();var c=this.getConditions().filter(function(a){return a.getValue()&&a.getValue().length>0}).filter(function(a){return a.getConditionType()===b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE?a.getValue().length!==2:!0}).map(function(a){return a.toAPIforNewMatchRule()});a[b("VideoCopyrightRuleGraphFields").CONDITIONS]=c;return a};a.fromAPI=function(a){"use strict";var c=a[b("VideoCopyrightRuleGraphFields").ACTION];a=(a[b("VideoCopyrightRuleGraphFields").CONDITIONS]||[]).map(function(a){return b("VideoCopyrightRuleCondition").fromAPI(a)});c=new this(c,a);return c};a.fromAPIforNewMatchRule=function(a,c){"use strict";__p&&__p();var d=a[b("VideoCopyrightRuleGraphFields").ACTION],e=[];(a[b("VideoCopyrightRuleGraphFields").CONDITIONS]||[]).forEach(function(a){a=b("VideoCopyrightRuleCondition").fromAPIforNewMatchRule(a,c);a&&e.push(a)});a=new this(d,e);a.hasConditionType(b("VideoCopyrightRuleConditionType").GEO)||a.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").GEO.createDefaultCondition(),0);!a.hasConditionType(b("VideoCopyrightRuleConditionType").PRIVACY)&&c&&a.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").PRIVACY.createDefaultCondition(),a.getConditions().length);!a.hasConditionType(b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE)&&c&&a.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").PUBLISHER_TYPE.createDefaultCondition(),a.getConditions().length-1);!a.hasConditionType(b("VideoCopyrightRuleConditionType").MONITORING_TYPE)&&c&&a.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").MONITORING_TYPE.createDefaultCondition(),a.getConditions().length-2);return a};a.fromAction=function(a){"use strict";return new this(a.$VideoCopyrightRuleAction1,a.getConditions())};e.exports=a}),null);
__d("VideoCopyrightRule",["VideoCopyrightRuleAction","VideoCopyrightRuleGraphFields"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c,d){"use strict";this.$3=a||[],this.$2=b,this.$1=c,this.$4=d!=null?d:!1}a.prototype.getActions=function(){"use strict";return this.$3};a.prototype.isEmpty=function(){"use strict";return this.$3.length===0};a.prototype.pushAction=function(a){"use strict";this.$3.push(a)};a.prototype.removeAction=function(a){"use strict";a=this.$3.indexOf(a);this.$3.splice(a,1)};a.prototype.moveActionByIndex=function(a,b){"use strict";this.$3.splice(b,0,this.$3.splice(a,1)[0])};a.prototype.replaceActionType=function(a,b){"use strict";var c=this.$3.find(function(b){return b.getActionType()===a});if(c==null)return;c.setActionType(b)};a.prototype.removeActionByActionType=function(a){"use strict";var b=this.$3.find(function(b){return b.getActionType()===a});b&&this.removeAction(b)};a.prototype.hasName=function(){"use strict";return this.$2!=null&&this.$2.toString().trim().length>0};a.prototype.getName=function(){"use strict";return this.$2||""};a.prototype.setName=function(a){"use strict";this.$2=a};a.prototype.getID=function(){"use strict";return this.$1};a.prototype.isDisabled=function(){"use strict";return this.$4};a.prototype.toAPI=function(){"use strict";var a={};a[b("VideoCopyrightRuleGraphFields").NAME]=this.$2;var c=this.$3.map(function(a){return a.toAPI()});a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]=c;return a};a.prototype.toAPIforNewMatchRule=function(){"use strict";var a={};a[b("VideoCopyrightRuleGraphFields").NAME]=this.$2;var c=this.$3.map(function(a){return a.toAPIforNewMatchRule()});a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]=c;return a};a.fromAPI=function(a){"use strict";var c=a[b("VideoCopyrightRuleGraphFields").NAME],d=a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]?a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS].map(function(a){return b("VideoCopyrightRuleAction").fromAPI(a)}):[];return new this(d,c,a.id,a.disabled)};a.fromAPIforNewMatchRule=function(a){var c=arguments.length<=1||arguments[1]===undefined?!0:arguments[1],d=a[b("VideoCopyrightRuleGraphFields").NAME],e=a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]?a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS].map(function(a){return b("VideoCopyrightRuleAction").fromAPIforNewMatchRule(a,c)}):[];return new this(e,d,a.id,a.disabled)};e.exports=a}),null);
__d("VideoCopyrightRuleActionConfig",["fbt","VideoCopyrightRuleActionType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=[{key:b("VideoCopyrightRuleActionType").ALLOW,label:g._("Allow match"),tooltip:null},{key:b("VideoCopyrightRuleActionType").TRACK,label:g._("Monitor match"),tooltip:null},{key:b("VideoCopyrightRuleActionType").BLOCK,label:g._("Block match"),tooltip:g._("Not all matches are eligible for automatic blocking")},{key:b("VideoCopyrightRuleActionType").TAKEDOWN,label:g._("Take Down"),tooltip:null},{key:b("VideoCopyrightRuleActionType").MONETIZE,label:g._("Claim ad earnings"),tooltip:g._("Not all matches are eligible for automatic claiming of ad earnings. Ex: if there are no ad breaks. In that case, the next action-condition will be checked."),extraData:g._("If you're unable to claim ad earnings, the next action you select will be applied to the video.")},{key:b("VideoCopyrightRuleActionType").ACQUIRE_VIEWS_AND_MONETIZE,label:g._("Acquire Views & Monetize"),tooltip:g._("Not all matches are eligible for automatic views acquisition & monetization")},{key:b("VideoCopyrightRuleActionType").MANUAL_REVIEW,label:g._("Manually review match"),tooltip:null}];return a}e.exports=a}),null);
__d("VideoCopyrightRuleMetadataSummary.react",["cx","invariant","React","ReactComponentWithPureRenderMixin","VideoCopyrightRuleActionConfig","VideoCopyrightRuleConditionRowConfig","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.state={actionConfig:b("VideoCopyrightRuleActionConfig")({}),conditionConfig:b("VideoCopyrightRuleConditionRowConfig")}}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("ReactComponentWithPureRenderMixin").shouldComponentUpdate.call(this,a,c)};a.prototype.$1=function(a,c){"use strict";var d=this.state.conditionConfig[a.getConditionType()];d=d&&d.getSummary?d.getSummary:b("emptyFunction");if(d(a.getOption(),a.getValue())===null)return;return b("React").createElement("li",{className:"_idg",key:c},d(a.getOption(),a.getValue()))};a.prototype.$2=function(a,c){"use strict";var d=this.$3(a.getActionType());return b("React").createElement("span",{key:c},b("React").createElement("p",null,d.label),b("React").createElement("ul",{className:"_idh"},a.getConditions().map(function(a,b){return this.$1(a,b)}.bind(this))))};a.prototype.$3=function(a){"use strict";var b=this.state.actionConfig.filter(function(b){return b.key===a});b&&b.length==1||h(0);return b[0]};a.prototype.render=function(){"use strict";if(!this.props.rule)return null;var a=this.props.rule||{};return b("React").createElement("span",{className:this.props.className},a.getActions().map(function(a,b){return this.$2(a,b+1)}.bind(this)))};e.exports=a}),null);
__d("VideoCopyrightMatchRuleSelector.react",["cx","fbt","invariant","AdsSelectorWithTooltips.react","Arbiter","GraphAPI","LoadingIndicator.react","PageContentTabAccessToken","React","RightsManagerRulesRequestSource","VideoCopyrightRule","VideoCopyrightRuleMetadataSummary.react","VideoCopyrightUtils","XUIText.react","keyMirror","promiseDone"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("AdsSelectorWithTooltips.react").Option,l=b("keyMirror")({DEFAULT:null,CREATE:null,NO_RULE_SELECTED:null}),m={id:l.CREATE,name:h._("Create new Match Rule..."),condition_groups:[]},n={id:l.NO_RULE_SELECTED,name:h._("Choose match rule..."),condition_groups:[],disabled:!0},o=100;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){"use strict";j.constructor.call(this,a),this.state={rules:[],isLoading:!0}}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$3(),this.$2=!0,this.$1=b("Arbiter").subscribe("VideoCopyrightRule/closeDialog",this.$4.bind(this))};a.prototype.componentWillUnmount=function(){"use strict";this.$2=!1,this.$1&&(this.$1.unsubscribe(),this.$1=null)};a.prototype.$5=function(a){"use strict";var b=this.props.rulesToHideFromDisplay;b!=undefined||i(0);return a.filter(function(a){var c=a.getID();a=b.findIndex(function(a){return a.id===c});return a===-1})};a.prototype.$3=function(a){"use strict";__p&&__p();var c=this.props.accessToken?this.props.accessToken:b("PageContentTabAccessToken").getAccessToken();b("promiseDone")(b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",this.props.pageID).edge("video_copyright_rules").get({access_token:c,summary:["version"],source:b("RightsManagerRulesRequestSource").RULES_SELECTOR,selected_rule_id:this.props.selectedRule,limit:o}),function(c){if(!this.$2)return;c=c.data;c=!Array.isArray(c)||!c.length?[n]:c;var d=c.map(function(a){return b("VideoCopyrightRule").fromAPIforNewMatchRule(a)});this.setState({isLoading:!1,rules:d},function(){a?this.$6(a):this.props.selectedRule?this.$6(this.props.selectedRule):d.length>0&&this.$6(d[0].getID())}.bind(this));this.props.onMatchRuleLoaded&&this.props.onMatchRuleLoaded()}.bind(this))};a.prototype.$4=function(a,b){"use strict";b&&this.setState({isLoading:!0},function(){return this.$3(b)}.bind(this))};a.prototype.$6=function(a){"use strict";var b=void 0;if(a===l.CREATE){this.props.onCreateNewRule&&this.props.onCreateNewRule();return}else a===l.DEFAULT?b=null:b=a;b!==this.props.selectedRule&&(this.props.onChange(b),this.$7(this.state.rules.find(function(a){return a.getID()===b})))};a.prototype.$7=function(a){var b=this;this.props.onRuleActionsChange&&(function(){var c=new Set();a&&a.getActions().map(function(a){return c.add(a.getActionType())});b.props.onRuleActionsChange(c)})()};a.prototype.$8=function(event){"use strict";this.$6(event.value)};a.prototype.$9=function(a){"use strict";__p&&__p();if(this.props.rulesToHideFromDisplay&&this.props.rulesToHideFromDisplay.some(function(b){return b.id===a}))return null;if(a&&!this.state.rules.some(function(b){return b.getID()===a})){this.$6(null);return null}return a};a.prototype.$10=function(a){"use strict";return a&&a.getActions()&&a.getActions().length?b("React").createElement(b("VideoCopyrightRuleMetadataSummary.react"),{className:"_2jzx",rule:a}):null};a.prototype.$11=function(a){"use strict";return!a||a===l.NO_RULE_SELECTED?h._("Match rule is required"):null};a.prototype.$12=function(a){"use strict";return!a||a===l.NO_RULE_SELECTED?b("React").createElement(b("XUIText.react"),{className:"_okf",weight:"bold"},"!"):null};a.prototype.render=function(){"use strict";__p&&__p();if(this.state.isLoading)return b("React").createElement(b("LoadingIndicator.react"),{size:"small",color:"white"});var a=this.state.rules;this.props.rulesToHideFromDisplay!=null&&this.props.rulesToHideFromDisplay.length&&(a=this.$5(a));a=this.props.onCreateNewRule?a.concat([b("VideoCopyrightRule").fromAPIforNewMatchRule(m)]):a;var c=a.map(function(a){return b("React").createElement(k,{tooltip:this.$10(a),key:a.getID(),value:a.getID(),disabled:a.isDisabled()},a.getName())}.bind(this)),d=this.$9(this.props.selectedRule);d||(d=a&&a.length?a[0].getID():l.DEFAULT,this.$6(d));return b("React").createElement("div",{className:this.props.className},b("React").createElement(b("AdsSelectorWithTooltips.react"),{disabled:this.props.disabled,onChange:this.$8.bind(this),value:d,defaultValue:a[0].getID(),maxheight:400,xuiError:this.$11(d),xuiErrorPosition:"below"},c),this.$12(d))};e.exports=a}),null);
__d("MatchRuleDeleteConfirmationDialog.react",["cx","fbt","React","VideoCopyrightUtils","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_3-95",size:"header4",display:"block"},h._("This match rule will be permanently deleted.")),b("React").createElement(b("XUIText.react"),{className:"_3-8x",size:"header4",display:"block"},h._({"reference file":{"this reference file":"This rule is now used by {Number of reference files} reference file. If you delete the rule, all new matches for this reference file will appear in your New Matches list in Rights Manager.","these reference files":"This rule is now used by {Number of reference files} reference file. If you delete the rule, all new matches for these reference files will appear in your New Matches list in Rights Manager."},"reference files":{"this reference file":"This rule is now used by {Number of reference files} reference files. If you delete the rule, all new matches for this reference file will appear in your New Matches list in Rights Manager.","these reference files":"This rule is now used by {Number of reference files} reference files. If you delete the rule, all new matches for these reference files will appear in your New Matches list in Rights Manager."}},[h._param("Number of reference files",b("VideoCopyrightUtils").formatNumber(this.props.postCount)),h._enum(this.props.postCount===1?"reference file":"reference files",{"reference file":"reference file","reference files":"reference files"}),h._enum(this.props.postCount===1?"this reference file":"these reference files",{"this reference file":"this reference file","these reference files":"these reference files"})])))};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{width:450,shown:!0,fixedTopPosition:100},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Delete match rule?")),b("React").createElement(b("XUIDialogBody.react"),null,this.$1()),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:h._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{label:h._("Delete"),action:"cancel",size:"large",use:"confirm",onClick:this.props.onDelete})))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("VideoCopyrightRuleActionItemConfig",["ix","cx","fbt","React","SUIBusinessTheme","SUITooltip.react","VideoCopyrightClaimAdEarningsText","VideoCopyrightRuleActionType","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=[{key:b("VideoCopyrightRuleActionType").MONETIZE,title:i._("Claim Ad Earnings (Facebook Only)"),className:"_4bd5",titleOnDisable:b("React").createElement(b("SUITooltip.react"),{theme:b("SUIBusinessTheme"),position:"right",tooltip:i._("To claim ad earnings, you'll first need to specify how you or your organization would like to be paid by going to Settings > Rights Manager.")},i._("Claim Ad Earnings (Facebook Only)")),description:i._("Receive a share of the money earned from a matching video's ad breaks on Facebook"),descriptionForManualClaim:i._("Receive a share of the money earned by this video's ad breaks"),filterDescription:i._("Set up filters describing the type of matching videos you want to claim ad earnings from."),descriptionOnDisable:function(a){return i._("Receive a share of the money earned from a matching video's ad breaks on Facebook {=Set up Claiming}",[i._param("=Set up Claiming",b("React").createElement("a",{href:b("VideoCopyrightClaimAdEarningsText").getRightsManagerSettingsURI(a),target:"_blank"},i._("Set up Claiming")))])},glyphClassName:"_4utm",glyph:g("134490"),summaryGlyph:g("124876"),warning:i._("If there are no ad breaks in the matching video,the next action in this match rule will be checked.")},{key:b("VideoCopyrightRuleActionType").BLOCK,title:i._("Block"),className:"_4bd6",description:i._("Prevent matching videos from being discoverable or viewed on Facebook"),descriptionForManualClaim:i._("Prevent this video from being discoverable or viewed on Facebook"),filterDescription:i._("Set up filters describing the type of matching videos you want to block."),glyphClassName:"_4uto",glyph:g("134473"),summaryGlyph:g("124859"),warning:i._("Blocked videos will not generate Reference File Insights.")},{key:b("VideoCopyrightRuleActionType").TRACK,title:i._("Monitor"),className:"_4bd7",description:i._("Move matching videos to Monitor tab to keep an eye on how they're performing over a long period of time"),descriptionForManualClaim:i._("Keep an eye on how this video performs over a long period of time"),filterDescription:i._("Set up filters describing the type of matching videos you want to monitor."),glyphClassName:"_4utp",glyph:g("134084"),summaryGlyph:g("124470")},{key:b("VideoCopyrightRuleActionType").MANUAL_REVIEW,title:i._("Manually Review"),className:"_4bd8",description:i._("You'll have 30 days to decide what action to take before the matching video expires from Rights Manager"),descriptionForManualClaim:i._("Save this video to take action on it later in rights manager"),filterDescription:i._("Set up filters describing the type of matching videos you want to manually review."),glyphClassName:"_4utq",glyph:g("134637"),summaryGlyph:g("125023")}];e.exports=a}),null);
__d("VideoCopyrightRuleActionEditButton.react",["ix","cssVar","cx","fbt","React","SUIBusinessTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUISelectorOptionGroup.react","SUITooltip.react","VideoCopyrightClaimAdEarningsText","VideoCopyrightRuleAction","VideoCopyrightRuleActionType","VideoCopyrightRuleActionItemConfig","fbglyph","keyMirror"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("keyMirror")({MOVE_UP:null,MOVE_DOWN:null,DELETE:null});c=babelHelpers.inherits(a,b("React").Component);k=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a===l.DELETE?this.props.onActionDeleted(this.props.action):Object.keys(b("VideoCopyrightRuleActionType")).includes(a)?this.props.onActionTypeUpdated(a):a===l.MOVE_UP?this.props.onActionMoved(this.props.action,-1):a===l.MOVE_DOWN&&this.props.onActionMoved(this.props.action,1)}.bind(this),c}a.prototype.render=function(){var a=this.props.isViewing?g("126554"):g("123350");return b("React").createElement("div",{className:"_61gk"},b("React").createElement(b("SUISelector.react"),{maxHeight:262,menuAlignment:"right",canCollapseGroups:!1,onChange:this.$1,disabled:this.props.isViewing,button:b("React").createElement(b("SUISelectorButton.react"),{disabled:this.props.isViewing,height:"normal",icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:a}),styleWhenMenuShown:{background:"#EEEEEE"},width:64}),value:this.props.action.getActionType(),theme:b("SUIBusinessTheme")},b("React").createElement(b("SUISelectorOptionGroup.react"),{isExpandedInitially:!0,label:j._("Edit Action")},b("VideoCopyrightRuleActionItemConfig").map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{value:a.key,key:a.key,disabled:a.key===b("VideoCopyrightRuleActionType").MONETIZE&&!this.props.isMonetizationOnboarded},a.key===b("VideoCopyrightRuleActionType").MONETIZE&&!this.props.isMonetizationOnboarded?b("React").createElement(b("SUITooltip.react"),{theme:b("SUIBusinessTheme"),position:"left",tooltip:j._("To claim ad earnings, you'll first need to specify how you or your organization would like to be paid by going to Settings > Rights Manager. {=Go to Settings}",[j._param("=Go to Settings",b("React").createElement("a",{href:b("VideoCopyrightClaimAdEarningsText").getRightsManagerSettingsURI(this.props.pageID),target:"_blank"},j._("Go to Settings")))])},a.title):a.title)}.bind(this)),b("React").createElement("hr",{className:"_61gl"}),b("React").createElement(b("SUISelectorOption.react"),{value:l.MOVE_UP,disabled:this.props.actionIndex===0},j._("Move Up")),b("React").createElement(b("SUISelectorOption.react"),{value:l.MOVE_DOWN,disabled:this.props.actionIndex===this.props.actionCount-1},j._("Move Down")),b("React").createElement("hr",{className:"_61gl"}),b("React").createElement(b("SUISelectorOption.react"),{value:l.DELETE},j._("Delete")))))};e.exports=a}),null);
__d("VideoCopyrightRuleCondition.react",["ix","cx","Image.react","PageContentTabRightsManagerStore","React","Tooltip.react","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","fbglyph"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.state=this.getStateFromCondition(this.props.condition)}a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.state.condition!=a.condition&&this.setState(this.getStateFromCondition(a.condition))};a.prototype.getStateFromCondition=function(a){"use strict";var b=a.getConditionType();b=this.props.conditionConfig[b];var c=b.customValidation?b.customValidation:function(){};return{condition:a,config:b,customValidation:c}};a.prototype.$1=function(){"use strict";if(!this.state.config.options)return null;var a=this.state.config.options.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a.key,value:a.key},a.text)});return b("React").createElement(b("SUISelector.react"),{theme:b("SUIBusinessTheme"),onChange:function(a){return this.$2(a)}.bind(this),value:this.state.condition.getOption(),disabled:this.props.isViewing},a)};a.prototype.$3=function(a){"use strict";this.state.customValidation(a),this.setState({condition:a}),this.props.onConditionUpdated(a)};a.prototype.$2=function(a){"use strict";var b=this.state.condition;b.setOption(a);b.setValue(null);this.$3(b)};a.prototype.$4=function(a){"use strict";var b=this.state.condition,c=this.props.conditionConfig[a];b.setConditionType(a);b.setValue("");this.$3(b);this.setState({config:c})};a.prototype.$5=function(a){"use strict";var b=this.state.condition;this.state.condition.setValue(a);this.$3(b)};a.prototype.$6=function(){"use strict";return this.state.config.renderValueInput(this.state.condition,this.$5.bind(this),this.props.isViewing,this.props.shouldValidate)};a.prototype.$7=function(){"use strict";var a=this.state.config.renderConditionTypeSelector;return!a?null:a(this.state.condition,this.$4.bind(this),this.props.isViewing)};a.prototype.$8=function(){"use strict";var a=this.state.config.renderConditionAddDeleteButton;return!a?null:a(this.state.condition,this.props.onConditionRemoved,this.props.shouldShowAddButton,this.props.shouldShowDeleteButton,this.props.onAddCondition,this.props.isViewing)};a.prototype.$9=function(){"use strict";var a=this.state.config.getDetailedDescription;if(!a)return null;a=a(this.state.condition.getOption(),this.state.condition.getValue());return!a?null:b("React").createElement("div",{className:"_6176"},a)};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_3-8x"},b("React").createElement("table",null,b("React").createElement("tbody",null,b("React").createElement("tr",null,b("React").createElement("td",{className:"_31sp"},b("PageContentTabRightsManagerStore").getIsRMLite()?this.state.config.labelForLite||this.state.config.label:this.state.config.label,this.state.config.tooltip?b("React").createElement(b("Tooltip.react"),{tooltip:this.state.config.tooltip,className:"_2t-y"},b("React").createElement(b("Image.react"),{className:"_3-99",src:g("126340")})):null),b("React").createElement("td",{className:"_6177"},this.$1(),this.$6(),this.$7(),this.$8(),this.$9())))))};e.exports=a}),null);
__d("VideoCopyrightRuleOverlapConditionType",["VideoCopyrightRuleConditionType"],(function(a,b,c,d,e,f){a=[b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE];e.exports=a}),null);
__d("VideoCopyrightRuleActionCard.react",["ix","cx","fbt","Image.react","PolicyRuleCondition","React","VideoCopyrightRuleAction","VideoCopyrightRuleActionEditButton.react","VideoCopyrightRuleActionType","VideoCopyrightRuleCondition.react","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleConditionType","VideoCopyrightRuleOverlapConditionType","XUICard.react","fbglyph","idx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=[b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE];c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a),this.state={action:this.props.action}}a.prototype.$1=function(a){this.props.onActionUpdated()};a.prototype.$2=function(a){var b=this.state.action;b.removeCondition(a);this.setState({action:b});this.props.onActionUpdated()};a.prototype.$3=function(a){var b=this.state.action;b.setActionType(a);this.setState({action:b});this.props.onActionUpdated()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.state.action!=a.action&&this.setState({action:a.action})};a.prototype.$4=function(a){var c=this.state.action.getConditions().filter(function(a){return b("VideoCopyrightRuleOverlapConditionType").includes(a.getConditionType())}).slice(-1)[0];return c===a};a.prototype.$5=function(){return this.state.action.getConditions().filter(function(a){return b("VideoCopyrightRuleOverlapConditionType").includes(a.getConditionType())}).length>1};a.prototype.$6=function(a){var c=this.state.action.getConditions().indexOf(a);a=b("VideoCopyrightRuleConditionRowConfig")[a.getConditionType()].nextConditionToAdd;a=b("VideoCopyrightRuleConditionRowConfig")[a].createCondition();var d=this.state.action;d.pushConditionByIndex(a,c+1);this.setState({action:d});this.props.onActionUpdated()};a.prototype.render=function(){var a=this.state.action.getConditionWithType(b("VideoCopyrightRuleConditionType").GEO),c=this.state.action.getActionType()!==b("VideoCopyrightRuleActionType").MANUAL_REVIEW;return b("React").createElement(b("XUICard.react"),{className:"_2ph_ _3-8y"},b("React").createElement("div",{className:"_y5k"},b("React").createElement(b("Image.react"),{src:this.props.actionConfig.glyph}),b("React").createElement("div",{className:"_y5m"},this.props.actionConfig.title),b("React").createElement(b("VideoCopyrightRuleActionEditButton.react"),{action:this.props.action,actionIndex:this.props.actionIndex,actionCount:this.props.actionCount,onActionDeleted:this.props.onActionDeleted,onActionTypeUpdated:this.$3.bind(this),onActionMoved:this.props.onActionMoved,isViewing:this.props.isViewing,isMonetizationOnboarded:this.props.isMonetizationOnboarded,pageID:this.props.pageID})),b("React").createElement("div",{className:"_y5n"},this.props.actionConfig.description),a&&c?b("React").createElement(b("VideoCopyrightRuleCondition.react"),{condition:a,shouldShowAddButton:this.$4(a),shouldShowDeleteButton:this.$5(),onAddCondition:function(){return this.$6(a)}.bind(this),conditionConfig:b("VideoCopyrightRuleConditionRowConfig"),isViewing:this.props.isViewing,shouldValidate:!1,onConditionRemoved:this.$2.bind(this),key:b("VideoCopyrightRuleConditionType").GEO,onConditionUpdated:this.$1.bind(this)}):null,b("React").createElement("div",{className:"_y5o"},i._("Select filters")),b("React").createElement("div",{className:"_y5n"},this.props.actionConfig.filterDescription),this.state.action.getConditions().filter(function(a){return a.getConditionType()!==b("VideoCopyrightRuleConditionType").GEO}).filter(function(a){var b;return!((b=this.props)!=null?b.isMusicLabel:b)||k.includes(a.getConditionType())}.bind(this)).map(function(a,c){return b("React").createElement(b("VideoCopyrightRuleCondition.react"),{condition:a,shouldShowAddButton:this.$4(a),shouldShowDeleteButton:this.$5(),onAddCondition:function(){return this.$6(a)}.bind(this),conditionConfig:b("VideoCopyrightRuleConditionRowConfig"),isViewing:this.props.isViewing,shouldValidate:!1,onConditionRemoved:this.$2.bind(this),key:c,onConditionUpdated:this.$1.bind(this)})}.bind(this)),this.props.actionConfig.warning?b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("Image.react"),{src:g("124165")}),b("React").createElement("div",{className:"_y5p"},this.props.actionConfig.warning)):null)};e.exports=a}),null);
__d("VideoCopyrightRuleAddActionButton.react",["ix","cx","fbt","React","SUIBusinessTheme","SUIButton.react","SUIGlyphIcon.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){return b("React").createElement("div",{className:"_1ck-"},b("React").createElement(b("SUIButton.react"),{onClick:function(){return a.onClickAddActionButton()},icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("123418")}),height:"tall",theme:b("SUIBusinessTheme"),label:i._("Add an Action")}))}e.exports=a}),null);
__d("VideoCopyrightRuleActionItem.react",["cx","React","VideoCopyrightRuleActionType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return b("React").createElement("div",{className:a.className},b("React").createElement("div",{className:a.isSelected?"_4utl":"",onClick:a.disabled?null:a.onClick,role:"presentation"},b("React").createElement("div",{className:(a.disabled?"":"_4utk")+(a.disabled?" _1qv7":"")},b("React").createElement("div",null,b("React").createElement("div",{className:a.glyphClassName}),b("React").createElement("div",{className:"_4utz"},a.title)),b("React").createElement("div",{className:"_4ut-"},a.description))))};e.exports=a}),null);
__d("VideoCopyrightRuleAddActionCard.react",["cx","fbt","Link.react","React","VideoCopyrightLearnMoreLinks","VideoCopyrightRuleActionType","VideoCopyrightRuleActionItem.react","VideoCopyrightRuleActionItemConfig","XUIButton.react","XUICard.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("XUICard.react"),{className:"_20_d"},b("React").createElement("div",{className:"_20_e"},b("React").createElement("div",{className:"_2698"},h._("Add an Action")),b("React").createElement("div",{className:"_2699"},h._("Select the action you want to take on videos that match content in your reference files. {Link saying learn more}",[h._param("Link saying learn more",b("React").createElement(b("Link.react"),{href:b("VideoCopyrightLearnMoreLinks").learn_more_add_action,target:"_blank"},h._("Learn more")))])),b("React").createElement("div",{className:"_269a"},b("VideoCopyrightRuleActionItemConfig").map(function(a){var c=!this.props.isMonetizationOnboarded&&a.key===b("VideoCopyrightRuleActionType").MONETIZE;return b("React").createElement(b("VideoCopyrightRuleActionItem.react"),{className:a.className,isSelected:this.props.selectedAction===a.key,onClick:function(){return this.props.onSelectAction(a.key)}.bind(this),glyphClassName:a.glyphClassName,title:c?a.titleOnDisable:a.title,description:c&&a.descriptionOnDisable?a.descriptionOnDisable(this.props.pageID):a.description,key:a.key,actionType:a.key,disabled:c,pageID:this.props.pageID})}.bind(this))),b("React").createElement("div",{className:"_269b"},b("React").createElement(b("XUIButton.react"),{className:"_2kuz",size:"medium",label:h._("Cancel"),use:"default",disabled:this.props.isRuleEmpty,onClick:this.props.onCloseAddActionCard}),b("React").createElement(b("XUIButton.react"),{className:"_2kuz",size:"medium",label:h._("Next"),use:"confirm",disabled:!this.props.selectedAction,onClick:function(){this.props.selectedAction?this.props.onAddAction(this.props.selectedAction):null}.bind(this)})))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("VideoCopyrightRuleActionColumn.react",["cx","fbt","LeftRight.react","React","ReactCSSTransitionGroup","VideoCopyrightRule","VideoCopyrightRuleAction","VideoCopyrightRuleAddActionButton.react","VideoCopyrightRuleActionType","VideoCopyrightRuleActionItemConfig","VideoCopyrightRuleActionCard.react","VideoCopyrightRuleAddActionCard.react","XUIButton.react","XUICard.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.state={selectedAction:null}}a.prototype.$1=function(a){"use strict";a!==null&&this.refs[a].scrollIntoView({block:"end",behavior:"smooth"})};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";a.actionIndexToFocus!==this.props.actionIndexToFocus&&this.$1(a.actionIndexToFocus)};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:this.props.className},this.props.isViewing?b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_3yxt"},b("React").createElement("div",{className:"_331e"},h._("Read only. Create a new version of this match rule to make changes.")),b("React").createElement(b("XUIButton.react"),{className:"_331f",onClick:this.props.onCreateNewVersion,label:h._("New Version...")}))):null,b("React").createElement(b("XUICard.react"),{className:"_2ph_",background:"highlight"},b("React").createElement("div",{className:"_4q0_"},b("React").createElement("div",{className:"_4q10"},h._("Find videos that match your reference files")),h._("This match rule will find any videos on Facebook that match content in your reference files. You can associate reference files to this match rule when you add a new reference file or by going to the Reference File tab."))),b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_620b",component:"div",key:"actionCards",transitionLeaveTimeout:300,transitionEnterTimeout:400,transitionName:"actionCards"},this.props.rule.getActions().map(function(a,c){return b("React").createElement("div",{ref:a.getID(),key:a.getID()},b("React").createElement(b("VideoCopyrightRuleActionCard.react"),{actionConfig:b("VideoCopyrightRuleActionItemConfig").find(function(b){return b.key===a.getActionType()}),actionIndex:c,actionCount:this.props.rule.getActions().length,action:a,onActionUpdated:this.props.onActionUpdated,onActionDeleted:this.props.onActionDeleted,onActionMoved:this.props.onActionMoved,isMusicLabel:this.props.isMusicLabel,isViewing:this.props.isViewing,isMonetizationOnboarded:this.props.isMonetizationOnboarded,pageID:this.props.pageID}))}.bind(this))),b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_26ui",component:"div",key:"addActionCard",transitionEnter:!1,transitionLeave:this.state.selectedAction!==null,transitionLeaveTimeout:400,transitionName:"addActionCard"},this.props.showAddActionCard&&!this.props.isViewing?b("React").createElement(b("VideoCopyrightRuleAddActionCard.react"),{key:"addActionCardContainer",onAddAction:this.props.onAddAction,isMonetizationOnboarded:this.props.isMonetizationOnboarded,pageID:this.props.pageID,onCloseAddActionCard:function(){return this.setState({selectedAction:null},this.props.onCloseAddActionCard)}.bind(this),isRuleEmpty:this.props.rule.isEmpty(),selectedAction:this.state.selectedAction,onSelectAction:function(a){return this.setState({selectedAction:a})}.bind(this)}):null),!this.props.showAddActionCard&&!this.props.isViewing?b("React").createElement(b("VideoCopyrightRuleAddActionButton.react"),{onClickAddActionButton:this.props.onClickAddActionButton}):null,b("React").createElement(b("XUICard.react"),{className:"_2ph_ _3-8y",background:"highlight"},b("React").createElement("div",{className:"_4q0_"},b("React").createElement("div",{className:"_4q10"},h._("Make sure to set up every action you want to take with matching videos")),h._("Any matching videos that don't fall under one of your selected actions in your match rule won't appear in Rights Manager."))))};e.exports=a}),null);
__d("VideoCopyrightRuleActionSummary.react",["cx","Image.react","React","VideoCopyrightRuleAction","VideoCopyrightRuleActionItemConfig","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleConditionType","idx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[b("VideoCopyrightRuleConditionType").GEO,b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE];a=function(a){var c,d=b("VideoCopyrightRuleActionItemConfig").find(function(b){return b.key===a.action.getActionType()});return b("React").createElement("div",{role:"presentation",className:"_1sip",onClick:function(){return a.onActionToFocusUpdated(a.index)}},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{src:(c=d)!=null?c.summaryGlyph:c}),b("React").createElement("div",{className:"_1sir"},(c=d)!=null?c.title:c),b("React").createElement("ul",null,a.action.getConditions().filter(function(a){return Object.prototype.hasOwnProperty.call(b("VideoCopyrightRuleConditionRowConfig")[a.getConditionType()],"getSummary")}).filter(function(a){return a.getOption()===b("VideoCopyrightRuleConditionOption").WORLDWIDE.key||a.getValue()!==null&&a.getValue().length>0}).filter(function(b){var c;return!((c=a)!=null?c.isMusicLabel:c)||h.includes(b.getConditionType())}).map(function(a,c){return b("React").createElement("li",{key:c,className:"_1siv"},b("VideoCopyrightRuleConditionRowConfig")[a.getConditionType()].getSummary(a.getOption(),a.getValue()))}))))};e.exports=a}),null);
__d("VideoCopyrightRuleCancelConfirmationDialog.react",["fbt","React","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react","idx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("XUIDialog.react"),{shown:a.showCancelConfirmationDialog,width:400},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},g._("Are you sure you want to cancel?")),b("React").createElement(b("XUIDialogBody.react"),null,a.editing?g._("Any changes you made will be discarded."):g._("The match rule you were creating will be removed.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:g._("Keep Editing"),use:"default",onClick:a.onBackToEdit}),b("React").createElement(b("XUIDialogButton.react"),{label:a.editing?g._("Cancel"):g._("Discard"),use:"confirm",onClick:a.onCloseDrawer})))}e.exports=a}),null);
__d("VideoCopyrightRuleDialogMainPanelFooterButtons.react",["cx","fbt","React","VideoCopyrightRule","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return a.isViewing?b("React").createElement("span",null,b("React").createElement(b("XUIButton.react"),{className:"_60os",size:"large",label:h._("Delete"),onClick:a.onDeleteButtonClick,disabled:a.copyrightsCount!==0}),b("React").createElement(b("XUIButton.react"),{className:"_60ot",size:"large",use:"confirm",label:h._("OK"),onClick:a.onClose})):b("React").createElement("span",null,b("React").createElement(b("XUIButton.react"),{className:"_60os",size:"large",label:h._("Cancel"),onClick:a.onClose}),b("React").createElement(b("XUIButton.react"),{className:"_60ot",size:"large",label:h._("Save"),use:"confirm",disabled:a.rule.isEmpty(),onClick:a.onSave}))}e.exports=a}),null);
__d("VideoCopyrightRuleDialogMainPanelFooter.react",["cx","fbt","React","VideoCopyrightRule","VideoCopyrightRuleDialogMainPanelFooterButtons.react","SUIBusinessTheme","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){i.constructor.call(this)}a.prototype.render=function(){return b("React").createElement("div",{className:"_60oo"},b("React").createElement("div",{className:"_60op"},h._("Match Rule Name")),b("React").createElement("div",{className:"_60or"},b("React").createElement(b("SUITextInput.react"),{placeholder:h._("Type a name here"),disabled:this.props.isViewing,onChange:this.props.onRuleNameChange,value:this.props.rule.getName(),theme:b("SUIBusinessTheme"),errorMessage:this.props.showErrorMessage?h._("Enter a name for the new match rule."):null})),b("React").createElement(b("VideoCopyrightRuleDialogMainPanelFooterButtons.react"),{onSave:this.props.onSave,onClose:this.props.onClose,onDeleteButtonClick:this.props.onDeleteButtonClick,rule:this.props.rule,isViewing:this.props.isViewing,copyrightsCount:this.props.copyrightsCount}))};e.exports=a}),null);
__d("VideoCopyrightRuleSummaryColumn.react",["ix","cx","fbt","BUIDraggableList.react","Image.react","ImageBlock.react","React","SUIBusinessTheme","SUIButton.react","VideoCopyrightRule","VideoCopyrightRuleActionSummary.react","VideoCopyrightRuleActionType","XUIText.react","asset","emptyFunction","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a);a=this.$1(a.rule);this.state={showDraggableList:!1,itemsByID:a}}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a=this.$1(a.rule);this.setState({itemsByID:a})};a.prototype.$1=function(a){var c={};a.getActions().forEach(function(a,d){return c[d.toString()]={id:d.toString(),label:b("React").createElement("div",{className:"_1wau"},b("React").createElement(b("VideoCopyrightRuleActionSummary.react"),{action:a,key:d,index:d,isMusicLabel:this.props.isMusicLabel,onActionToFocusUpdated:this.props.onActionToFocusUpdated}),b("React").createElement(b("Image.react"),{className:"_1wav",src:g("113453")})),isMovable:!0,isRemovable:!1}}.bind(this));return c};a.prototype.$2=function(a,b){var c=a;b?a=b>a?b-1:b:a=this.props.rule.getActions().length-1;this.props.rule.moveActionByIndex(c,a);this.props.onActionUpdated()};a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},b("React").createElement("div",{className:"_60vi"},i._("PLATFORMS")),b("React").createElement("div",{className:"_60vj"},i._({"*":"Actions will be applied to matches on the following platforms","_1":"Actions will be applied to matches on the following platform"},[i._plural(this.props.isInstagramMonitoringEnabled?2:1)])),b("React").createElement("div",{className:"_60vj"},b("React").createElement(b("ImageBlock.react"),{className:"_3-99",contentClassName:"_2pic",spacing:"medium"},b("React").createElement(b("Image.react"),{className:"_lu9",src:g("390904")}),b("React").createElement(b("XUIText.react"),{className:"_60vj"},i._("Facebook"))),this.props.isInstagramMonitoringEnabled?b("React").createElement(b("ImageBlock.react"),{className:"_3-99",contentClassName:"_2pic",spacing:"medium"},b("React").createElement(b("Image.react"),{className:"_lu9",src:g("358267")}),b("React").createElement(b("XUIText.react"),{className:"_60vj"},i._("Instagram"))):null),b("React").createElement("div",{className:"_60vi _3-8x"},i._("ACTIONS")),b("React").createElement("div",{className:"_60vj"},i._("Actions will be applied in the order listed")),!this.props.rule.isEmpty()&&this.state.showDraggableList?b("React").createElement("div",{className:"_1wb6"},b("React").createElement(b("BUIDraggableList.react"),{itemIDs:Object.keys(this.state.itemsByID),itemsByID:this.state.itemsByID,onRemove:b("emptyFunction"),onReorder:function(a,b){this.$2(a,b)}.bind(this)})):this.props.rule.getActions().map(function(a,c){return b("React").createElement(b("VideoCopyrightRuleActionSummary.react"),{action:a,key:c,index:a.getID(),isMusicLabel:this.props.isMusicLabel,onActionToFocusUpdated:this.props.onActionToFocusUpdated})}.bind(this)),b("React").createElement("div",{className:"_60vj"},i._("Any remaining matches will be ignored")),this.props.rule.getActions().find(function(a){return a.getActionType()===b("VideoCopyrightRuleActionType").BLOCK})?b("React").createElement("div",{className:"_38f6"},b("React").createElement(b("Image.react"),{className:"_38f7",src:g("134351")}),b("React").createElement("div",{className:"_38f8"},i._("Blocked videos will not generate Reference File Insights"))):null,!this.props.rule.isEmpty()&&!this.props.isViewing&&this.props.rule.getActions().length>1?b("React").createElement("div",{className:"_1wb7"},this.state.showDraggableList?b("React").createElement("div",{className:"_3-96"},i._("Drag to change order")):null,b("React").createElement(b("SUIButton.react"),{onClick:function(){return this.setState({showDraggableList:!this.state.showDraggableList})}.bind(this),theme:b("SUIBusinessTheme"),label:this.state.showDraggableList?i._("Done"):i._("Change Order")})):null)};e.exports=a}),null);
__d("VideoCopyrightRuleMainPanelContent.react",["cx","React","SUIBusinessTheme","SUISpinner.react","VideoCopyrightRule","VideoCopyrightRuleAction","VideoCopyrightRuleActionColumn.react","VideoCopyrightRuleActionType","VideoCopyrightRuleSummaryColumn.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",null,this.props.showSpinner?b("React").createElement("div",{className:"_3_bv"},b("React").createElement(b("SUISpinner.react"),{theme:b("SUIBusinessTheme")})):b("React").createElement(b("VideoCopyrightRuleActionColumn.react"),{className:"_2qyy",rule:this.props.rule,actionIndexToFocus:this.props.actionIndexToFocus,onAddAction:this.props.onAddAction,onActionUpdated:this.props.onActionUpdated,showAddActionCard:this.props.showAddActionCard,onClickAddActionButton:this.props.onClickAddActionButton,onActionDeleted:this.props.onActionDeleted,onActionMoved:this.props.onActionMoved,onCloseAddActionCard:this.props.onCloseAddActionCard,isMusicLabel:this.props.isMusicLabel,isViewing:this.props.isViewing,isMonetizationOnboarded:this.props.isMonetizationOnboarded,pageID:this.props.pageID,onCreateNewVersion:this.props.onCreateNewVersion}),b("React").createElement(b("VideoCopyrightRuleSummaryColumn.react"),{className:"_2qyz",rule:this.props.rule,onActionToFocusUpdated:this.props.onActionToFocusUpdated,onActionUpdated:this.props.onActionUpdated,isInstagramMonitoringEnabled:this.props.isInstagramMonitoringEnabled,isMusicLabel:this.props.isMusicLabel,isViewing:this.props.isViewing}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("VideoCopyrightRuleMainPanelHeader.react",["cx","fbt","PageContentTabDrawer.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("PageContentTabDrawer.react").Header,{showBackButton:!1,showCloseButton:!1,className:"_26-k",onClose:a.onClose},a.isViewing?h._("Match Rule: {Match rule name}",[h._param("Match rule name",a.ruleName)]):h._("Create Match Rule"))}e.exports=a}),null);
__d("XVideoCopyrightMatchRuleDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/copyright/match_rule_dialog/",{page_id:{type:"FBID",required:!0},rule_id:{type:"FBID"}})}),null);
__d("VideoCopyrightRuleMainPanel.react",["cx","fbt","ActorURI","Arbiter","AsyncRequest","DOM","MatchRuleDeleteConfirmationDialog.react","PageContentTabDrawer.react","PageContentTabVideosCopyrightRuleActions","React","ReactDOM","VideoCopyrightRule","VideoCopyrightRuleAction","VideoCopyrightRuleActionType","VideoCopyrightRuleCancelConfirmationDialog.react","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleDialogMainPanelFooter.react","VideoCopyrightRuleMainPanelContent.react","VideoCopyrightRuleMainPanelHeader.react","VideoCopyrightRuleOverlapConditionType","XVideoCopyrightMatchRuleDataController","promiseDone"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.$2=function(){this.setState({nestedDrawerPosition:"hidden",showCancelConfirmationDialog:!1})}.bind(this),this.$3=function(){this.props.isViewing?this.$2():this.setState({showCancelConfirmationDialog:!0})}.bind(this),this.$4=function(){this.setState({showCancelConfirmationDialog:!1})}.bind(this),this.state={rule:a.rule||new(b("VideoCopyrightRule"))(),showAddActionCard:!a.ruleID&&!a.rule,nestedDrawerPosition:"hidden",actionIndexToFocus:null,showSpinner:!!a.ruleID||this.props.accessToken===null||this.props.isMonetizationOnboarded===null,copyrightsCount:0,accessToken:a.accessToken||"",isInstagramMonitoringEnabled:!1,isMonetizationOnboarded:a.isMonetizationOnboarded||!1,isViewing:a.isViewing,showNameErrorMessage:!1,showCancelConfirmationDialog:!1}}a.prototype.UNSAFE_componentWillMount=function(){"use strict";if(this.props.ruleID||this.props.accessToken===null||this.props.isMonetizationOnboarded===null){var a=b("XVideoCopyrightMatchRuleDataController").getURIBuilder().setFBID("page_id",this.props.pageID).setFBID("rule_id",this.props.ruleID).getURI();a=b("ActorURI").create(a,this.props.pageID);new(b("AsyncRequest"))(a).setHandler(function(a){a&&(this.props.ruleID&&this.setState({rule:b("VideoCopyrightRule").fromAPIforNewMatchRule(a.payload.rule),copyrightsCount:a.payload.rule.copyrights_count,showSpinner:!1}),this.setState({accessToken:a.payload.access_token,isMonetizationOnboarded:!!a.payload.is_monetization_onboarded,isInstagramMonitoringEnabled:a.payload.is_instagram_monitoring_enabled,showSpinner:!1}))}.bind(this)).send()}};a.prototype.componentDidMount=function(){"use strict";this.setState({nestedDrawerPosition:"open"})};a.prototype.$1=function(){"use strict";var a=this.state.rule;a.getActions().map(function(a){a.getConditions().find(function(a){return b("VideoCopyrightRuleOverlapConditionType").includes(a.getConditionType())})||a.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").OVERLAP_DURATION.createCondition(),1)});var c=h._("Copy");a.setName(a.getName().toString()+" "+c.toString());this.setState({rule:a,isViewing:!1})};a.prototype.onDeleteRule=function(){"use strict";this.props.ruleID&&(b("PageContentTabVideosCopyrightRuleActions").deleteMatchRule(this.props.pageID,this.props.ruleID,this.state.accessToken),this.$2())};a.prototype.$5=function(){"use strict";b("ReactDOM").render(b("React").createElement(b("MatchRuleDeleteConfirmationDialog.react"),{onDelete:this.onDeleteRule.bind(this),onCancel:function(){},postCount:this.state.copyrightsCount}),b("DOM").create("div"))};a.prototype.$6=function(a){"use strict";var c=this.state.rule;c.pushAction(new(b("VideoCopyrightRuleAction"))(a,[b("VideoCopyrightRuleConditionRowConfig").GEO.createCondition(),b("VideoCopyrightRuleConditionRowConfig").OVERLAP_DURATION.createCondition(),b("VideoCopyrightRuleConditionRowConfig").MONITORING_TYPE.createCondition(),b("VideoCopyrightRuleConditionRowConfig").PUBLISHER_TYPE.createCondition(),b("VideoCopyrightRuleConditionRowConfig").PRIVACY.createCondition()]));this.setState({rule:c,showAddActionCard:!1})};a.prototype.$7=function(){"use strict";this.setState({showAddActionCard:!0})};a.prototype.$8=function(a){"use strict";var b=this.state.rule;b.setName(a);this.setState({rule:b,showNameErrorMessage:!1})};a.prototype.$9=function(){"use strict";this.setState({rule:this.state.rule})};a.prototype.$10=function(a){"use strict";this.setState({actionIndexToFocus:a})};a.prototype.$11=function(a){"use strict";this.state.rule.removeAction(a),this.$9(),this.state.rule.isEmpty()&&this.setState({showAddActionCard:!0})};a.prototype.$12=function(a,b){"use strict";a=this.state.rule.getActions().indexOf(a);b=a+b;this.state.rule.moveActionByIndex(a,b);this.$9()};a.prototype.$13=function(){"use strict";if(!this.state.rule.hasName()){this.setState({showNameErrorMessage:!0});return}b("promiseDone")(b("PageContentTabVideosCopyrightRuleActions").createMatchRule(this.props.pageID,this.state.rule.toAPIforNewMatchRule(),this.state.accessToken),function(a){b("Arbiter").inform("VideoCopyrightRule/closeDialog",a.id),this.setState({nestedDrawerPosition:"hidden"}),this.props.onCloseDialog&&this.props.onCloseDialog(),this.props.onMatchRuleCreated&&this.props.onMatchRuleCreated(a)}.bind(this))};a.prototype.$14=function(){"use strict";this.setState({showAddActionCard:!1})};a.prototype.render=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("PageContentTabDrawer.react"),{className:"_26-i",onClose:this.$2.bind(this),onClosed:this.props.onCloseDialog,hideOnBackgroundClick:this.state.isViewing,useTransparentBackground:!1,position:this.state.nestedDrawerPosition,drawerView:{header:b("React").createElement(b("VideoCopyrightRuleMainPanelHeader.react"),{onClose:this.$2,ruleName:this.state.rule.getName(),isViewing:this.props.isViewing}),content:b("React").createElement(b("VideoCopyrightRuleMainPanelContent.react"),{rule:this.state.rule,actionIndexToFocus:this.state.actionIndexToFocus,onAddAction:this.$6.bind(this),onActionUpdated:this.$9.bind(this),showAddActionCard:this.state.showAddActionCard,onClickAddActionButton:this.$7.bind(this),onActionDeleted:this.$11.bind(this),onActionMoved:this.$12.bind(this),onActionToFocusUpdated:this.$10.bind(this),onCloseAddActionCard:this.$14.bind(this),isMusicLabel:this.props.isMusicLabel,isViewing:this.state.isViewing,showSpinner:this.state.showSpinner,isInstagramMonitoringEnabled:this.state.isInstagramMonitoringEnabled,isMonetizationOnboarded:this.state.isMonetizationOnboarded,pageID:this.props.pageID,onCreateNewVersion:this.$1.bind(this)}),footer:b("React").createElement(b("VideoCopyrightRuleDialogMainPanelFooter.react"),{onSave:this.$13.bind(this),onClose:this.$3,onRuleNameChange:this.$8.bind(this),rule:this.state.rule,isViewing:this.state.isViewing,onDeleteButtonClick:this.$5.bind(this),copyrightsCount:this.state.copyrightsCount,showErrorMessage:this.state.showNameErrorMessage})}}),b("React").createElement(b("VideoCopyrightRuleCancelConfirmationDialog.react"),{editing:this.props.editing,showCancelConfirmationDialog:this.state.showCancelConfirmationDialog,onCloseDrawer:this.$2,onBackToEdit:this.$4}))};e.exports=a}),null);
__d("VideoCopyrightRuleTemplateBlankSelectDialogContent.react",["cx","fbt","React","XUIButton.react","XUIDialog.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return b("React").createElement(b("XUIDialog.react"),{width:502,shown:!a.showMainPanel},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Create Match Rule")),b("React").createElement("div",{className:"_4ynh"},h._("Select one to get started")),b("React").createElement("div",{className:"_4yni"},b("React").createElement("div",{className:"_4ynj"+(a.isTemplateSelected?" _4ynk":""),onClick:a.handleClickTemplate,role:"presentation"},b("React").createElement("div",{className:"_4ynl"},b("React").createElement("div",{className:"_2lxv"})),b("React").createElement("div",{className:"_4ynm"},h._("Template")),b("React").createElement("div",{className:"_4ynn"},h._("Get started with a sample match rule that you can edit."))),b("React").createElement("div",{className:"_4yno"+(a.isTemplateSelected?"":" _4ynk"),onClick:a.handleClickBlank,role:"presentation"},b("React").createElement("div",{className:"_4ynl"},b("React").createElement("div",{className:"_2lxy"})),b("React").createElement("div",{className:"_4ynm"},h._("Blank")),b("React").createElement("div",{className:"_4ynn"},h._("Set up a match rule without any pre-filled actions.")))),b("React").createElement("div",{className:"_4ynp"},h._("Match rules detect videos containing content you own the rights to and allow you to take actions on them automatically.")),b("React").createElement("div",{className:"_3eyy"},b("React").createElement("div",{className:"_3eyz"},b("React").createElement(b("XUIButton.react"),{size:"large",label:h._("Cancel"),className:"_4ynq",onClick:a.onClickCancelButton}),b("React").createElement(b("XUIButton.react"),{size:"large",label:h._("Next"),use:"confirm",className:"_4ynq",onClick:a.onClickNextButton}))))};e.exports=a}),null);
__d("VideoCopyrightRuleTemplateBlankSelectDialog",["React","ReactDOM","VideoCopyrightRule","VideoCopyrightRuleAction","VideoCopyrightRuleActionType","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleMainPanel.react","VideoCopyrightRuleTemplateBlankSelectDialogContent.react","XUIDialog.react"],(function(a,b,c,d,e,f){__p&&__p();var g;a=babelHelpers.inherits(h,b("React").Component);g=a&&a.prototype;function h(a){"use strict";g.constructor.call(this,a),this.state={isTemplateSelected:!0,showMainPanel:!1,rule:null},this.$1=this.$1.bind(this),this.$2=this.$2.bind(this),this.$4=this.$4.bind(this),this.$5=this.$5.bind(this)}h.prototype.$1=function(){"use strict";this.setState({isTemplateSelected:!0})};h.prototype.$2=function(){"use strict";this.setState({isTemplateSelected:!1})};h.prototype.$5=function(){"use strict";i.hide()};h.prototype.$6=function(a){"use strict";return new(b("VideoCopyrightRuleAction"))(a,[b("VideoCopyrightRuleConditionRowConfig").GEO.createCondition(),b("VideoCopyrightRuleConditionRowConfig").OVERLAP_DURATION.createConditionForTemplate(a),b("VideoCopyrightRuleConditionRowConfig").MONITORING_TYPE.createCondition(),b("VideoCopyrightRuleConditionRowConfig").PUBLISHER_TYPE.createCondition(),b("VideoCopyrightRuleConditionRowConfig").PRIVACY.createCondition()])};h.prototype.$4=function(){"use strict";var a=null;if(this.state.isTemplateSelected){var c=[this.$6(b("VideoCopyrightRuleActionType").BLOCK),this.$6(b("VideoCopyrightRuleActionType").TRACK),this.$6(b("VideoCopyrightRuleActionType").MANUAL_REVIEW)];this.props.isMonetizationOnboarded&&(c=[this.$6(b("VideoCopyrightRuleActionType").MONETIZE)].concat(c));a=new(b("VideoCopyrightRule"))(c)}this.setState({showMainPanel:!0,rule:a})};h.prototype.render=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("VideoCopyrightRuleTemplateBlankSelectDialogContent.react"),{isTemplateSelected:this.state.isTemplateSelected,handleClickTemplate:this.$1,handleClickBlank:this.$2,onClickCancelButton:this.$5,onClickNextButton:this.$4,showMainPanel:this.state.showMainPanel}),this.state.showMainPanel?b("React").createElement(b("XUIDialog.react"),{width:0,shown:!0,titleID:"main panel"},b("React").createElement(b("VideoCopyrightRuleMainPanel.react"),{pageID:this.props.pageID,rule:this.state.rule,accessToken:this.props.accessToken,isViewing:!1,onCloseDialog:this.$5,isMonetizationOnboarded:this.props.isMonetizationOnboarded})):null)};var i={show:function(a,c){var d=arguments.length<=2||arguments[2]===undefined?null:arguments[2];this._container=document.createElement("div");b("ReactDOM").render(b("React").createElement(h,{pageID:a,accessToken:c,isMonetizationOnboarded:d}),this._container)},hide:function(){if(!this._container)return;this.destroy()},destroy:function(){b("ReactDOM").unmountComponentAtNode(this._container),this._container=null}};e.exports=i}),null);
__d("VideoAssetDeleteConfirmationDialog.react",["cx","fbt","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","Link.react","React","VideoAssetPostsSelection.react","XUICheckboxInput.react","VideoUtils","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react","PublishingToolsWebdriverTestDataIDs"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a);a=this.$1();var b=this.props.selectedOrganicPosts||a;this.state={selectedOrganicPosts:b,deleteAllOwnedPosts:b.length===a.length}}a.prototype.$2=function(){"use strict";var a=new Set();this.state.selectedOrganicPosts.forEach(function(b){a.add(b.videoAssetID)});return a.size};a.prototype.$3=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.posts.length},0)};a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[])};a.prototype.$4=function(){"use strict";this.props.onDelete(this.state.selectedOrganicPosts)};a.prototype.$5=function(){"use strict";this.props.onExpire(this.state.selectedOrganicPosts)};a.prototype.$6=function(a){"use strict";a=a.find(function(a){return a.isOrigBroadcastAndCrossposted===!0});return a!==undefined};a.prototype.$7=function(a){"use strict";this.$6(a)&&(a=this.$1()),this.setState({selectedOrganicPosts:a,deleteAllOwnedPosts:this.$1().length===a.length})};a.prototype.$8=function(){"use strict";var a=this.$3();if(a>1)return this.$9();else return this.$10()};a.prototype.$9=function(){"use strict";var a=this.props.organicPostsByAsset,c=this.state.selectedOrganicPosts,d=this.$2(),e=void 0;this.$6(c)?e=h._("Only checked posts will be deleted. If an original live video is checked, all other crossposted videos will also be checked."):e=h._("Only checked posts will be deleted");return b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block"},h._({"s":{"s":"Your post using this video will be permanently deleted","p":"Your post using these videos will be permanently deleted"},"p":{"s":"Your posts using this video will be permanently deleted","p":"Your posts using these videos will be permanently deleted"}},[h._enum(c.length===1?"s":"p",{s:"post",p:"posts"}),h._enum(d===1?"s":"p",{s:"this video",p:"these videos"})])),b("React").createElement(b("VideoAssetPostsSelection.react"),{organicPostsByAsset:a,selectedOrganicPosts:c,tableCaption:e,onPostSelectionChange:this.$7.bind(this)}),this.$11(),this.$12(),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8-",shade:"light",size:"meta1",display:"block"},h._("If you want to preserve the insights for these posts, you can expire them instead.")," ",this.$13()))};a.prototype.$13=function(){"use strict";var a=null;this.props.showCrosspostingHelpCenter&&(a=b("React").createElement(b("Link.react"),{href:"/business/help/1590463861209138",target:"_blank",className:"_50f3"},h._("Learn more")));return a};a.prototype.$11=function(){"use strict";if(!this.props.selectedOrganicPosts)return null;var a=this.$3();if(a===1)return null;var c=this.$2();return b("React").createElement(b("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(event){this.setState({deleteAllOwnedPosts:event.target.checked,selectedOrganicPosts:event.target.checked?this.$1():this.props.selectedOrganicPosts||[]})}.bind(this)},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.deleteAllOwnedPosts}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),null,b("React").createElement(b("XUIText.react"),{shade:"light",size:"header4",display:"block",weight:"normal"},h._({"s":"Delete all {count} of your posts using this video","p":"Delete all {count} of your posts using these videos"},[h._param("count",a),h._enum(c===1?"s":"p",{s:"this video",p:"these videos"})]))))};a.prototype.$10=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_3-95",shade:"light",size:"header4",display:"block"},h._("This post will be permanently deleted.")),this.$12(),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8-",size:"meta1",display:"block"},h._("If you want to preserve the insights for this post, you can expire it instead.")),this.$13())};a.prototype.$14=function(){"use strict";var a=this.props.selectedOrganicPosts?this.props.selectedOrganicPosts.length:0,b=this.$3();if(b===1||a===1)return h._("Delete Post?");else if(a>1)return h._("Delete Posts?");else if(this.props.organicPostsByAsset.length>1)return h._("Delete Videos?");else return h._("Delete Video?")};a.prototype.$15=function(a){"use strict";__p&&__p();var b=a.selectedVideosCrosspostsCount;a=a.selectedVideosCount;if(b===1)return h._("This video is used by another Page in one post. That post will be removed.");else if(b>1)if(a===1)return h._("This video is used by other Pages in {num_deleted_cross_posts} posts. Those posts will be removed.",[h._param("num_deleted_cross_posts",b)]);else return h._("These videos are used by other Pages in {num_deleted_cross_posts} posts. Those posts will be removed.",[h._param("num_deleted_cross_posts",b)]);return null};a.prototype.$12=function(){"use strict";if(!this.props.canDeleteCrosspostedVideos)return null;var a=b("VideoUtils").getSelectedVideosAndCrossPostsCount(this.props.pageID,this.props.organicPostsByAsset,this.state.selectedOrganicPosts),c=a.selectedVideosCrosspostsCount;return c===0?null:b("React").createElement("div",null,b("React").createElement(b("XUINotice.react"),{className:"_3-8o",use:"notify"},this.$15(a)))};a.prototype.renderExpireButton=function(){"use strict";return!this.props.canExpireVideos?null:b("React").createElement(b("XUIDialogButton.react"),{label:h._("Expire{dot dot dot (for truncation)}",[h._param("dot dot dot (for truncation)","...")]),action:"cancel",size:"large",use:"default",onClick:this.$5.bind(this)})};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{width:450,shown:!0,fixedTopPosition:100,hideOnEscape:!0},b("React").createElement(b("XUIDialogTitle.react"),null,this.$14()),b("React").createElement(b("XUIDialogBody.react"),{className:"_2piq"},this.$8()),b("React").createElement(b("XUIDialogFooter.react"),{leftContent:this.renderExpireButton()},b("React").createElement(b("XUIDialogButton.react"),{label:h._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{"data-testid":b("PublishingToolsWebdriverTestDataIDs").DELETE_VIDEO,label:h._("Delete"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$4.bind(this)})))};e.exports=a}),null);
__d("VideoAssetExpireConfirmationDialog.react",["cx","fbt","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","LeftRight.react","React","VideoAssetPostsSelection.react","VideoUtils","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a);a=a.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[]);var b=this.props.selectedOrganicPosts||a;this.state={selectedOrganicPosts:b,removeSharePermission:!1,expireAllOwnedPosts:b.length===a.length}}a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.posts.length},0)};a.prototype.$2=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[])};a.prototype.$3=function(){"use strict";this.props.onExpire(this.state.selectedOrganicPosts,this.state.removeSharePermission)};a.prototype.$4=function(){"use strict";return this.props.organicPostsByAsset.filter(function(a){return a.isShared&&a.videoAssetOwnerID===this.props.pageID}.bind(this)).length};a.prototype.$5=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.reusedPostsCount},0)};a.prototype.$6=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.reusedPublishedPostsCount},0)};a.prototype.$7=function(a){"use strict";this.setState({selectedOrganicPosts:a,expireAllOwnedPosts:this.$2().length===a.length})};a.prototype.$8=function(){"use strict";var a=this.$1();if(a>1&&!this.props.disablePostSelection)return this.$9();else return this.$10()};a.prototype.$9=function(){"use strict";var a=this.props.organicPostsByAsset;return b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block"},h._({"s":"Your posts using this video will be no longer be published","p":"Your posts using these videos will be no longer be published"},[h._enum(a.length===1?"s":"p",{s:"this video",p:"these videos"})])),b("React").createElement(b("VideoAssetPostsSelection.react"),{className:"_3-8x",organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.state.selectedOrganicPosts,tableCaption:h._("Only checked posts will be expired"),onPostSelectionChange:this.$7.bind(this)}),this.$11(),this.$12(),b("React").createElement(b("XUIText.react"),{className:"_3-8x",size:"header4",display:"block"},h._("The insights for these posts will be preserved.")))};a.prototype.$12=function(){"use strict";__p&&__p();if(!this.props.canRemoveSharePermission)return null;var a=void 0,c=void 0,d=void 0;this.props.disablePostSelection?d={selectedVideosCrosspostsCount:this.$5(),selectedVideosPublishedCrosspostsCount:this.$6(),selectedVideosCount:this.props.organicPostsByAsset.length,selectedOwnedVideosSharedCount:this.$4()}:d=b("VideoUtils").getSelectedVideosAndCrossPostsCount(this.props.pageID,this.props.organicPostsByAsset,this.state.selectedOrganicPosts);if(this.$4()===0)return null;if(this.state.removeSharePermission){var e=this.$13(d);e&&(a=b("React").createElement(b("XUINotice.react"),{className:"_3-8o",use:"notify"},e))}d.selectedVideosCount>1?c=h._("Remove permission from all other Pages to use these videos"):c=h._("Remove permission from all other Pages to use this video");return b("React").createElement("div",null,b("React").createElement(b("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(event){this.setState({removeSharePermission:event.target.checked})}.bind(this)},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.removeSharePermission}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),null,b("React").createElement(b("XUIText.react"),{className:"_5gtt",size:"header4",weight:"normal"},c))),a)};a.prototype.$13=function(a){"use strict";__p&&__p();var b=a.selectedVideosPublishedCrosspostsCount;a=a.selectedVideosCount;if(b===1)return h._("This video is used by another Page in one post. That post will be unpublished.");else if(b>1)if(a===1)return h._("This video is used by other Pages in {num_cross_posts} posts. Those posts will be unpublished.",[h._param("num_cross_posts",b)]);else return h._("These videos are used by other Pages in {num_cross_posts} posts. Those posts will be unpublished.",[h._param("num_cross_posts",b)]);return null};a.prototype.$11=function(){"use strict";var a=this.$1();return a===1?null:b("React").createElement(b("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(event){this.setState({expireAllOwnedPosts:event.target.checked,selectedOrganicPosts:event.target.checked?this.$2():this.props.selectedOrganicPosts||[]})}.bind(this)},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.expireAllOwnedPosts}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),null,b("React").createElement(b("XUIText.react"),{className:"_5gtt",size:"header4",weight:"normal"},h._("Expire all {count} of your posts that use this video",[h._param("count",a)]))))};a.prototype.$10=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_3-95",size:"header4",display:"block"},h._("This post will no longer be published.")),this.$11(),this.$12())};a.prototype.$14=function(){"use strict";var a=this.props.selectedOrganicPosts?this.props.selectedOrganicPosts.length:0,b=this.$1();if(b===1||a===1)return h._("Expire Post?");else if(a>1)return h._("Expire Posts?");else if(this.props.organicPostsByAsset.length>1)return h._("Expire Videos?");else return h._("Expire Video?")};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{width:450,shown:!0,fixedTopPosition:100,hideOnEscape:!0},b("React").createElement(b("XUIDialogTitle.react"),null,this.$14()),b("React").createElement(b("XUIDialogBody.react"),null,this.$8()),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement("span",null),b("React").createElement("span",null,b("React").createElement(b("XUIDialogButton.react"),{label:h._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{label:h._("Expire"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$3.bind(this)})))))};e.exports=a}),null);
__d("GenericVideoAssetGraphFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BROADCAST_ID:"broadcast_id",BROADCAST_PLANNED_START_TIME:"broadcast_planned_start_time",CAN_VIEWER_EDIT:"can_viewer_edit",COPYRIGHT_MONITORING_STATUS:"copyright_monitoring_status",CREATED_TIME:"created_time",CREATOR:"creator",DESCRIPTION:"description",DOWNLOAD_SD_URL:"download_sd_url",DOWNLOAD_HD_URL:"download_hd_url",EMBEDDABLE:"embeddable",EXPIRATION:"expiration",SOCIAL_ACTIONS:"social_actions",FEED_TYPE:"feed_type",ID:"id",IS_CROSSPOSTING_ELIGIBLE:"is_crossposting_eligible",IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE:"is_crossposting_within_bm_eligible",IS_CROSSPOSTING_WITHIN_BM_ENABLED:"is_crossposting_within_bm_enabled",IS_EPISODE:"is_episode",IS_FEATURED:"is_featured",IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE:"is_legacy_video_crossposting_eligible",IS_LIVE_PREMIERE:"is_live_premiere",IS_VIDEO_ASSET:"is_video_asset",LAST_ADDED_TIME:"last_added_time",LATEST_CREATOR:"latest_creator",LATEST_OWNED_DESCRIPTION:"latest_owned_description",LATEST_OWNED_TITLE:"latest_owned_title",LENGTH:"length",LIVE_STATUS:"live_status",MONETIZATION_STATUS:"monetization_status",NO_STORY:"no_story",OWNER_ID:"owner_id",OWNER_NAME:"owner_name",OWNER_PICTURE:"owner_picture",OWNER_POST_STATE:"owner_post_state",PERMALINK_URL:"permalink_url",POSTS_COUNT:"posts_count",POSTS_IDS:"posts_ids",POSTS_STATUS:"posts_status",PUBLISHED:"published",SECRET:"secret",SCHEDULED_PUBLISH_TIME:"scheduled_publish_time",SEASON:"season",STATUS:"status",STREAM_URL:"stream_url",SECURE_STREAM_URL:"secure_stream_url",THUMBNAIL:"picture",THUMBNAIL_WHILE_ENCODING:"thumbnail_while_encoding",TITLE:"title",VIEWS:"views",VIDEO_POSTS:"video_posts",VIDEO_STATS:"video_stats"})}),null);
__d("VideoAssetContext",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VIDEO_ASSET:"video_asset",VIDEO_POST:"video_post",VIDEO_SHARE:"video_share",LIVE_VIDEO:"live_video",REFERENCE_LIVE_VIDEO:"reference_live_video",REFERENCE_FILE:"reference_file"})}),null);
__d("VideoAssetInsightsSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",VIDEO_LIBRARY:"video_library",PUBLISHED_POSTS:"published_posts",EXPIRING_POSTS:"expiring_posts",EXPIRED_POSTS:"expired_posts",ADS_POSTS:"ads_posts",VIDEO_PERMALINK:"video_permalink",PAGE_OVERVIEW_INSIGHTS:"page_overview_insights",PAGE_POST_INSIGHTS:"page_post_insights",PAGE_VIDEO_INSIGHTS:"page_video_insights",PAGE_BRANDED_CONTENT_INSIGHTS:"page_branded_content_insights",PAGE_AD_BREAKS_INSIGHTS:"page_ad_breaks_insights",SNOWLIFT:"snowlift",VIDEO_ASSET_EDIT_SELECTOR:"video_asset_edit_selector",OLD_POST_INSIGHTS_VIDEO_TAB:"old_post_insights_video_tab",PAGES_POST_REACH_BAR:"pages_post_reach_bar",LIVE_VIDEO_INSIGHTS:"live_video_insights",ASSET_INSPECTOR:"asset_inspector",REFERENCE_FILE_TABLE:"reference_file_table",REFERENCE_FILE_EDIT_DIALOG:"reference_file_edit_dialog",REFERENCE_POST_DETAILS:"reference_post_details",BUSINESS_AD_BREAK_INSIGHTS:"business_ad_break_insights",MEDIA_MANAGER_DASHBOARD:"media_manager_dashboard",MEDIA_MANAGER_INSIGHTS:"media_manager_insights",MEDIA_CREATOR_HUB:"media_creator_hub",MEDIA_MANAGER_ASSET_POSTS_SELECTOR:"media_manager_asset_posts_selector",LIVE_VIDEO_COMPOSER:"live_video_composer"})}),null);
__d("VideoAssetMonetizationStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INELIGIBLE_DEPRECATED:"ineligible_deprecated",LIMITED:"limited",MONETIZED:"monetized",NOT_MONETIZED:"not_monetized",AD_BREAKS_PREREVIEW:"ad_breaks_prereview",UNDER_REVIEW:"under_review",NOT_IN_PROGRAM:"not_in_program",UNKNOWN:"unknown"})}),null);
__d("VideoAssetPublishConfirmationDialog.react",["cx","fbt","LeftRight.react","React","VideoAssetPostsSelection.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.state={selectedOrganicPosts:this.props.selectedOrganicPosts||a.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[])}}a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.posts.length},0)};a.prototype.$2=function(){"use strict";this.props.onPublish(this.state.selectedOrganicPosts)};a.prototype.$3=function(a){"use strict";this.setState({selectedOrganicPosts:a})};a.prototype.$4=function(){"use strict";var a=this.$1();if(a>1)return this.$5();else return this.$6()};a.prototype.$5=function(){"use strict";var a=this.props.organicPostsByAsset;return b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block",weight:"bold"},h._({"s":"Your posts using this video will be published","p":"Your posts using these videos will be published"},[h._enum(a.length===1?"s":"p",{s:"this video",p:"these videos"})])),b("React").createElement(b("VideoAssetPostsSelection.react"),{organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.state.selectedOrganicPosts,tableCaption:h._("Only checked posts will be published"),onPostSelectionChange:this.$3.bind(this)}))};a.prototype.$6=function(){"use strict";return b("React").createElement(b("XUIText.react"),{className:"_3-95",size:"header4",display:"block"},h._("This post will be published."))};a.prototype.$7=function(){"use strict";var a=this.$1();if(a===1)return h._("Publish Post?");else if(this.props.organicPostsByAsset.length>1)return h._("Publish Videos?");else return h._("Publish Video?")};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{width:450,shown:!0,fixedTopPosition:100},b("React").createElement(b("XUIDialogTitle.react"),null,this.$7()),b("React").createElement(b("XUIDialogBody.react"),null,this.$4()),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement("span",null),b("React").createElement("span",null,b("React").createElement(b("XUIDialogButton.react"),{label:h._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{label:h._("Publish"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$2.bind(this)})))))};e.exports=a}),null);
__d("VideoAssetSelectorDialog.react",["fbt","LayerFadeOnHide","LayerHideOnEscape","React","VideoAssetPostsTable.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=655;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this,a),this.state={shown:!0}}a.prototype.$1=function(a,b){"use strict";a=this.props.videoAssetData.posts[b];b=[a];this.props.onSelect(b);this.setState({shown:!1})};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},shown:this.state.shown,width:i},b("React").createElement(b("XUIDialogTitle.react"),null,g._("Schedule Which Post?")),b("React").createElement(b("XUIDialogBody.react"),{useCustomPadding:!0},b("React").createElement(b("VideoAssetPostsTable.react"),{onRowClick:this.$1.bind(this),organicPostsByAsset:[this.props.videoAssetData],columns:["profile","views","dateCreated"],showPostStateIndicator:this.props.showPostStateIndicator})))};e.exports=a}),null);
__d("VideoAssetWaterfallEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UI_EDIT_SELECTOR_OPEN:"ui.edit_selector_open",UI_EDIT_SELECTOR_CHOICE:"ui.edit_selector_choice",UI_NEW_POST_FROM_ASSET_START:"ui.new_post_from_asset_start",UI_NEW_POST_FROM_ASSET_FINISH:"ui.new_post_from_asset_finish",UI_NEW_POST_FROM_ASSET_FAILURE:"ui.new_post_from_asset_failure",UI_NEW_POST_FROM_ASSET_CAPTIONS_FAILURE:"ui.new_post_from_asset_captions_failure",UI_POST_DELETE_SELECTION:"ui.post_delete_selection",UI_POST_DELETE_START:"ui.post_delete_start",UI_POST_DELETE_FINISH:"ui.post_delete_finish",UI_POST_DELETE_FAILURE:"ui.post_delete_failure",UI_POST_EXPIRE_SELECTION:"ui.post_expire_selection",UI_POST_EXPIRE_START:"ui.post_expire_start",UI_POST_EXPIRE_FINISH:"ui.post_expire_finish",UI_POST_EXPIRE_FAILURE:"ui.post_expire_failure",POST_EXPIRE_START:"post_expire_start",POST_EXPIRE_FINISH:"post_expire_finish",POST_EXPIRE_FAILURE:"post_expire_failure",UI_ASSET_EXPIRE_REMOVE_SHARING_START:"ui.asset_expire_remove_sharing_start",UI_ASSET_EXPIRE_REMOVE_SHARING_FINISH:"ui.asset_expire_remove_sharing_finish",UI_ASSET_EXPIRE_REMOVE_SHARING_FAILURE:"ui.asset_expire_remove_sharing_failure",ASSET_EXPIRE_REMOVE_SHARING_START:"asset_expire_remove_sharing_start",ASSET_EXPIRE_REMOVE_SHARING_FINISH:"asset_expire_remove_sharing_finish",ASSET_EXPIRE_REMOVE_SHARING_FAILURE:"asset_expire_remove_sharing_failure",ASSET_ENABLE_SHARING_START:"asset_enable_sharing_start",ASSET_ENABLE_SHARING_FINISH:"asset_enable_sharing_finish",ASSET_ENABLE_SHARING_FAILURE:"asset_enable_sharing_failure",ASSET_REMOVE_SHARING_START:"asset_remove_sharing_start",ASSET_REMOVE_SHARING_FINISH:"asset_remove_sharing_finish",ASSET_REMOVE_SHARING_FAILURE:"asset_remove_sharing_failure",UI_POST_PUBLISH_START:"ui.post_publish_start",UI_POST_PUBLISH_FINISH:"ui.post_publish_finish",UI_POST_PUBLISH_FAILURE:"ui.post_publish_failure",POST_PUBLISH_START:"post_publish_start",POST_PUBLISH_FINISH:"post_publish_finish",POST_PUBLISH_FAILURE:"post_publish_failure",UI_POST_SCHEDULE_START:"ui.post_schedule_start",UI_POST_SCHEDULE_FINISH:"ui.post_schedule_finish",UI_POST_SCHEDULE_FAILURE:"ui.post_schedule_failure",POST_SCHEDULE_START:"post_schedule_start",POST_SCHEDULE_FINISH:"post_schedule_finish",POST_SCHEDULE_FAILURE:"post_schedule_failure",ASSET_ENABLE_SHARING_WITH_BUSINESS_START:"asset_enable_sharing_with_business_start",ASSET_ENABLE_SHARING_WITH_PAGE_START:"asset_enable_sharing_with_page_start",ASSET_REMOVE_SHARING_WITH_BUSINESS_START:"asset_remove_sharing_with_business_start",ASSET_REMOVE_SHARING_WITH_PAGE_START:"asset_remove_sharing_with_page_start",ASSET_ENABLE_SHARING_WITH_BUSINESS_FINISH:"asset_enable_sharing_with_business_finish",ASSET_ENABLE_SHARING_WITH_PAGE_FINISH:"asset_enable_sharing_with_page_finish",ASSET_REMOVE_SHARING_WITH_BUSINESS_FINISH:"asset_remove_sharing_with_business_finish",ASSET_REMOVE_SHARING_WITH_PAGE_FINISH:"asset_remove_sharing_with_page_finish",ASSET_UPDATE_CROSSPOSTING_CONFIG_FAILURE:"asset_update_crossposting_config_failure",INVALID_CROSSPOSTING_CONFIG:"invalid_crossposting_config",ASSET_ADD_VIDEO_CAPTION:"asset_add_video_caption",VIDEO_SOFT_DELETE_CAPTION_ON_ASSET:"video_soft_delete_caption_on_asset",CROSSPOST_AUTO_CREATION_START:"crosspost_auto_creation_start",CROSSPOST_AUTO_CREATION_FINISH:"crosspost_auto_creation_finish",CROSSPOST_AUTO_CREATION_FAILURE:"crosspost_auto_creation_failure"})}),null);
__d("XVideoAssetInsightsDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_asset/insights/",{page_id:{type:"FBID",required:!0},video_asset_id:{type:"FBID",required:!0},source:{type:"Enum",defaultValue:"unknown",enumType:1},context:{type:"Enum",defaultValue:"video_post",enumType:1},source_footer_message_type:{type:"Enum",enumType:1},initial_card:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("XVideoAssetsExpireRemoveSharingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_asset/expire/remove_sharing/",{video_asset_id:{type:"FBID",required:!0},source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XVideoAssetsPostsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_asset/posts/",{video_asset_ids:{type:"IntVector"},video_post_ids:{type:"IntVector"}})}),null);
__d("XVideoPostExpireController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/expire/",{video_id:{type:"Int",required:!0},source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XVideoPostPublishController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/publish/",{video_id:{type:"Int",required:!0},source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XVideoPostScheduleController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/schedule/",{video_id:{type:"Int",required:!0},source:{type:"Enum",required:!0,enumType:1},schedule_publish_time:{type:"Int",required:!0}})}),null);
__d("VideoUtils",["ix","cx","fbt","Promise","ActorURI","AsyncDialog","AsyncRequest","DOM","GenericVideoAssetGraphFields","Image.react","LiveStatusType","PageContentTabConfig","PostScheduleDialog.react","React","ReactDOM","UserAgent","VideoAssetContext","VideoAssetDeleteConfirmationDialog.react","VideoAssetExpireConfirmationDialog.react","VideoAssetInsightsSource","VideoAssetMonetizationStatus","VideoAssetPublishConfirmationDialog.react","VideoAssetSelectorDialog.react","VideoAssetWaterfallEvent","VideoAssetWaterfallTypedLogger","VideoBroadcastAPIStatus","VideoContainerType","VideoContainerTypeInVideoLibrary","VideoFormattingUtils","VideoGraphFields","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XVideoAssetInsightsDialogController","XVideoAssetsExpireRemoveSharingController","XVideoAssetsPostsController","XVideoEditDialogController","XVideoPostExpireController","XVideoPostPublishController","XVideoPostScheduleController","fbglyph","getOwnObjectValues","goURI","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=1e3,l={formatTime:function(a){return b("VideoFormattingUtils").formatTime(a)},formatPercentage:function(a,c){return b("VideoFormattingUtils").formatPercentage(a,c)},showVideoManagementSurvey:function(a){a!==null&&a.show()},getLiveStatusType:function(a){if(a)if(a===b("VideoBroadcastAPIStatus").UNPUBLISHED||a===b("VideoBroadcastAPIStatus").LIVE)return b("LiveStatusType").IS_LIVE_BROADCAST;else if(a===b("VideoBroadcastAPIStatus").SCHEDULED_UNPUBLISHED||a===b("VideoBroadcastAPIStatus").SCHEDULED_LIVE)return b("LiveStatusType").SCHEDULED_LIVE_BROADCAST;else return b("LiveStatusType").WAS_LIVE_BROADCAST;return b("LiveStatusType").NOT_A_BROADCAST},convertRetentionValue:function(a,c,d){c=b("getOwnObjectValues")(c);c=c.length-1;return a>=c?Math.round(d):Math.round(a*d/c)},downloadURL:function(a){if(b("UserAgent").isBrowser("Firefox")||b("UserAgent").isBrowser("IE11"))b("goURI")(a);else{var c=b("DOM").create("a");c.download="";c.href=a;c.click()}},_fetchVideoAssetsPosts:function(a,c){var d=b("XVideoAssetsPostsController").getURIBuilder().setIntVector("video_asset_ids",a).getURI();d=b("ActorURI").create(d,c);return new(b("Promise"))(function(a,c){b("AsyncDialog").send(new(b("AsyncRequest"))().setURI(d).setHandler(function(b){return a(b.payload)}).setErrorHandler(c))})},_fetchVideoAssetsPostsFromPosts:function(a,c){var d=b("XVideoAssetsPostsController").getURIBuilder().setIntVector("video_post_ids",a).getURI();d=b("ActorURI").create(d,c);return new(b("Promise"))(function(a,c){b("AsyncDialog").send(new(b("AsyncRequest"))().setURI(d).setHandler(function(b){return a(b.payload)}).setErrorHandler(c))})},getSelectedVideosAndCrossPostsCount:function(a,b,c){var d=0,e=0,f=0,g=0;b.forEach(function(b){var h=b.reusedPostsCount,i=b.reusedPublishedPostsCount,j=b.posts.length,k=c.filter(function(a){return a.videoAssetID===b.videoAssetID}).length;k===j&&(a===b.videoAssetOwnerID&&(e+=h,f+=i,b.isShared&&g++),d++)});return{selectedVideosCrosspostsCount:e,selectedVideosPublishedCrosspostsCount:f,selectedVideosCount:d,selectedOwnedVideosSharedCount:g}},openVideoInsights:function(a,b){var c=a.id;!a.is_video_asset&&a.video_asset_id&&a.video_asset_id!=0&&(c=a.video_asset_id);this.openVideoAssetInsightsDialog(c,b.page_id)},deleteVideoAssets:function(a,b,c,d){return this._fetchVideoAssetsPosts(a,b).then(function(a){return this._confirmDeleteVideoAssets(a,b,undefined,c,d)}.bind(this))},_performVideoActionOnPosts:function(a,c){var d=b("ReactDOM").render(b("React").createElement(m,null),b("DOM").create("div"));d.show();var e=[];return b("Promise").all(a.map(function(a){return c(a).then(function(){return e.push(a)},function(){})})).then(function(){d.hide();return e})},_getPostsFromVideoAssetsByID:function(a,b){var c=[];a.forEach(function(a){a.posts.forEach(function(a){b.indexOf(a.id)>=0&&c.push(a)})});return c},deleteVideoPosts:function(a,b,c,d){return this._fetchVideoAssetsPostsFromPosts(a,b).then(function(e){var f=this._getPostsFromVideoAssetsByID(e,a);return this._confirmDeleteVideoAssets(e,b,f,c,d)}.bind(this))},_confirmDeleteVideoAssets:function(a,c,d,e,f){return new(b("Promise"))(function(g,h){b("ReactDOM").render(b("React").createElement(b("VideoAssetDeleteConfirmationDialog.react"),{pageID:c,organicPostsByAsset:a,selectedOrganicPosts:d,onExpire:function(b){this._confirmExpireVideoAssets(a,c,b,e).done(),g([])}.bind(this),onDelete:function(b){this._deleteVideoPosts(b,a,c,e).done(g,h)}.bind(this),canDeleteCrosspostedVideos:l._canDeleteCrosspostedVideos,showCrosspostingHelpCenter:f,canExpireVideos:this._filterNonExpiredPublishedPosts(a).length!==0}),b("DOM").create("div"))}.bind(this))},_deleteVideoPosts:function(a,c,d,e){new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_DELETE_SELECTION).setPageID(d).setIsBulk(1).setVideoAssetIds(c.map(function(a){return a.videoAssetID})).setVideoIds(a.map(function(a){return a.id})).setSource(e).log();return this._performVideoActionOnPosts(a,this._deleteVideoPost.bind(this,e),d)},_deleteVideoPost:function(a,c,d){return new(b("Promise"))(function(e,f){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_start").setPageID(d).setVideoID(c.id).setSource(a).log(),new(b("AsyncRequest"))().setURI("/ajax/video/actions/delete/").setData({fbid:c.id,redirect:!1}).setHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_finish").setPageID(d).setVideoID(c.id).setSource(a).log(),e()}).setErrorHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_failure").setPageID(d).setVideoID(c.id).setSource(a).log(),f()}).send()})},getLiveStatusTypeName:function(a){var c="NOT_A_BROADCAST";Object.keys(b("LiveStatusType")).forEach(function(d){if(b("LiveStatusType")[d]===a){c=d;return}});return c},_filterNonExpiredPublishedPosts:function(a){return a.map(function(a){return babelHelpers["extends"]({},a,{posts:a.posts.filter(function(a){return a.isPublished&&!a.isExpired})})}).filter(function(a){return a.posts.length>0})},publishVideoAssets:function(a,b,c){return this._fetchVideoAssetsPosts(a,b).then(function(a){return this._confirmPublishVideoAssets(a,b,undefined,c)}.bind(this))},_confirmPublishVideoAssets:function(a,c,d,e){return new(b("Promise"))(function(f,g){var h=this._filterNonExpiredUnpublishedOrganicPosts(a);h.length===0?b("ReactDOM").render(b("React").createElement(b("XUIDialog.react"),{width:350,shown:!0,layerHideOnBlur:!1},b("React").createElement(b("XUIDialogTitle.react"),null,i._("No posts to publish")),b("React").createElement(b("XUIDialogBody.react"),null,i._("All posts using these videos are already published.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:i._("OK"),action:"cancel",use:"confirm",onClick:function(){return f()}}))),b("DOM").create("div")):b("ReactDOM").render(b("React").createElement(b("VideoAssetPublishConfirmationDialog.react"),{organicPostsByAsset:h,selectedOrganicPosts:d,onPublish:function(a){this._publishVideoPosts(a,c,e).done(f,g)}.bind(this)}),b("DOM").create("div"))}.bind(this))},_publishVideoPosts:function(a,b,c){return this._performVideoActionOnPosts(a,this._publishVideoPost.bind(this,b,c))},_publishVideoPost:function(a,c,d){return new(b("Promise"))(function(e,f){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_start").setPageID(a).setVideoID(d.id).setSource(c).log();var g=b("XVideoPostPublishController").getURIBuilder().setInt("video_id",d.id).setEnum("source",c).getURI();g=b("ActorURI").create(g,a);new(b("AsyncRequest"))().setURI(g).setHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_finish").setPageID(a).setVideoID(d.id).setSource(c).log(),e()}).setErrorHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_failure").setPageID(a).setVideoID(d.id).setSource(c).log(),f()}).send()})},_filterNonExpiredUnpublishedOrganicPosts:function(a){return a.map(function(a){return babelHelpers["extends"]({},a,{posts:a.posts.filter(function(a){return!a.isPublished&&!a.isExpired})})}).filter(function(a){return a.posts.length>0})},expireVideoAssets:function(a,b,c){return this._fetchVideoAssetsPosts(a,b).then(function(a){return this._confirmExpireVideoAssets(a,b,undefined,c)}.bind(this))},expireVideoPosts:function(a,b,c){return this._fetchVideoAssetsPostsFromPosts(a,b).then(function(d){var e=this._getPostsFromVideoAssetsByID(d,a);return this._confirmExpireVideoAssets(d,b,e,c)}.bind(this))},_confirmExpireVideoAssets:function(a,c,d,e){__p&&__p();return new(b("Promise"))(function(f,g){var h=this._filterNonExpiredPublishedPosts(a);h.length===0?b("ReactDOM").render(b("React").createElement(b("XUIDialog.react"),{width:350,shown:!0,layerHideOnBlur:!1},b("React").createElement(b("XUIDialogTitle.react"),null,i._("No posts to expire")),b("React").createElement(b("XUIDialogBody.react"),null,i._("All posts using these videos are already expired.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:i._("OK"),action:"cancel",use:"confirm",onClick:function(){return f()}}))),b("DOM").create("div")):b("ReactDOM").render(b("React").createElement(b("VideoAssetExpireConfirmationDialog.react"),{pageID:c,organicPostsByAsset:h,selectedOrganicPosts:d,onExpire:function(d,i){b("promiseDone")(b("Promise").all([this._expireVideoPosts(d,c,a,e),i?this._expireVideoAssetsCrosspostsAndRemoveSharing(h.filter(function(a){return a.videoAssetOwnerID===c}).map(function(a){return a.videoAssetID}),c,e):null]).then(function(a){var b=a[0];a[1];return b}),f,g)}.bind(this),canRemoveSharePermission:l._canRemoveSharePermissionOnExpire}),b("DOM").create("div"))}.bind(this))},_expireVideoAssetsCrosspostsAndRemoveSharing:function(a,c,d){return b("Promise").all(a.map(function(a){return this._expireAllCrosspostsAndRemoveSharing(a,c,d)}.bind(this)))},_expireAllCrosspostsAndRemoveSharing:function(a,c,d){return new(b("Promise"))(function(e,f){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_start").setPageID(c).setVideoAssetIDOverride(a).setSource(d).log();var g=b("XVideoAssetsExpireRemoveSharingController").getURIBuilder().setFBID("video_asset_id",a).setEnum("source",d).getURI();g=b("ActorURI").create(g,c);new(b("AsyncRequest"))().setURI(g).setHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_finish").setPageID(c).setVideoAssetIDOverride(a).setSource(d).log(),e()}).setErrorHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_failure").setPageID(c).setVideoAssetIDOverride(a).setSource(d).log(),f()}).send()})},_expireVideoPosts:function(a,c,d,e){new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_EXPIRE_SELECTION).setIsBulk(1).setVideoAssetIds(d.map(function(a){return a.videoAssetID})).setVideoIds(a.map(function(a){return a.id})).setSource(e).log();return this._performVideoActionOnPosts(a,this._expireVideoPost.bind(this,c,e))},_expireVideoPost:function(a,c,d){return new(b("Promise"))(function(e,f){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_start").setPageID(a).setVideoID(d.id).setSource(c).log();var g=b("XVideoPostExpireController").getURIBuilder().setInt("video_id",d.id).setEnum("source",c).getURI();g=b("ActorURI").create(g,a);new(b("AsyncRequest"))().setURI(g).setHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_finish").setPageID(a).setVideoID(d.id).setSource(c).log(),e()}).setErrorHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_failure").setPageID(a).setVideoID(d.id).setSource(c).log(),f()}).send()})},scheduleVideoAssets:function(a,b,c){return this._fetchVideoAssetsPosts(a,b.page_id).then(function(a){return this._confirmScheduleVideoAssets(a,b,undefined,c)}.bind(this))},_confirmScheduleVideoAssets:function(a,c,d,e){return new(b("Promise"))(function(d,f){var g=this._filterNonExpiredUnpublishedOrganicPosts(a);g.length===0?b("ReactDOM").render(b("React").createElement(b("XUIDialog.react"),{width:350,shown:!0,layerHideOnBlur:!1},b("React").createElement(b("XUIDialogTitle.react"),null,i._("No posts to schedule")),b("React").createElement(b("XUIDialogBody.react"),null,i._("All posts using these videos are already published.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:i._("OK"),action:"cancel",use:"confirm",onClick:function(){return d()}}))),b("DOM").create("div")):b("ReactDOM").render(b("React").createElement(b("VideoAssetSelectorDialog.react"),{showPostStateIndicator:!0,videoAssetData:g[0],onSelect:function(a){this._scheduleVideoPostsDialog(a,c.page_id,e).done(d,f)}.bind(this)}),b("DOM").create("div"))}.bind(this))},_scheduleVideoPostsDialog:function(a,c,d){var e=a[0];return new(b("Promise"))(function(f,g){var h=null,i=!1;e.schedulePublishTime&&(h=new Date(e.schedulePublishTime*k),i=!0);h=b("ReactDOM").render(b("React").createElement(b("PostScheduleDialog.react"),{timezoneStr:b("PageContentTabConfig").timezone_str,initialDate:h,isReschedule:i,onSubmit:function(b){this._performVideoActionOnPosts(a,this._scheduleVideoPost.bind(this,c,d,e,Math.floor(b.getTime()/k))).done(f,g)}.bind(this)}),b("DOM").create("div"));h.show()}.bind(this))},_scheduleVideoPost:function(a,c,d,e){return new(b("Promise"))(function(f,g){new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_START).setPageID(a).setVideoID(d.id).setSource(c).log();var h=b("XVideoPostScheduleController").getURIBuilder().setInt("video_id",d.id).setEnum("source",c).setInt("schedule_publish_time",e).getURI();h=b("ActorURI").create(h,a);new(b("AsyncRequest"))().setURI(h).setHandler(function(e){e=e.payload.error;!e?(new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FINISH).setPageID(a).setVideoID(d.id).setSource(c).log(),f()):(new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FAILURE).setPageID(a).setVideoID(d.id).setSource(c).log(),g())}).setErrorHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FAILURE).setPageID(a).setVideoID(d.id).setSource(c).log(),g()}).send()})},_canDeleteCrosspostedVideos:!1,setCanDeleteCrosspostedVideos:function(a){this._canDeleteCrosspostedVideos=a},_canRemoveSharePermissionOnExpire:!1,setCanRemoveSharePermissionOnExpire:function(a){this._canRemoveSharePermissionOnExpire=a},openVideoAssetInsightsDialog:function(a,c){a=b("XVideoAssetInsightsDialogController").getURIBuilder().setFBID("video_asset_id",a).setFBID("page_id",c).setEnum("source",b("VideoAssetInsightsSource").VIDEO_LIBRARY).setEnum("context",b("VideoAssetContext").VIDEO_ASSET).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))},_openEditDialog:function(a,c,d,e){a=b("ActorURI").create(b("XVideoEditDialogController").getURIBuilder().setInt("video_id",a).setString("post_id",c).setEnum("source",e).getURI(),d);b("AsyncDialog").send(new(b("AsyncRequest"))(a))},renderMonitoringStatusIndicator:function(a,c){return a==="ERROR"?b("React").createElement(b("Image.react"),{className:b("joinClasses")(c,"_5u-h"),"data-tooltip-content":i._("Not monitored"),"data-hover":"tooltip","data-tooltip-position":"right",src:g("117757")}):null},renderCopyrightInConflictIndicator:function(a,c){return b("React").createElement(b("Image.react"),{className:b("joinClasses")(a,"_5u-h"),"data-tooltip-content":c,"data-hover":"tooltip","data-tooltip-position":"right",src:g("132175")})},isValidContainerType:function(a){return Object.keys(b("VideoContainerTypeInVideoLibrary")).some(function(c){return b("VideoContainerType")[c]===b("VideoContainerType")[a]})},_getVideoAssetDefaultFields:function(a){var c=[b("GenericVideoAssetGraphFields").ID,b("GenericVideoAssetGraphFields").DESCRIPTION,b("GenericVideoAssetGraphFields").CAN_VIEWER_EDIT,b("GenericVideoAssetGraphFields").CREATED_TIME,b("GenericVideoAssetGraphFields").IS_CROSSPOSTING_ELIGIBLE,b("GenericVideoAssetGraphFields").IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE,b("GenericVideoAssetGraphFields").IS_CROSSPOSTING_WITHIN_BM_ENABLED,b("GenericVideoAssetGraphFields").IS_FEATURED,b("GenericVideoAssetGraphFields").IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE,b("GenericVideoAssetGraphFields").IS_LIVE_PREMIERE,b("GenericVideoAssetGraphFields").THUMBNAIL,b("GenericVideoAssetGraphFields").IS_VIDEO_ASSET,b("GenericVideoAssetGraphFields").POSTS_COUNT,b("GenericVideoAssetGraphFields").POSTS_STATUS,b("GenericVideoAssetGraphFields").VIEWS,b("GenericVideoAssetGraphFields").TITLE,b("GenericVideoAssetGraphFields").CREATOR,b("GenericVideoAssetGraphFields").POSTS_IDS,b("GenericVideoAssetGraphFields").LAST_ADDED_TIME,b("GenericVideoAssetGraphFields").NO_STORY,b("GenericVideoAssetGraphFields").SECRET,b("GenericVideoAssetGraphFields").EMBEDDABLE,b("GenericVideoAssetGraphFields").SOCIAL_ACTIONS,b("GenericVideoAssetGraphFields").PUBLISHED,b("GenericVideoAssetGraphFields").EXPIRATION,b("GenericVideoAssetGraphFields").FEED_TYPE,b("GenericVideoAssetGraphFields").PERMALINK_URL,b("GenericVideoAssetGraphFields").SCHEDULED_PUBLISH_TIME,b("GenericVideoAssetGraphFields").LIVE_STATUS,b("GenericVideoAssetGraphFields").STATUS,b("GenericVideoAssetGraphFields").THUMBNAIL_WHILE_ENCODING,b("GenericVideoAssetGraphFields").LATEST_CREATOR,b("GenericVideoAssetGraphFields").LATEST_OWNED_TITLE,b("GenericVideoAssetGraphFields").LATEST_OWNED_DESCRIPTION,b("GenericVideoAssetGraphFields").BROADCAST_PLANNED_START_TIME,b("GenericVideoAssetGraphFields").LENGTH,b("GenericVideoAssetGraphFields").OWNER_ID];a.can_edit_live_broadcast&&c.push(b("GenericVideoAssetGraphFields").BROADCAST_ID,b("GenericVideoAssetGraphFields").STREAM_URL,b("GenericVideoAssetGraphFields").SECURE_STREAM_URL);a.is_copyright_management_enabled&&c.push(b("GenericVideoAssetGraphFields").COPYRIGHT_MONITORING_STATUS);a.show_video_library_download_action&&c.push(b("GenericVideoAssetGraphFields").DOWNLOAD_SD_URL,b("GenericVideoAssetGraphFields").DOWNLOAD_HD_URL);a.is_video_show_page&&c.push(b("GenericVideoAssetGraphFields").IS_EPISODE,b("GenericVideoAssetGraphFields").SEASON);a.can_insert_ad_breaks&&a.can_see_demonetization_icon&&c.push(b("GenericVideoAssetGraphFields").MONETIZATION_STATUS);return c},_getVideoDefaultFields:function(a){var c=[b("VideoGraphFields").ID,b("VideoGraphFields").DESCRIPTION,b("VideoGraphFields").CREATED_TIME,b("VideoGraphFields").PICTURE,b("VideoGraphFields").UPDATED_TIME,b("VideoGraphFields").VIEWS,b("VideoGraphFields").EMBEDDABLE,b("VideoGraphFields").FEED_TYPE,b("VideoGraphFields").TITLE,b("VideoGraphFields").ADMIN_CREATOR,b("VideoGraphFields").PERMALINK_URL,b("VideoGraphFields").SECRET,b("VideoGraphFields").SOCIAL_ACTIONS,b("VideoGraphFields").NO_STORY,b("VideoGraphFields").EXPIRATION,b("VideoGraphFields").COPYRIGHTED,b("VideoGraphFields").PUBLISHED,b("VideoGraphFields").SCHEDULED_PUBLISH_TIME,b("VideoGraphFields").CONTAINER_TYPE,b("VideoGraphFields").LIVE_STATUS,b("VideoGraphFields").VIDEO_ASSET_ID,b("VideoGraphFields").STATUS,b("VideoGraphFields").THUMBNAIL_WHILE_ENCODING,b("VideoGraphFields").IS_CROSSPOST_VIDEO,b("VideoGraphFields").IS_CROSSPOSTING_ELIGIBLE,b("VideoGraphFields").IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE,b("VideoGraphFields").IS_CROSSPOSTING_WITHIN_BM_ENABLED,b("VideoGraphFields").IS_FEATURED,b("VideoGraphFields").IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE,b("VideoGraphFields").IS_LIVE_PREMIERE,b("VideoGraphFields").BROADCAST_PLANNED_START_TIME,b("VideoGraphFields").LENGTH];a.can_edit_live_broadcast&&c.push(b("VideoGraphFields").BROADCAST_ID,b("VideoGraphFields").STREAM_URL,b("VideoGraphFields").SECURE_STREAM_URL);a.is_copyright_management_enabled&&c.push(b("VideoGraphFields").COPYRIGHT_MONITORING_STATUS);a.is_video_show_page&&c.push(b("GenericVideoAssetGraphFields").IS_EPISODE,b("VideoGraphFields").SEASON);a.can_insert_ad_breaks&&a.can_see_demonetization_icon&&c.push(b("VideoGraphFields").MONETIZATION_STATUS);return c},getVideoGameNameSelectorPlaceholder:function(){return i._("Tag a game (ex: PUBG)")}};a=babelHelpers.inherits(m,b("React").Component);j=a&&a.prototype;function m(a){j.constructor.call(this,a),this.state={shown:!1}}m.prototype.show=function(){this.setState({shown:!0})};m.prototype.hide=function(){this.setState({shown:!1})};m.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{width:300,shown:this.state.shown,layerHideOnBlur:!1},b("React").createElement(b("XUIDialogBody.react"),{className:"_5xp9"},b("React").createElement(b("XUISpinner.react"),{background:"light",className:"_5xpe",size:"large"})))};e.exports=l}),null);
__d("degToRad",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a*Math.PI/180}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/szRD2xg2JXY/
 */
__d("gl-matrix-2.4.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={exports:g},i;function j(){__p&&__p();(function(a,b){if(typeof g==="object"&&typeof h==="object")h.exports=b();else if(typeof i==="function"&&i.amd)i([],b);else{b=b();for(var c in b)(typeof g==="object"?g:a)[c]=b[c]}})(this,function(){__p&&__p();return function(a){__p&&__p();var b={};function c(f){if(b[f])return b[f].exports;var d=b[f]={i:f,l:!1,exports:{}};a[f].call(d.exports,d,d.exports,c);d.l=!0;return d.exports}c.m=a;c.c=b;c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:d})};c.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(b,"a",b);return b};c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};c.p="";return c(c.s=4)}([function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.setMatrixArrayType=a;b.toRadian=c;b.equals=h;var d=b.EPSILON=1e-6;b.ARRAY_TYPE=typeof Float32Array!=="undefined"?Float32Array:Array;b.RANDOM=Math.random;function a(a){b.ARRAY_TYPE=a}var g=Math.PI/180;function c(a){return a*g}function h(a,b){return Math.abs(a-b)<=d*Math.max(1,Math.abs(a),Math.abs(b))}},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.sub=b.mul=undefined;b.create=g;b.fromMat4=h;b.clone=i;b.copy=j;b.fromValues=k;b.set=l;b.identity=m;b.transpose=n;b.invert=o;b.adjoint=p;b.determinant=q;b.multiply=r;b.translate=s;b.rotate=t;b.scale=u;b.fromTranslation=v;b.fromRotation=w;b.fromScaling=x;b.fromMat2d=y;b.fromQuat=z;b.normalFromMat4=A;b.projection=B;b.str=C;b.frob=D;b.add=E;b.subtract=F;b.multiplyScalar=G;b.multiplyScalarAndAdd=H;b.exactEquals=I;b.equals=J;g=c(0);var d=a(g);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(){__p&&__p();var a=new d.ARRAY_TYPE(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}function h(a,b){__p&&__p();a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a}function i(a){__p&&__p();var b=new d.ARRAY_TYPE(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b}function j(a,b){__p&&__p();a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a}function k(a,b,c,e,f,g,h,i,j){__p&&__p();var k=new d.ARRAY_TYPE(9);k[0]=a;k[1]=b;k[2]=c;k[3]=e;k[4]=f;k[5]=g;k[6]=h;k[7]=i;k[8]=j;return k}function l(a,b,c,d,e,f,g,h,i,j){__p&&__p();a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=i;a[8]=j;return a}function m(a){__p&&__p();a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}function n(a,b){__p&&__p();if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3];a[2]=b[6];a[3]=c;a[5]=b[7];a[6]=d;a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a}function o(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7];b=b[8];var k=b*g-h*j,l=-b*f+h*i,m=j*f-g*i,n=c*k+d*l+e*m;if(!n)return null;n=1/n;a[0]=k*n;a[1]=(-b*d+e*j)*n;a[2]=(h*d-e*g)*n;a[3]=l*n;a[4]=(b*c-e*i)*n;a[5]=(-h*c+e*f)*n;a[6]=m*n;a[7]=(-j*c+d*i)*n;a[8]=(g*c-d*f)*n;return a}function p(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7];b=b[8];a[0]=g*b-h*j;a[1]=e*j-d*b;a[2]=d*h-e*g;a[3]=h*i-f*b;a[4]=c*b-e*i;a[5]=e*f-c*h;a[6]=f*j-g*i;a[7]=d*i-c*j;a[8]=c*g-d*f;return a}function q(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7];a=a[8];return b*(a*f-g*i)+c*(-a*e+g*h)+d*(i*e-f*h)}function r(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0],m=c[1],n=c[2],o=c[3],p=c[4],q=c[5],r=c[6],s=c[7];c=c[8];a[0]=l*d+m*g+n*j;a[1]=l*e+m*h+n*k;a[2]=l*f+m*i+n*b;a[3]=o*d+p*g+q*j;a[4]=o*e+p*h+q*k;a[5]=o*f+p*i+q*b;a[6]=r*d+s*g+c*j;a[7]=r*e+s*h+c*k;a[8]=r*f+s*i+c*b;return a}function s(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=h;a[5]=i;a[6]=l*d+c*g+j;a[7]=l*e+c*h+k;a[8]=l*f+c*i+b;return a}function t(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=Math.sin(c);c=Math.cos(c);a[0]=c*d+l*g;a[1]=c*e+l*h;a[2]=c*f+l*i;a[3]=c*g-l*d;a[4]=c*h-l*e;a[5]=c*i-l*f;a[6]=j;a[7]=k;a[8]=b;return a}function u(a,b,c){__p&&__p();var d=c[0];c=c[1];a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=c*b[3];a[4]=c*b[4];a[5]=c*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a}function v(a,b){__p&&__p();a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a}function w(a,b){__p&&__p();var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=-c;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}function x(a,b){__p&&__p();a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}function y(a,b){__p&&__p();a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a}function z(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,h=e+e;c=c*f;var i=d*f;d=d*g;var j=e*f,k=e*g;e=e*h;f=b*f;g=b*g;b=b*h;a[0]=1-d-e;a[3]=i-b;a[6]=j+g;a[1]=i+b;a[4]=1-c-e;a[7]=k-f;a[2]=j-g;a[5]=k+f;a[8]=1-c-d;return a}function A(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14];b=b[15];var r=c*h-d*g,s=c*i-e*g,t=c*j-f*g,u=d*i-e*h,v=d*j-f*h,w=e*j-f*i,x=k*p-l*o,y=k*q-m*o;k=k*b-n*o;var z=l*q-m*p;l=l*b-n*p;m=m*b-n*q;n=r*m-s*l+t*z+u*k-v*y+w*x;if(!n)return null;n=1/n;a[0]=(h*m-i*l+j*z)*n;a[1]=(i*k-g*m-j*y)*n;a[2]=(g*l-h*k+j*x)*n;a[3]=(e*l-d*m-f*z)*n;a[4]=(c*m-e*k+f*y)*n;a[5]=(d*k-c*l-f*x)*n;a[6]=(p*w-q*v+b*u)*n;a[7]=(q*t-o*w-b*s)*n;a[8]=(o*v-p*t+b*r)*n;return a}function B(a,b,c){__p&&__p();a[0]=2/b;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/c;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a}function C(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function D(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function E(a,b,c){__p&&__p();a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];return a}function F(a,b,c){__p&&__p();a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];return a}function G(a,b,c){__p&&__p();a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;return a}function H(b,c,d,a){__p&&__p();b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;b[4]=c[4]+d[4]*a;b[5]=c[5]+d[5]*a;b[6]=c[6]+d[6]*a;b[7]=c[7]+d[7]*a;b[8]=c[8]+d[8]*a;return b}function I(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function J(a,b){var c=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7];a=a[8];var l=b[0],m=b[1],n=b[2],o=b[3],p=b[4],q=b[5],r=b[6],s=b[7];b=b[8];return Math.abs(c-l)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(l))&&Math.abs(e-m)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(m))&&Math.abs(f-n)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(n))&&Math.abs(g-o)<=d.EPSILON*Math.max(1,Math.abs(g),Math.abs(o))&&Math.abs(h-p)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(i-q)<=d.EPSILON*Math.max(1,Math.abs(i),Math.abs(q))&&Math.abs(j-r)<=d.EPSILON*Math.max(1,Math.abs(j),Math.abs(r))&&Math.abs(k-s)<=d.EPSILON*Math.max(1,Math.abs(k),Math.abs(s))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}b.mul=r;b.sub=F},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.forEach=b.sqrLen=b.len=b.sqrDist=b.dist=b.div=b.mul=b.sub=undefined;b.create=g;b.clone=h;b.length=i;b.fromValues=j;b.copy=k;b.set=l;b.add=m;b.subtract=n;b.multiply=o;b.divide=p;b.ceil=q;b.floor=r;b.min=s;b.max=t;b.round=u;b.scale=v;b.scaleAndAdd=w;b.distance=x;b.squaredDistance=y;b.squaredLength=z;b.negate=A;b.inverse=B;b.normalize=C;b.dot=D;b.cross=E;b.lerp=F;b.hermite=G;b.bezier=H;b.random=I;b.transformMat4=J;b.transformMat3=K;b.transformQuat=L;b.rotateX=M;b.rotateY=N;b.rotateZ=O;b.angle=P;b.str=Q;b.exactEquals=R;b.equals=S;h=c(0);var d=a(h);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(){var a=new d.ARRAY_TYPE(3);a[0]=0;a[1]=0;a[2]=0;return a}function h(a){var b=new d.ARRAY_TYPE(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b}function i(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)}function j(a,b,c){var e=new d.ARRAY_TYPE(3);e[0]=a;e[1]=b;e[2]=c;return e}function k(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a}function l(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a}function m(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a}function n(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}function o(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a}function p(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a}function q(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a}function r(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a}function s(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a}function t(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a}function u(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a}function v(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a}function w(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;return b}function x(a,b){var c=b[0]-a[0],d=b[1]-a[1];b=b[2]-a[2];return Math.sqrt(c*c+d*d+b*b)}function y(a,b){var c=b[0]-a[0],d=b[1]-a[1];b=b[2]-a[2];return c*c+d*d+b*b}function z(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}function A(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a}function B(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a}function C(a,b){var c=b[0],d=b[1],e=b[2];c=c*c+d*d+e*e;c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a}function D(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function E(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*f-d*c;a[2]=d*g-e*f;return a}function F(a,b,c,d){var e=b[0],f=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=b+d*(c[2]-b);return a}function G(a,b,c,d,e,f){var g=f*f,h=g*(2*f-3)+1,i=g*(f-2)+f,j=g*(f-1);g=g*(3-2*f);a[0]=b[0]*h+c[0]*i+d[0]*j+e[0]*g;a[1]=b[1]*h+c[1]*i+d[1]*j+e[1]*g;a[2]=b[2]*h+c[2]*i+d[2]*j+e[2]*g;return a}function H(a,b,c,d,e,f){var g=1-f,h=g*g,i=f*f,j=h*g;h=3*f*h;g=3*i*g;i=i*f;a[0]=b[0]*j+c[0]*h+d[0]*g+e[0]*i;a[1]=b[1]*j+c[1]*h+d[1]*g+e[1]*i;a[2]=b[2]*j+c[2]*h+d[2]*g+e[2]*i;return a}function I(b,a){a=a||1;var c=d.RANDOM()*2*Math.PI,e=d.RANDOM()*2-1,f=Math.sqrt(1-e*e)*a;b[0]=Math.cos(c)*f;b[1]=Math.sin(c)*f;b[2]=e*a;return b}function J(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[3]*d+c[7]*e+c[11]*b+c[15];f=f||1;a[0]=(c[0]*d+c[4]*e+c[8]*b+c[12])/f;a[1]=(c[1]*d+c[5]*e+c[9]*b+c[13])/f;a[2]=(c[2]*d+c[6]*e+c[10]*b+c[14])/f;return a}function K(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];a[2]=d*c[2]+e*c[5]+b*c[8];return a}function L(a,b,c){__p&&__p();var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1],h=c[2];c=c[3];var i=c*d+g*b-h*e,j=c*e+h*d-f*b,k=c*b+f*e-g*d;d=-f*d-g*e-h*b;a[0]=i*c+d*-f+j*-h-k*-g;a[1]=j*c+d*-g+k*-f-i*-h;a[2]=k*c+d*-h+i*-g-j*-f;return a}function M(a,b,c,d){__p&&__p();var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0];f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d);f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a}function N(a,b,c,d){__p&&__p();var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d);f[1]=e[1];f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a}function O(a,b,c,d){__p&&__p();var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d);f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d);f[2]=e[2];a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a}function P(a,b){__p&&__p();a=j(a[0],a[1],a[2]);b=j(b[0],b[1],b[2]);C(a,a);C(b,b);a=D(a,b);if(a>1)return 0;else if(a<-1)return Math.PI;else return Math.acos(a)}function Q(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function R(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function S(a,b){var c=a[0],e=a[1];a=a[2];var f=b[0],g=b[1];b=b[2];return Math.abs(c-f)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(e-g)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}b.sub=n;b.mul=o;b.div=p;b.dist=x;b.sqrDist=y;b.len=i;b.sqrLen=z;b.forEach=function(){var a=g();return function(b,c,d,e,f,g){var h=void 0,i=void 0;c||(c=3);d||(d=0);e?i=Math.min(e*c+d,b.length):i=b.length;for(h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}()},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.forEach=b.sqrLen=b.len=b.sqrDist=b.dist=b.div=b.mul=b.sub=undefined;b.create=g;b.clone=h;b.fromValues=i;b.copy=j;b.set=k;b.add=l;b.subtract=m;b.multiply=n;b.divide=o;b.ceil=p;b.floor=q;b.min=r;b.max=s;b.round=t;b.scale=u;b.scaleAndAdd=v;b.distance=w;b.squaredDistance=x;b.length=y;b.squaredLength=z;b.negate=A;b.inverse=B;b.normalize=C;b.dot=D;b.lerp=E;b.random=F;b.transformMat4=G;b.transformQuat=H;b.str=I;b.exactEquals=J;b.equals=K;h=c(0);var d=a(h);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(){var a=new d.ARRAY_TYPE(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a}function h(a){var b=new d.ARRAY_TYPE(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}function i(a,b,c,e){var f=new d.ARRAY_TYPE(4);f[0]=a;f[1]=b;f[2]=c;f[3]=e;return f}function j(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function k(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function l(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a}function m(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}function n(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];a[3]=b[3]*c[3];return a}function o(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];a[3]=b[3]/c[3];return a}function p(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a}function q(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a}function r(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);a[3]=Math.min(b[3],c[3]);return a}function s(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);a[3]=Math.max(b[3],c[3]);return a}function t(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a}function u(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a}function v(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;return b}function w(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];b=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+b*b)}function x(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];b=b[3]-a[3];return c*c+d*d+e*e+b*b}function y(a){var b=a[0],c=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)}function z(a){var b=a[0],c=a[1],d=a[2];a=a[3];return b*b+c*c+d*d+a*a}function A(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a}function B(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a}function C(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f>0&&(f=1/Math.sqrt(f),a[0]=c*f,a[1]=d*f,a[2]=e*f,a[3]=b*f);return a}function D(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function E(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=g+d*(c[2]-g);a[3]=b+d*(c[3]-b);return a}function F(a,b){b=b||1;a[0]=d.RANDOM();a[1]=d.RANDOM();a[2]=d.RANDOM();a[3]=d.RANDOM();C(a,a);u(a,a,b);return a}function G(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*b;a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*b;a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*b;a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*b;return a}function H(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];c=c[3];var j=c*d+h*f-i*e,k=c*e+i*d-g*f,l=c*f+g*e-h*d;d=-g*d-h*e-i*f;a[0]=j*c+d*-g+k*-i-l*-h;a[1]=k*c+d*-h+l*-g-j*-i;a[2]=l*c+d*-i+j*-h-k*-g;a[3]=b[3];return a}function I(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function J(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function K(a,b){var c=a[0],e=a[1],f=a[2];a=a[3];var g=b[0],h=b[1],i=b[2];b=b[3];return Math.abs(c-g)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(e-h)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(f-i)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(i))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}b.sub=m;b.mul=n;b.div=o;b.dist=w;b.sqrDist=x;b.len=y;b.sqrLen=z;b.forEach=function(){var a=g();return function(b,c,d,e,f,g){var h=void 0,i=void 0;c||(c=4);d||(d=0);e?i=Math.min(e*c+d,b.length):i=b.length;for(h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}()},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.vec4=b.vec3=b.vec2=b.quat=b.mat4=b.mat3=b.mat2d=b.mat2=b.glMatrix=undefined;var d=c(0);d=a(d);var g=c(5);g=a(g);var h=c(6);h=a(h);var i=c(1);i=a(i);var j=c(7);j=a(j);var k=c(8);k=a(k);var l=c(9);l=a(l);var m=c(2);m=a(m);c=c(3);a=a(c);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}b.glMatrix=d;b.mat2=g;b.mat2d=h;b.mat3=i;b.mat4=j;b.quat=k;b.vec2=l;b.vec3=m;b.vec4=a},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.sub=b.mul=undefined;b.create=g;b.clone=h;b.copy=i;b.identity=j;b.fromValues=k;b.set=l;b.transpose=m;b.invert=n;b.adjoint=o;b.determinant=p;b.multiply=q;b.rotate=r;b.scale=s;b.fromRotation=t;b.fromScaling=u;b.str=v;b.frob=w;b.LDU=x;b.add=y;b.subtract=z;b.exactEquals=A;b.equals=B;b.multiplyScalar=C;b.multiplyScalarAndAdd=D;g=c(0);var d=a(g);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(){var a=new d.ARRAY_TYPE(4);a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a}function h(a){var b=new d.ARRAY_TYPE(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}function i(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function j(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a}function k(a,b,c,e){var f=new d.ARRAY_TYPE(4);f[0]=a;f[1]=b;f[2]=c;f[3]=e;return f}function l(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function m(a,b){if(a===b){var c=b[1];a[1]=b[2];a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a}function n(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*b-e*d;if(!f)return null;f=1/f;a[0]=b*f;a[1]=-d*f;a[2]=-e*f;a[3]=c*f;return a}function o(a,b){var c=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=c;return a}function p(a){return a[0]*a[3]-a[2]*a[1]}function q(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2];c=c[3];a[0]=d*g+f*h;a[1]=e*g+b*h;a[2]=d*i+f*c;a[3]=e*i+b*c;return a}function r(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*g;a[1]=e*c+b*g;a[2]=d*-g+f*c;a[3]=e*-g+b*c;return a}function s(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0];c=c[1];a[0]=d*g;a[1]=e*g;a[2]=f*c;a[3]=b*c;return a}function t(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=-c;a[3]=b;return a}function u(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];return a}function v(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function w(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))}function x(a,b,c,d){a[2]=d[2]/d[0];c[0]=d[0];c[1]=d[1];c[3]=d[3]-a[2]*c[1];return[a,b,c]}function y(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a}function z(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}function A(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function B(a,b){var c=a[0],e=a[1],f=a[2];a=a[3];var g=b[0],h=b[1],i=b[2];b=b[3];return Math.abs(c-g)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(e-h)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(f-i)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(i))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}function C(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a}function D(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;return b}b.mul=q;b.sub=z},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.sub=b.mul=undefined;b.create=g;b.clone=h;b.copy=i;b.identity=j;b.fromValues=k;b.set=l;b.invert=m;b.determinant=n;b.multiply=o;b.rotate=p;b.scale=q;b.translate=r;b.fromRotation=s;b.fromScaling=t;b.fromTranslation=u;b.str=v;b.frob=w;b.add=x;b.subtract=y;b.multiplyScalar=z;b.multiplyScalarAndAdd=A;b.exactEquals=B;b.equals=C;g=c(0);var d=a(g);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(){var a=new d.ARRAY_TYPE(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function h(a){var b=new d.ARRAY_TYPE(6);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];return b}function i(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function j(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function k(a,b,c,e,f,g){var h=new d.ARRAY_TYPE(6);h[0]=a;h[1]=b;h[2]=c;h[3]=e;h[4]=f;h[5]=g;return h}function l(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a}function m(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4];b=b[5];var h=c*f-d*e;if(!h)return null;h=1/h;a[0]=f*h;a[1]=-d*h;a[2]=-e*h;a[3]=c*h;a[4]=(e*b-f*g)*h;a[5]=(d*g-c*b)*h;return a}function n(a){return a[0]*a[3]-a[1]*a[2]}function o(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0],j=c[1],k=c[2],l=c[3],m=c[4];c=c[5];a[0]=d*i+f*j;a[1]=e*i+g*j;a[2]=d*k+f*l;a[3]=e*k+g*l;a[4]=d*m+f*c+h;a[5]=e*m+g*c+b;return a}function p(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*i;a[1]=e*c+g*i;a[2]=d*-i+f*c;a[3]=e*-i+g*c;a[4]=h;a[5]=b;return a}function q(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0];c=c[1];a[0]=d*i;a[1]=e*i;a[2]=f*c;a[3]=g*c;a[4]=h;a[5]=b;return a}function r(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=d*i+f*c+h;a[5]=e*i+g*c+b;return a}function s(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=-c;a[3]=b;a[4]=0;a[5]=0;return a}function t(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];a[4]=0;a[5]=0;return a}function u(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=b[0];a[5]=b[1];return a}function v(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function w(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)}function x(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];return a}function y(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];return a}function z(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;return a}function A(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;b[4]=c[4]+d[4]*a;b[5]=c[5]+d[5]*a;return b}function B(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function C(a,b){var c=a[0],e=a[1],f=a[2],g=a[3],h=a[4];a=a[5];var i=b[0],j=b[1],k=b[2],l=b[3],m=b[4];b=b[5];return Math.abs(c-i)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(i))&&Math.abs(e-j)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(j))&&Math.abs(f-k)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(g-l)<=d.EPSILON*Math.max(1,Math.abs(g),Math.abs(l))&&Math.abs(h-m)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}b.mul=o;b.sub=y},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.sub=b.mul=undefined;b.create=g;b.clone=h;b.copy=i;b.fromValues=j;b.set=k;b.identity=l;b.transpose=m;b.invert=n;b.adjoint=o;b.determinant=p;b.multiply=q;b.translate=r;b.scale=s;b.rotate=t;b.rotateX=u;b.rotateY=v;b.rotateZ=w;b.fromTranslation=x;b.fromScaling=y;b.fromRotation=z;b.fromXRotation=A;b.fromYRotation=B;b.fromZRotation=C;b.fromRotationTranslation=D;b.getTranslation=E;b.getScaling=F;b.getRotation=G;b.fromRotationTranslationScale=H;b.fromRotationTranslationScaleOrigin=I;b.fromQuat=J;b.frustum=K;b.perspective=L;b.perspectiveFromFieldOfView=M;b.ortho=N;b.lookAt=O;b.targetTo=P;b.str=Q;b.frob=R;b.add=S;b.subtract=T;b.multiplyScalar=U;b.multiplyScalarAndAdd=V;b.exactEquals=W;b.equals=X;g=c(0);var d=a(g);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(){__p&&__p();var a=new d.ARRAY_TYPE(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function h(a){__p&&__p();var b=new d.ARRAY_TYPE(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b}function i(a,b){__p&&__p();a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function j(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=new d.ARRAY_TYPE(16);r[0]=a;r[1]=b;r[2]=c;r[3]=e;r[4]=f;r[5]=g;r[6]=h;r[7]=i;r[8]=j;r[9]=k;r[10]=l;r[11]=m;r[12]=n;r[13]=o;r[14]=p;r[15]=q;return r}function k(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=i;a[8]=j;a[9]=k;a[10]=l;a[11]=m;a[12]=n;a[13]=o;a[14]=p;a[15]=q;return a}function l(a){__p&&__p();a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function m(a,b){__p&&__p();if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=f;a[11]=b[14];a[12]=e;a[13]=g;a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function n(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14];b=b[15];var r=c*h-d*g,s=c*i-e*g,t=c*j-f*g,u=d*i-e*h,v=d*j-f*h,w=e*j-f*i,x=k*p-l*o,y=k*q-m*o,z=k*b-n*o,A=l*q-m*p,B=l*b-n*p,C=m*b-n*q,D=r*C-s*B+t*A+u*z-v*y+w*x;if(!D)return null;D=1/D;a[0]=(h*C-i*B+j*A)*D;a[1]=(e*B-d*C-f*A)*D;a[2]=(p*w-q*v+b*u)*D;a[3]=(m*v-l*w-n*u)*D;a[4]=(i*z-g*C-j*y)*D;a[5]=(c*C-e*z+f*y)*D;a[6]=(q*t-o*w-b*s)*D;a[7]=(k*w-m*t+n*s)*D;a[8]=(g*B-h*z+j*x)*D;a[9]=(d*z-c*B-f*x)*D;a[10]=(o*v-p*t+b*r)*D;a[11]=(l*t-k*v-n*r)*D;a[12]=(h*y-g*A-i*x)*D;a[13]=(c*A-d*y+e*x)*D;a[14]=(p*s-o*u-q*r)*D;a[15]=(k*u-l*s+m*r)*D;return a}function o(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14];b=b[15];a[0]=h*(m*b-n*q)-l*(i*b-j*q)+p*(i*n-j*m);a[1]=-(d*(m*b-n*q)-l*(e*b-f*q)+p*(e*n-f*m));a[2]=d*(i*b-j*q)-h*(e*b-f*q)+p*(e*j-f*i);a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i));a[4]=-(g*(m*b-n*q)-k*(i*b-j*q)+o*(i*n-j*m));a[5]=c*(m*b-n*q)-k*(e*b-f*q)+o*(e*n-f*m);a[6]=-(c*(i*b-j*q)-g*(e*b-f*q)+o*(e*j-f*i));a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i);a[8]=g*(l*b-n*p)-k*(h*b-j*p)+o*(h*n-j*l);a[9]=-(c*(l*b-n*p)-k*(d*b-f*p)+o*(d*n-f*l));a[10]=c*(h*b-j*p)-g*(d*b-f*p)+o*(d*j-f*h);a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h));a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l));a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l);a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h));a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h);return a}function p(a){__p&&__p();var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14];a=a[15];var q=b*g-c*f,r=b*h-d*f;b=b*i-e*f;f=c*h-d*g;c=c*i-e*g;g=d*i-e*h;d=j*o-k*n;i=j*p-l*n;e=j*a-m*n;h=k*p-l*o;j=k*a-m*o;n=l*a-m*p;return q*n-r*j+b*h+f*e-c*i+g*d}function q(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14];b=b[15];var s=c[0],t=c[1],u=c[2],v=c[3];a[0]=s*d+t*h+u*l+v*p;a[1]=s*e+t*i+u*m+v*q;a[2]=s*f+t*j+u*n+v*r;a[3]=s*g+t*k+u*o+v*b;s=c[4];t=c[5];u=c[6];v=c[7];a[4]=s*d+t*h+u*l+v*p;a[5]=s*e+t*i+u*m+v*q;a[6]=s*f+t*j+u*n+v*r;a[7]=s*g+t*k+u*o+v*b;s=c[8];t=c[9];u=c[10];v=c[11];a[8]=s*d+t*h+u*l+v*p;a[9]=s*e+t*i+u*m+v*q;a[10]=s*f+t*j+u*n+v*r;a[11]=s*g+t*k+u*o+v*b;s=c[12];t=c[13];u=c[14];v=c[15];a[12]=s*d+t*h+u*l+v*p;a[13]=s*e+t*i+u*m+v*q;a[14]=s*f+t*j+u*n+v*r;a[15]=s*g+t*k+u*o+v*b;return a}function r(a,b,c){__p&&__p();var d=c[0],e=c[1];c=c[2];var f;void 0;var g;void 0;var h;void 0;var i;void 0;var j;void 0;var k;void 0;var l;void 0;var m;void 0;var n;void 0;var o;void 0;var p;void 0;var q;void 0;b===a?(a[12]=b[0]*d+b[4]*e+b[8]*c+b[12],a[13]=b[1]*d+b[5]*e+b[9]*c+b[13],a[14]=b[2]*d+b[6]*e+b[10]*c+b[14],a[15]=b[3]*d+b[7]*e+b[11]*c+b[15]):(f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=f*d+j*e+n*c+b[12],a[13]=g*d+k*e+o*c+b[13],a[14]=h*d+l*e+p*c+b[14],a[15]=i*d+m*e+q*c+b[15]);return a}function s(a,b,c){__p&&__p();var d=c[0],e=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function t(a,b,c,e){__p&&__p();var f=e[0],g=e[1];e=e[2];var h=Math.sqrt(f*f+g*g+e*e),i=void 0;void 0;void 0;var j;void 0;var k;void 0;var l;void 0;var m;void 0;var n;void 0;var o;void 0;var p;void 0;var q;void 0;var r;void 0;var s;void 0;var t;void 0;var u;void 0;var v;void 0;var w;void 0;var x;void 0;var y;void 0;var z;void 0;var A;void 0;var B;void 0;void 0;void 0;if(Math.abs(h)<d.EPSILON)return null;h=1/h;f*=h;g*=h;e*=h;i=Math.sin(c);h=Math.cos(c);c=1-h;j=b[0];k=b[1];l=b[2];m=b[3];n=b[4];o=b[5];p=b[6];q=b[7];r=b[8];s=b[9];t=b[10];u=b[11];v=f*f*c+h;w=g*f*c+e*i;x=e*f*c-g*i;y=f*g*c-e*i;z=g*g*c+h;A=e*g*c+f*i;B=f*e*c+g*i;g=g*e*c-f*i;f=e*e*c+h;a[0]=j*v+n*w+r*x;a[1]=k*v+o*w+s*x;a[2]=l*v+p*w+t*x;a[3]=m*v+q*w+u*x;a[4]=j*y+n*z+r*A;a[5]=k*y+o*z+s*A;a[6]=l*y+p*z+t*A;a[7]=m*y+q*z+u*A;a[8]=j*B+n*g+r*f;a[9]=k*B+o*g+s*f;a[10]=l*B+p*g+t*f;a[11]=m*B+q*g+u*f;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function u(a,b,c){__p&&__p();var d=Math.sin(c);c=Math.cos(c);var e=b[4],f=b[5],g=b[6],h=b[7],i=b[8],j=b[9],k=b[10],l=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*c+i*d;a[5]=f*c+j*d;a[6]=g*c+k*d;a[7]=h*c+l*d;a[8]=i*c-e*d;a[9]=j*c-f*d;a[10]=k*c-g*d;a[11]=l*c-h*d;return a}function v(a,b,c){__p&&__p();var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],h=b[3],i=b[8],j=b[9],k=b[10],l=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c-i*d;a[1]=f*c-j*d;a[2]=g*c-k*d;a[3]=h*c-l*d;a[8]=e*d+i*c;a[9]=f*d+j*c;a[10]=g*d+k*c;a[11]=h*d+l*c;return a}function w(a,b,c){__p&&__p();var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],h=b[3],i=b[4],j=b[5],k=b[6],l=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c+i*d;a[1]=f*c+j*d;a[2]=g*c+k*d;a[3]=h*c+l*d;a[4]=i*c-e*d;a[5]=j*c-f*d;a[6]=k*c-g*d;a[7]=l*c-h*d;return a}function x(a,b){__p&&__p();a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function y(a,b){__p&&__p();a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function z(a,b,c){__p&&__p();var e=c[0],f=c[1];c=c[2];var g=Math.sqrt(e*e+f*f+c*c),h=void 0;void 0;void 0;if(Math.abs(g)<d.EPSILON)return null;g=1/g;e*=g;f*=g;c*=g;h=Math.sin(b);g=Math.cos(b);b=1-g;a[0]=e*e*b+g;a[1]=f*e*b+c*h;a[2]=c*e*b-f*h;a[3]=0;a[4]=e*f*b-c*h;a[5]=f*f*b+g;a[6]=c*f*b+e*h;a[7]=0;a[8]=e*c*b+f*h;a[9]=f*c*b-e*h;a[10]=c*c*b+g;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function A(a,b){__p&&__p();var c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function B(a,b){__p&&__p();var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function C(a,b){__p&&__p();var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function D(a,b,c){__p&&__p();var d=b[0],e=b[1],f=b[2];b=b[3];var g=d+d,h=e+e,i=f+f,j=d*g,k=d*h;d=d*i;var l=e*h;e=e*i;f=f*i;g=b*g;h=b*h;b=b*i;a[0]=1-(l+f);a[1]=k+b;a[2]=d-h;a[3]=0;a[4]=k-b;a[5]=1-(j+f);a[6]=e+g;a[7]=0;a[8]=d+h;a[9]=e-g;a[10]=1-(j+l);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function E(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function F(a,b){var c=b[0],d=b[1],e=b[2],f=b[4],g=b[5],h=b[6],i=b[8],j=b[9];b=b[10];a[0]=Math.sqrt(c*c+d*d+e*e);a[1]=Math.sqrt(f*f+g*g+h*h);a[2]=Math.sqrt(i*i+j*j+b*b);return a}function G(a,b){var c=b[0]+b[5]+b[10];c>0?(c=Math.sqrt(c+1)*2,a[3]=.25*c,a[0]=(b[6]-b[9])/c,a[1]=(b[8]-b[2])/c,a[2]=(b[1]-b[4])/c):b[0]>b[5]&b[0]>b[10]?(c=Math.sqrt(1+b[0]-b[5]-b[10])*2,a[3]=(b[6]-b[9])/c,a[0]=.25*c,a[1]=(b[1]+b[4])/c,a[2]=(b[8]+b[2])/c):b[5]>b[10]?(c=Math.sqrt(1+b[5]-b[0]-b[10])*2,a[3]=(b[8]-b[2])/c,a[0]=(b[1]+b[4])/c,a[1]=.25*c,a[2]=(b[6]+b[9])/c):(c=Math.sqrt(1+b[10]-b[0]-b[5])*2,a[3]=(b[1]-b[4])/c,a[0]=(b[8]+b[2])/c,a[1]=(b[6]+b[9])/c,a[2]=.25*c);return a}function H(a,b,c,d){__p&&__p();var e=b[0],f=b[1],g=b[2];b=b[3];var h=e+e,i=f+f,j=g+g,k=e*h,l=e*i;e=e*j;var m=f*i;f=f*j;g=g*j;h=b*h;i=b*i;b=b*j;j=d[0];var n=d[1];d=d[2];a[0]=(1-(m+g))*j;a[1]=(l+b)*j;a[2]=(e-i)*j;a[3]=0;a[4]=(l-b)*n;a[5]=(1-(k+g))*n;a[6]=(f+h)*n;a[7]=0;a[8]=(e+i)*d;a[9]=(f-h)*d;a[10]=(1-(k+m))*d;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function I(a,b,c,d,e){__p&&__p();var f=b[0],g=b[1],h=b[2];b=b[3];var i=f+f,j=g+g,k=h+h,l=f*i,m=f*j;f=f*k;var n=g*j;g=g*k;h=h*k;i=b*i;j=b*j;b=b*k;k=d[0];var o=d[1];d=d[2];var p=e[0],q=e[1];e=e[2];a[0]=(1-(n+h))*k;a[1]=(m+b)*k;a[2]=(f-j)*k;a[3]=0;a[4]=(m-b)*o;a[5]=(1-(l+h))*o;a[6]=(g+i)*o;a[7]=0;a[8]=(f+j)*d;a[9]=(g-i)*d;a[10]=(1-(l+n))*d;a[11]=0;a[12]=c[0]+p-(a[0]*p+a[4]*q+a[8]*e);a[13]=c[1]+q-(a[1]*p+a[5]*q+a[9]*e);a[14]=c[2]+e-(a[2]*p+a[6]*q+a[10]*e);a[15]=1;return a}function J(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,h=e+e;c=c*f;var i=d*f;d=d*g;var j=e*f,k=e*g;e=e*h;f=b*f;g=b*g;b=b*h;a[0]=1-d-e;a[1]=i+b;a[2]=j-g;a[3]=0;a[4]=i-b;a[5]=1-c-e;a[6]=k+f;a[7]=0;a[8]=j+g;a[9]=k-f;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function K(a,b,c,d,e,f,g){__p&&__p();var h=1/(c-b),i=1/(e-d),j=1/(f-g);a[0]=f*2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=f*2*i;a[6]=0;a[7]=0;a[8]=(c+b)*h;a[9]=(e+d)*i;a[10]=(g+f)*j;a[11]=-1;a[12]=0;a[13]=0;a[14]=g*f*2*j;a[15]=0;return a}function L(a,b,c,d,e){__p&&__p();b=1/Math.tan(b/2);var f=1/(d-e);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(e+d)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*e*d*f;a[15]=0;return a}function M(a,b,c,d){__p&&__p();var e=Math.tan(b.upDegrees*Math.PI/180),f=Math.tan(b.downDegrees*Math.PI/180),g=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);var h=2/(g+b),i=2/(e+f);a[0]=h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=i;a[6]=0;a[7]=0;a[8]=-((g-b)*h*.5);a[9]=(e-f)*i*.5;a[10]=d/(c-d);a[11]=-1;a[12]=0;a[13]=0;a[14]=d*c/(c-d);a[15]=0;return a}function N(a,b,c,d,e,f,g){__p&&__p();var h=1/(b-c),i=1/(d-e),j=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*i;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*j;a[11]=0;a[12]=(b+c)*h;a[13]=(e+d)*i;a[14]=(g+f)*j;a[15]=1;return a}function O(a,b,c,e){__p&&__p();var f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0;void 0;var o=b[0],p=b[1];b=b[2];var q=e[0],r=e[1];e=e[2];var s=c[0],t=c[1];c=c[2];if(Math.abs(o-s)<d.EPSILON&&Math.abs(p-t)<d.EPSILON&&Math.abs(b-c)<d.EPSILON)return mat4.identity(a);l=o-s;m=p-t;n=b-c;s=1/Math.sqrt(l*l+m*m+n*n);l*=s;m*=s;n*=s;f=r*n-e*m;g=e*l-q*n;h=q*m-r*l;s=Math.sqrt(f*f+g*g+h*h);!s?(f=0,g=0,h=0):(s=1/s,f*=s,g*=s,h*=s);i=m*h-n*g;j=n*f-l*h;k=l*g-m*f;s=Math.sqrt(i*i+j*j+k*k);!s?(i=0,j=0,k=0):(s=1/s,i*=s,j*=s,k*=s);a[0]=f;a[1]=i;a[2]=l;a[3]=0;a[4]=g;a[5]=j;a[6]=m;a[7]=0;a[8]=h;a[9]=k;a[10]=n;a[11]=0;a[12]=-(f*o+g*p+h*b);a[13]=-(i*o+j*p+k*b);a[14]=-(l*o+m*p+n*b);a[15]=1;return a}function P(a,b,c,d){__p&&__p();var e=b[0],f=b[1];b=b[2];var g=d[0],h=d[1];d=d[2];var i=e-c[0],j=f-c[1];c=b-c[2];var k=i*i+j*j+c*c;k>0&&(k=1/Math.sqrt(k),i*=k,j*=k,c*=k);k=h*c-d*j;d=d*i-g*c;g=g*j-h*i;a[0]=k;a[1]=d;a[2]=g;a[3]=0;a[4]=j*g-c*d;a[5]=c*k-i*g;a[6]=i*d-j*k;a[7]=0;a[8]=i;a[9]=j;a[10]=c;a[11]=0;a[12]=e;a[13]=f;a[14]=b;a[15]=1;return a}function Q(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function R(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function S(a,b,c){__p&&__p();a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a}function T(a,b,c){__p&&__p();a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a}function U(a,b,c){__p&&__p();a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;a[15]=b[15]*c;return a}function V(b,c,d,a){__p&&__p();b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;b[4]=c[4]+d[4]*a;b[5]=c[5]+d[5]*a;b[6]=c[6]+d[6]*a;b[7]=c[7]+d[7]*a;b[8]=c[8]+d[8]*a;b[9]=c[9]+d[9]*a;b[10]=c[10]+d[10]*a;b[11]=c[11]+d[11]*a;b[12]=c[12]+d[12]*a;b[13]=c[13]+d[13]*a;b[14]=c[14]+d[14]*a;b[15]=c[15]+d[15]*a;return b}function W(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function X(a,b){var c=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],p=a[12],q=a[13],r=a[14];a=a[15];var s=b[0],t=b[1],u=b[2],v=b[3],w=b[4],x=b[5],y=b[6],z=b[7],A=b[8],B=b[9],C=b[10],D=b[11],E=b[12],F=b[13],G=b[14];b=b[15];return Math.abs(c-s)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(s))&&Math.abs(e-t)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))&&Math.abs(f-u)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(u))&&Math.abs(g-v)<=d.EPSILON*Math.max(1,Math.abs(g),Math.abs(v))&&Math.abs(h-w)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(i-x)<=d.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(j-y)<=d.EPSILON*Math.max(1,Math.abs(j),Math.abs(y))&&Math.abs(k-z)<=d.EPSILON*Math.max(1,Math.abs(k),Math.abs(z))&&Math.abs(l-A)<=d.EPSILON*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(m-B)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(B))&&Math.abs(n-C)<=d.EPSILON*Math.max(1,Math.abs(n),Math.abs(C))&&Math.abs(o-D)<=d.EPSILON*Math.max(1,Math.abs(o),Math.abs(D))&&Math.abs(p-E)<=d.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(q-F)<=d.EPSILON*Math.max(1,Math.abs(q),Math.abs(F))&&Math.abs(r-G)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(G))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}b.mul=q;b.sub=T},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.setAxes=b.sqlerp=b.rotationTo=b.equals=b.exactEquals=b.normalize=b.sqrLen=b.squaredLength=b.len=b.length=b.lerp=b.dot=b.scale=b.mul=b.add=b.set=b.copy=b.fromValues=b.clone=undefined;b.create=i;b.identity=j;b.setAxisAngle=k;b.getAxisAngle=l;b.multiply=m;b.rotateX=n;b.rotateY=o;b.rotateZ=p;b.calculateW=q;b.slerp=r;b.invert=s;b.conjugate=t;b.fromMat3=u;b.fromEuler=v;b.str=w;j=c(0);var d=a(j);l=c(1);var g=a(l);n=c(2);var h=a(n);o=c(3);p=a(o);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(){var a=new d.ARRAY_TYPE(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}function j(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}function k(a,b,c){c=c*.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=Math.cos(c);return a}function l(a,b){var c=Math.acos(b[3])*2,d=Math.sin(c/2);d!=0?(a[0]=b[0]/d,a[1]=b[1]/d,a[2]=b[2]/d):(a[0]=1,a[1]=0,a[2]=0);return c}function m(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2];c=c[3];a[0]=d*c+b*g+e*i-f*h;a[1]=e*c+b*h+f*g-d*i;a[2]=f*c+b*i+d*h-e*g;a[3]=b*c-d*g-e*h-f*i;return a}function n(a,b,c){__p&&__p();c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+b*g;a[1]=e*c+f*g;a[2]=f*c-e*g;a[3]=b*c-d*g;return a}function o(a,b,c){__p&&__p();c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c-f*g;a[1]=e*c+b*g;a[2]=f*c+d*g;a[3]=b*c-e*g;return a}function p(a,b,c){__p&&__p();c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*g;a[1]=e*c-d*g;a[2]=f*c+b*g;a[3]=b*c-f*g;return a}function q(a,b){var c=b[0],d=b[1];b=b[2];a[0]=c;a[1]=d;a[2]=b;a[3]=Math.sqrt(Math.abs(1-c*c-d*d-b*b));return a}function r(a,b,c,d){__p&&__p();var e=b[0],f=b[1],g=b[2];b=b[3];var h=c[0],i=c[1],j=c[2];c=c[3];var k=void 0,l;void 0;var m=void 0,n=void 0;void 0;l=e*h+f*i+g*j+b*c;l<0&&(l=-l,h=-h,i=-i,j=-j,c=-c);1-l>1e-6?(k=Math.acos(l),m=Math.sin(k),n=Math.sin((1-d)*k)/m,l=Math.sin(d*k)/m):(n=1-d,l=d);a[0]=n*e+l*h;a[1]=n*f+l*i;a[2]=n*g+l*j;a[3]=n*b+l*c;return a}function s(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f=f?1/f:0;a[0]=-c*f;a[1]=-d*f;a[2]=-e*f;a[3]=b*f;return a}function t(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a}function u(a,b){__p&&__p();var c=b[0]+b[4]+b[8];void 0;if(c>0)c=Math.sqrt(c+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var d=0;b[4]>b[0]&&(d=1);b[8]>b[d*3+d]&&(d=2);var e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(b[d*3+d]-b[e*3+e]-b[f*3+f]+1);a[d]=.5*c;c=.5/c;a[3]=(b[e*3+f]-b[f*3+e])*c;a[e]=(b[e*3+d]+b[d*3+e])*c;a[f]=(b[f*3+d]+b[d*3+f])*c}return a}function v(a,b,c,d){__p&&__p();var e=.5*Math.PI/180;b*=e;c*=e;d*=e;e=Math.sin(b);b=Math.cos(b);var f=Math.sin(c);c=Math.cos(c);var g=Math.sin(d);d=Math.cos(d);a[0]=e*c*d-b*f*g;a[1]=b*f*d+e*c*g;a[2]=b*c*g-e*f*d;a[3]=b*c*d+e*f*g;return a}function w(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}b.clone=p.clone;b.fromValues=p.fromValues;b.copy=p.copy;b.set=p.set;b.add=p.add;b.mul=m;b.scale=p.scale;b.dot=p.dot;b.lerp=p.lerp;q=b.length=p.length;b.len=q;s=b.squaredLength=p.squaredLength;b.sqrLen=s;var x=b.normalize=p.normalize;b.exactEquals=p.exactEquals;b.equals=p.equals;b.rotationTo=function(){__p&&__p();var a=h.create(),b=h.fromValues(1,0,0),c=h.fromValues(0,1,0);return function(d,e,f){__p&&__p();var g=h.dot(e,f);if(g<-.999999){h.cross(a,b,e);h.len(a)<1e-6&&h.cross(a,c,e);h.normalize(a,a);k(d,a,Math.PI);return d}else if(g>.999999){d[0]=0;d[1]=0;d[2]=0;d[3]=1;return d}else{h.cross(a,e,f);d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=1+g;return x(d,d)}}}();b.sqlerp=function(){var a=i(),b=i();return function(c,d,e,f,g,h){r(a,d,g,h);r(b,e,f,h);r(c,a,b,2*h*(1-h));return c}}();b.setAxes=function(){__p&&__p();var a=g.create();return function(b,c,d,e){__p&&__p();a[0]=d[0];a[3]=d[1];a[6]=d[2];a[1]=e[0];a[4]=e[1];a[7]=e[2];a[2]=-c[0];a[5]=-c[1];a[8]=-c[2];return x(b,u(b,a))}}()},function(a,b,c){__p&&__p();Object.defineProperty(b,"__esModule",{value:!0});b.forEach=b.sqrLen=b.sqrDist=b.dist=b.div=b.mul=b.sub=b.len=undefined;b.create=g;b.clone=h;b.fromValues=i;b.copy=j;b.set=k;b.add=l;b.subtract=m;b.multiply=n;b.divide=o;b.ceil=p;b.floor=q;b.min=r;b.max=s;b.round=t;b.scale=u;b.scaleAndAdd=v;b.distance=w;b.squaredDistance=x;b.length=y;b.squaredLength=z;b.negate=A;b.inverse=B;b.normalize=C;b.dot=D;b.cross=E;b.lerp=F;b.random=G;b.transformMat2=H;b.transformMat2d=I;b.transformMat3=J;b.transformMat4=K;b.str=L;b.exactEquals=M;b.equals=N;h=c(0);var d=a(h);function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(){var a=new d.ARRAY_TYPE(2);a[0]=0;a[1]=0;return a}function h(a){var b=new d.ARRAY_TYPE(2);b[0]=a[0];b[1]=a[1];return b}function i(a,b){var c=new d.ARRAY_TYPE(2);c[0]=a;c[1]=b;return c}function j(a,b){a[0]=b[0];a[1]=b[1];return a}function k(a,b,c){a[0]=b;a[1]=c;return a}function l(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function m(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}function n(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a}function o(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a}function p(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a}function q(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a}function r(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a}function s(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}function t(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a}function u(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function v(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;return b}function w(a,b){var c=b[0]-a[0];b=b[1]-a[1];return Math.sqrt(c*c+b*b)}function x(a,b){var c=b[0]-a[0];b=b[1]-a[1];return c*c+b*b}function y(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}function z(a){var b=a[0];a=a[1];return b*b+a*a}function A(a,b){a[0]=-b[0];a[1]=-b[1];return a}function B(a,b){a[0]=1/b[0];a[1]=1/b[1];return a}function C(a,b){var c=b[0],d=b[1];c=c*c+d*d;c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c);return a}function D(a,b){return a[0]*b[0]+a[1]*b[1]}function E(a,b,c){b=b[0]*c[1]-b[1]*c[0];a[0]=a[1]=0;a[2]=b;return a}function F(a,b,c,d){var e=b[0];b=b[1];a[0]=e+d*(c[0]-e);a[1]=b+d*(c[1]-b);return a}function G(b,a){a=a||1;var c=d.RANDOM()*2*Math.PI;b[0]=Math.cos(c)*a;b[1]=Math.sin(c)*a;return b}function H(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b;a[1]=c[1]*d+c[3]*b;return a}function I(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a}function J(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[3]*b+c[6];a[1]=c[1]*d+c[4]*b+c[7];return a}function K(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[4]*b+c[12];a[1]=c[1]*d+c[5]*b+c[13];return a}function L(a){return"vec2("+a[0]+", "+a[1]+")"}function M(a,b){return a[0]===b[0]&&a[1]===b[1]}function N(a,b){var c=a[0];a=a[1];var e=b[0];b=b[1];return Math.abs(c-e)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}b.len=y;b.sub=m;b.mul=n;b.div=o;b.dist=w;b.sqrDist=x;b.sqrLen=z;b.forEach=function(){var a=g();return function(b,c,d,e,f,g){var h=void 0,i=void 0;c||(c=2);d||(d=0);e?i=Math.min(e*c+d,b.length):i=b.length;for(h=d;h<i;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}()}])})}var k=!1,l=function(){k||(k=!0,j());return h.exports};a=function(a){switch(a){case undefined:return l()}};e.exports=a}),null);
__d("gl-matrix",["gl-matrix-2.4.0"],(function(a,b,c,d,e,f){e.exports=b("gl-matrix-2.4.0")()}),null);
__d("radToDeg",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a*180/Math.PI}e.exports=a}),null);
__d("SphericalPhotoProjectionUtils",["degToRad","gl-matrix","radToDeg"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("gl-matrix").glMatrix;var g=b("gl-matrix").mat4,h=b("gl-matrix").vec3;a={getMaxMinVfov:function(a,c){var d=b("degToRad")(a.partialRightDegrees||180),e=b("degToRad")(a.partialLeftDegrees||180),f=b("degToRad")(a.partialTopDegrees||90);a=b("degToRad")(a.partialBottomDegrees||90);d=(d+e)/2;e=(f+a)/2;f=2*Math.atan(d/c);a=this.getMinFullVfov(e,e);return{maxVfov:b("radToDeg")(Math.max(f,a)),minVfov:b("radToDeg")(Math.min(a,f/2))}},getMaxVfov:function(a,b){return this.getMaxMinVfov(a,b).maxVfov},getMinFullVfov:function(a,b){a=(a+b)/2;return 2*Math.atan(a)},getMinFullHfov:function(a,b){a=(a+b)/2;return 2*Math.atan(a)},getZoomProgressFromFov:function(a,b,c){return Math.max(0,Math.min(1,(a-c)/(b-c)))},getZoomProgress:function(a,b,c){b=this.getMaxMinVfov(b,c);c=b.maxVfov;b=b.minVfov;return this.getZoomProgressFromFov(a,c,b)},getHfov:function(a,b){a=2*Math.atan(Math.tan(a/2)*b);return a},normalizeLimits:function(a){__p&&__p();var b=a.partialLeftDegrees||0,c=a.partialRightDegrees||0,d=a.partialTopDegrees||0;a=a.partialBottomDegrees||0;if(b<0&&c<0){var e=Math.max(b,c);b-=e;c-=e}if(d<0&&a<0){e=Math.max(d,a);d-=e;a-=e}return{partialLeftDegrees:b,partialRightDegrees:c,partialTopDegrees:d,partialBottomDegrees:a}},getPartialLimits:function(a,c,d){__p&&__p();var e=this.getMaxMinVfov(d,c),f=e.maxVfov;e=e.minVfov;var g=b("degToRad")(a);c=this.getHfov(g,c);e=this.getZoomProgressFromFov(a,f,e);c=Math.tan(c/2);g=Math.tan(g/2);var h=Math.sin(c)*e+c*(1-e);c=Math.cos(c)*e+1*(1-e);var i=Math.sin(g)*e+g*(1-e);g=Math.cos(g)*e+1*(1-e);e=function(c,d,e){var g=Math.sin(c);c=Math.cos(c);return a>f?0:b("radToDeg")(Math.atan2(g*e-c*d,g*d+c*e))};var j=b("degToRad")(d.partialLeftDegrees||180),k=b("degToRad")(d.partialRightDegrees||180),l=b("degToRad")(d.partialTopDegrees||90);d=b("degToRad")(d.partialBottomDegrees||90);return this.normalizeLimits({partialLeftDegrees:e(j,h,c),partialRightDegrees:e(k,h,c),partialTopDegrees:e(l,i,g),partialBottomDegrees:e(d,i,g)})},projectVertex:function(a,b,c,d){__p&&__p();var e=a[0];a=a[1];var f=c?Math.sin(e):Math.sin(e)*Math.cos(a),g=c?a:Math.sin(a);c=c?Math.cos(e):Math.cos(e)*Math.cos(a);f=d*f+(1-d)*e;g=d*g+(1-d)*a;c=d*c+(1-d)*1;e=h.fromValues(f,g,c);h.transformMat4(e,e,b);return e},getSphericalFromVertex:function(a){var b=a[0],c=a[1];a=a[2];var d=Math.atan2(b,a);c=Math.atan2(c,Math.sqrt(b*b+a*a));return{yaw:d,pitch:c}},getRelativeHfov:function(a,c,d){a=this.getPartialLimits(a,c,d);c=d.partialLeftDegrees||180;d=d.partialRightDegrees||180;var e=a.partialLeftDegrees||0;a=a.partialRightDegrees||0;return b("degToRad")(d-a+c-e)},getRelativeVfov:function(a,c,d){a=this.getPartialLimits(a,c,d);c=d.partialTopDegrees||90;d=d.partialBottomDegrees||90;var e=a.partialTopDegrees||0;a=a.partialBottomDegrees||0;return b("degToRad")(c-e+d-a)},convert2dTo3d:function(a,c,d,e,f,i){__p&&__p();var j=e/f,k=e/2,l=f/2;a=(a-k)*(2/e);k=(c-l)*(2/f);e=b("degToRad")(d.fov);c=this.getHfov(e,j);l=this.getMinFullHfov(b("degToRad")(i.partialLeftDegrees||180),b("degToRad")(i.partialRightDegrees||180));f=Math.tan(e/2);e=Math.tan(c/2);c=Math.tan(Math.min(c,l)/2);l=a*e;a=-k*f;if(l>c||l<-c)return null;e=this.getZoomProgress(d.fov,i,j);k=g.create();g.rotateY(k,k,b("degToRad")(d.yaw));g.rotateX(k,k,-b("degToRad")(d.pitch));f=this.projectVertex(h.fromValues(l,a,-1),k,!1,e);c=this.getSphericalFromVertex(f);i=b("radToDeg")(c.yaw);return{yaw:i<0?360+i:i,pitch:b("radToDeg")(c.pitch)}},convert3dTo2d:function(a,c,d,e,f,i){__p&&__p();a=b("degToRad")(a);c=b("degToRad")(c);var j=b("degToRad")(d.fov),k=e/f,l=this.getHfov(j,k),m=this.getMinFullHfov(b("degToRad")(i.partialLeftDegrees||180),b("degToRad")(i.partialRightDegrees||180)),n=Math.tan(l/2);l=Math.tan(Math.min(l,m)/2);m=l/n;l=this.getMinFullVfov(b("degToRad")(i.partialTopDegrees||90),b("degToRad")(i.partialBottomDegrees||90));n=Math.tan(j/2);j=Math.tan(Math.min(j,l)/2);l=j/n;j=this.getRelativeHfov(d.fov,k,i);n=this.getRelativeVfov(d.fov,k,i);k=g.create();g.rotateY(k,k,b("degToRad")(d.yaw));g.rotateX(k,k,-b("degToRad")(d.pitch));g.invert(k,k);i=a+Math.PI;d=c+Math.PI/2;a=-Math.sin(d)*Math.sin(i);c=-Math.cos(d);d=-Math.sin(d)*Math.cos(i);i=h.fromValues(a,c,d);h.transformMat4(i,i,k);a=Math.atan2(i[0],i[2]);c=Math.atan2(i[1],Math.sqrt(i[0]*i[0]+i[2]*i[2]));d=.5+a*m/j;k=.5-c*l/n;return{x:d*e,y:k*f}}};e.exports=a}),null);
__d("calculateHFOVFromVFOV",["degToRad","radToDeg"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){a=b("radToDeg")(Math.atan(Math.tan(b("degToRad")(a/2))*c)*2);return(a%360+360)%360};e.exports=a}),null);
__d("calculateVFOVFromHFOV",["degToRad","radToDeg"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){a=b("radToDeg")(Math.atan(Math.tan(b("degToRad")(a)/2)/c))*2;return(a%360+360)%360};e.exports=a}),null);
__d("SphericalViewportControl",["csx","cx","invariant","Bootloader","CSS","DOMQuery","Event","EventEmitter","Keys","Parent","SubscriptionsHandler","UserAgent","VelocityTracker","SphericalPhotoProjectionUtils","calculateHFOVFromVFOV","calculateVFOVFromHFOV","debounce","getElementRect","gkx","performanceNow","requestAnimationFrame","throttle","uniqueID","degToRad","radToDeg","queryThenMutateDOM"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("DOMQuery").scry(window.document.body,"_li")[0]||window.document.body,l=navigator===undefined||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),m=.6,n=2.5,o=20,p=110,q=179,r=.01,s=1e3,t=.5,u=["W","A","S","D"].reduce(function(a,b){a[b]=b.charCodeAt(0);return a},{}),v={Up:"__tu",Down:"__tz",Left:"_2a6u",Right:"_2a6v",UpLeft:"__t-",UpRight:"__u0",DownLeft:"__u1",DownRight:"__u3"};c=babelHelpers.inherits(a,b("EventEmitter"));j=c&&c.prototype;function a(a,c){__p&&__p();var d=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],e=arguments.length<=3||arguments[3]===undefined?!1:arguments[3],f=arguments.length<=4||arguments[4]===undefined?k:arguments[4];j.constructor.call(this);this.$SphericalViewportControl18=!1;this.$SphericalViewportControl19=!1;this.$SphericalViewportControl20=!1;this.$SphericalViewportControl45=!1;this.$SphericalViewportControl62=!1;this.$SphericalViewportControl64={x:1,y:1};this.$SphericalViewportControl65=!1;this.$SphericalViewportControl66=null;this.$SphericalViewportControl69=!1;this.$SphericalViewportControl89=function(a){__p&&__p();a.deliberateSync=!0;if(this.$SphericalViewportControl67){if(a.shiftKey){var c=this.$SphericalViewportControl113(a),d=b("getElementRect")(this.$SphericalViewportControl32);if(c.x>d.left&&c.x<d.right&&c.y>d.top&&c.y<d.bottom){var e=(a.deltaX||0)+(a.deltaY||0)+(a.deltaZ||0),f=.5*(d.left+d.right),g=.5*(d.top+d.bottom);f={x:(c.x-f)/(d.right-d.left),y:(c.y-g)/(d.bottom-d.top)};this.emit("wheelScrollWithShiftKey",e,f)}a.preventDefault()}return}this.$SphericalViewportControl38&&a.preventDefault();this.$SphericalViewportControl123(a);this.$SphericalViewportControl46&&b("Event").kill(a)}.bind(this);this.$SphericalViewportControl126=function(a){this.emit("panningWithRightMouse",this.$SphericalViewportControl110());if(this.$SphericalViewportControl69){this.$SphericalViewportControl66=b("requestAnimationFrame")(this.$SphericalViewportControl126);return}this.emit("updateViewportEnd",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y);this.$SphericalViewportControl15=!1;this.$SphericalViewportControl66=null}.bind(this);this.$SphericalViewportControl127=function(a){__p&&__p();var c=(a-this.$SphericalViewportControl59)/1e3;this.$SphericalViewportControl59=a;this.$SphericalViewportControl128();this.$SphericalViewportControl60||b("queryThenMutateDOM")(this.$SphericalViewportControl90.bind(this),function(){return null});a=this.$SphericalViewportControl110();var d=!1;if(this.$SphericalViewportControl42&&this.$SphericalViewportControl54&&this.$SphericalViewportControl47&&!this.$SphericalViewportControl19&&!this.$SphericalViewportControl20){var e=this.$SphericalViewportControl129()*c;a.x+=e;var f=this.$SphericalViewportControl130()*c;a.y+=f;(e||f)&&(d=!0)}a.x+=this.$SphericalViewportControl8.getVelocityX()*c;a.y+=this.$SphericalViewportControl8.getVelocityY()*c;a.x+=this.$SphericalViewportControl9.getVelocityX()*c;a.y+=this.$SphericalViewportControl9.getVelocityY()*c;a.x*=this.$SphericalViewportControl64.x;a.y*=this.$SphericalViewportControl64.y;this.$SphericalViewportControl131(a.x,a.y);e=this.$SphericalViewportControl8.getSpeed()>0||this.$SphericalViewportControl9.getSpeed()>0;if(this.$SphericalViewportControl19||this.$SphericalViewportControl18||this.$SphericalViewportControl20||this.$SphericalViewportControl57||this.$SphericalViewportControl45||e||d)this.$SphericalViewportControl66=b("requestAnimationFrame")(this.$SphericalViewportControl127);else{this.$SphericalViewportControl15=!1;this.$SphericalViewportControl66=null;f={yaw:this.$SphericalViewportControl26.x,pitch:this.$SphericalViewportControl26.y};c=this.getCurrentViewport();this.$SphericalViewportControl4.pitch+=f.pitch-c.pitch;this.$SphericalViewportControl4.yaw-=f.yaw-c.yaw;this.emit("updateViewportEnd",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y)}}.bind(this);this.$SphericalViewportControl123=b("throttle")(function(a){this.emit("wheelScroll",a);if(!this.$SphericalViewportControl46)return;a=(a.deltaX||0)+(a.deltaY||0)+(a.deltaZ||0);a=a/120*45/10;this.$SphericalViewportControl98(a)}.bind(this),30);this.$SphericalViewportControl4={pitch:0,yaw:0};this.$SphericalViewportControl5=c.dragVelocityFactor||m;this.$SphericalViewportControl3=!1;this.$SphericalViewportControl8=new(b("VelocityTracker"))(300);this.$SphericalViewportControl9=new(b("VelocityTracker"))(300);this.$SphericalViewportControl13=new(b("SubscriptionsHandler"))();this.$SphericalViewportControl32=a;this.$SphericalViewportControl10=f;this.$SphericalViewportControl51=o;this.$SphericalViewportControl52=p;this.$SphericalViewportControl53=q;this.$SphericalViewportControl63=e;this.$SphericalViewportControl70(c);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl59=0;this.$SphericalViewportControl17={left:0,right:0,up:0,down:0};this.$SphericalViewportControl23={x:0,y:0};this.$SphericalViewportControl24={x:0,y:0};this.$SphericalViewportControl25=new(b("VelocityTracker"))();this.$SphericalViewportControl30=new Map();this.$SphericalViewportControl38=!1;this.$SphericalViewportControl22=!1;this.$SphericalViewportControl27=!1;this.$SphericalViewportControl71(d);this.$SphericalViewportControl57=!1;this.$SphericalViewportControl58=0;this.$SphericalViewportControl56=b("debounce")(function(){return this.emit("zoomStart")}.bind(this),s);this.$SphericalViewportControl37=this.$SphericalViewportControl72();this.$SphericalViewportControl61=[];this.$SphericalViewportControl31=this.addNewLayer(this.$SphericalViewportControl32);var g=b("gkx")("AT6wort62ftT8nJ8tjXEnN_v1U7sMjgy49hKFdpNSQKKjigxquMojqnjaxkK4KUOQBxZ1-sDcK46ktB7tNKfJQMq");l&&g&&b("Bootloader").loadModules(["FullTilt"],function(a){a.getDeviceOrientation({type:"game"}).then(function(a){return this.$SphericalViewportControl73(a,c)}.bind(this))["catch"](function(a){return this.$SphericalViewportControl74(a)}.bind(this))}.bind(this),"SphericalViewportControl")}a.prototype.$SphericalViewportControl73=function(a,c){"use strict";if(c.partialLimits){var d=c.partialLimits,e=this.getVerticalFieldOfView(),f=this.getHorizontalFieldOfView();this.$SphericalViewportControl6={top:(d.partialTopDegrees||Infinity)-e/2,bottom:-(d.partialBottomDegrees||Infinity)+e/2,left:-(d.partialLeftDegrees||Infinity)+f/2,right:(d.partialRightDegrees||Infinity)-f/2}}b("Bootloader").loadModules(["MSphericalViewportControlEuler"],function(b){this.$SphericalViewportControl2=new b(a,c,this.$SphericalViewportControl6),this.$SphericalViewportControl2.setActive(!0),this.$SphericalViewportControl1=a,this.$SphericalViewportControl1.start(function(){return this.$SphericalViewportControl75()}.bind(this)),this.$SphericalViewportControl3=!0}.bind(this),"SphericalViewportControl")};a.prototype.$SphericalViewportControl75=function(){"use strict";var a={yaw:b("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:b("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};this.$SphericalViewportControl2.onSensorUpdate();this.$SphericalViewportControl2.getRotationMatrix(a);a=this.getCurrentViewport();this.$SphericalViewportControl15||this.emit("viewportChange",a.yaw,a.pitch,this.$SphericalViewportControl11)};a.prototype.getCurrentViewport=function(){"use strict";var a={yaw:b("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:b("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};return!this.$SphericalViewportControl3?{pitch:b("radToDeg")(a.pitch),yaw:b("radToDeg")(a.yaw)}:this.$SphericalViewportControl2.getCurrentViewport(a)||{pitch:b("radToDeg")(a.pitch),yaw:b("radToDeg")(a.yaw)}};a.prototype.$SphericalViewportControl74=function(a){"use strict";this.emit("sensorSetupError",{error:"SPHERICAL_GYROSCOPE_SETUP_FAILED",message:a})};a.prototype.isListening=function(a){"use strict";return Boolean(this.getSubscriptionKeyFromElement(a))};a.prototype.getSubscriptionKeyFromElement=function(a){"use strict";__p&&__p();for(var b=this.$SphericalViewportControl30,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];if(e.element===a)return f}return null};a.prototype.addNewLayer=function(a){"use strict";var c=this.getSubscriptionKeyFromElement(a);if(!c){c=b("uniqueID")();var d=new(b("SubscriptionsHandler"))();this.$SphericalViewportControl76(d,a);this.$SphericalViewportControl30.set(c,{handler:d,element:a})}return c};a.prototype.removeLayer=function(a){"use strict";var b=this.$SphericalViewportControl30.get(a);b&&(b.handler.release(),this.$SphericalViewportControl30["delete"](a))};a.prototype.destroy=function(){"use strict";this.removeAllListeners(),this.getSubscriptions().remove()};a.prototype.$SphericalViewportControl76=function(a,c){"use strict";__p&&__p();a.addSubscriptions(b("Event").listen(c,"mousedown",function(a){return this.$SphericalViewportControl77(a)}.bind(this)),b("Event").listen(c,"mouseenter",function(a){return this.$SphericalViewportControl78(a,c)}.bind(this)),b("Event").listen(c,"mouseleave",function(a){return this.$SphericalViewportControl79(a,c)}.bind(this)),b("Event").listen(c,"mousemove",function(a){return this.$SphericalViewportControl80(a)}.bind(this)),b("Event").listen(c,"mouseup",function(a){return this.$SphericalViewportControl81(a)}.bind(this)),b("Event").listen(c,"click",function(a){return this.$SphericalViewportControl82(a)}.bind(this)),b("Event").listen(c,"keydown",function(a){return this.$SphericalViewportControl83(a)}.bind(this)),b("Event").listen(c,"keyup",function(a){return this.$SphericalViewportControl84(a)}.bind(this)),b("Event").listen(c,"blur",function(a){return this.$SphericalViewportControl85(a)}.bind(this)),b("Event").listen(c,"touchstart",function(a){return this.$SphericalViewportControl86(a)}.bind(this)),b("Event").listen(c,"touchmove",function(a){return this.$SphericalViewportControl87(a)}.bind(this)),b("Event").listen(c,"touchend",function(a){return this.$SphericalViewportControl88(a)}.bind(this)),b("Event").listen(c,"touchcancel",function(a){return this.$SphericalViewportControl88(a)}.bind(this)),{remove:function(){c.removeEventListener("wheel",this.$SphericalViewportControl89)}.bind(this)})};a.prototype.$SphericalViewportControl70=function(a){"use strict";__p&&__p();this.$SphericalViewportControl90();this.$SphericalViewportControl7=this.$SphericalViewportControl34/this.$SphericalViewportControl35;var b=a.fieldOfView;this.$SphericalViewportControl46=Boolean(a.enableZoom);this.$SphericalViewportControl29=(a.panningVelocityFactor||0)/15*80||80;this.$SphericalViewportControl16=(a.keyboardVelocityFactor||0)*1e3||80;a.partialLimits?(this.$SphericalViewportControl39=a.partialLimits,this.$SphericalViewportControl42=!0):(this.$SphericalViewportControl42=!1,this.$SphericalViewportControl39={partialLeftDegrees:null,partialRightDegrees:null,partialTopDegrees:null,partialBottomDegrees:null});this.$SphericalViewportControl40=this.$SphericalViewportControl39;this.$SphericalViewportControl41=1;this.$SphericalViewportControl63&&(this.$SphericalViewportControl42=!0);this.$SphericalViewportControl28={x:a.initialHeading,y:a.initialPitch};a=this.$SphericalViewportControl39;var c=a.partialTopDegrees;a=a.partialBottomDegrees;if(!this.$SphericalViewportControl63&&(c||c===0)&&(a||a===0)){c=c;a=a;var d=c+a;b>d&&(b=d,this.$SphericalViewportControl28.y=(c-a)/2)}this.$SphericalViewportControl11=this.$SphericalViewportControl91(b);this.$SphericalViewportControl12=this.$SphericalViewportControl11;this.$SphericalViewportControl92();this.$SphericalViewportControl26={x:this.$SphericalViewportControl28.x,y:this.$SphericalViewportControl28.y}};a.prototype.$SphericalViewportControl71=function(){__p&&__p();var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.$SphericalViewportControl43=a.enableGyro||!1;this.$SphericalViewportControl44=a.slipFactor||0;this.$SphericalViewportControl47=a.springFactor||0;this.$SphericalViewportControl48=a.maxSpringDegrees||15;this.$SphericalViewportControl49=a.maxStretchXDegrees||20;this.$SphericalViewportControl50=a.maxStretchYDegrees||20;this.$SphericalViewportControl55=a.rubberBandConstant||0;this.$SphericalViewportControl54=a.enableRubberBanding||!1;this.$SphericalViewportControl67=a.enableZoomWithShiftKey||!1;this.$SphericalViewportControl68=a.enablePanningWithRightMouse||!1;this.$SphericalViewportControl60=a.disableAutoClientSizeUpdate||!1};a.prototype.reconfigure=function(a){"use strict";this.$SphericalViewportControl70(a)};a.prototype.reconfigureControlConfig=function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.$SphericalViewportControl71(a)};a.prototype.setEnableGyro=function(a){"use strict";this.$SphericalViewportControl43=a};a.prototype.$SphericalViewportControl77=function(a){"use strict";this.$SphericalViewportControl65&&this.$SphericalViewportControl93(),this.isListening(a.target)&&(this.$SphericalViewportControl19=!0,this.$SphericalViewportControl94(a))};a.prototype.$SphericalViewportControl86=function(a){"use strict";this.$SphericalViewportControl62=!1,this.$SphericalViewportControl65&&this.$SphericalViewportControl93(),this.$SphericalViewportControl20?(this.$SphericalViewportControl95(a),this.$SphericalViewportControl20=!1):this.$SphericalViewportControl20=!0,this.$SphericalViewportControl94(a)};a.prototype.$SphericalViewportControl95=function(a){"use strict";a.touches.length===2&&this.$SphericalViewportControl46&&(this.$SphericalViewportControl57=!0,this.$SphericalViewportControl58=this.$SphericalViewportControl96(a))};a.prototype.$SphericalViewportControl87=function(a){"use strict";this.$SphericalViewportControl62=!0,this.$SphericalViewportControl57&&(this.$SphericalViewportControl97(a),this.$SphericalViewportControl46&&b("Event").kill(a))};a.prototype.$SphericalViewportControl97=function(a){"use strict";a=this.$SphericalViewportControl96(a);var b=this.$SphericalViewportControl11*(this.$SphericalViewportControl58/a);b=b-this.$SphericalViewportControl11;this.$SphericalViewportControl98(b);this.$SphericalViewportControl58=a};a.prototype.$SphericalViewportControl96=function(a){"use strict";var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;return Math.sqrt(Math.pow(b,2)+Math.pow(a,2))};a.prototype.$SphericalViewportControl88=function(a){"use strict";this.$SphericalViewportControl62||(a.target.focus(a),this.$SphericalViewportControl82(a)),this.$SphericalViewportControl57?this.$SphericalViewportControl57=!1:this.$SphericalViewportControl20&&this.$SphericalViewportControl99(a)};a.prototype.$SphericalViewportControl94=function(a){"use strict";this.emit("onMovementStart"),this.$SphericalViewportControl100(),this.$SphericalViewportControl101(a),this.$SphericalViewportControl102(a),this.$SphericalViewportControl68&&(a.which===3||a.button===2)&&(this.$SphericalViewportControl69=!0,this.$SphericalViewportControl15=!1),this.$SphericalViewportControl103(),a.preventDefault()};a.prototype.$SphericalViewportControl99=function(a){"use strict";this.$SphericalViewportControl45&&!this.$SphericalViewportControl19&&(this.$SphericalViewportControl104(),this.$SphericalViewportControl45=!1)};a.prototype.$SphericalViewportControl105=function(a){"use strict";this.$SphericalViewportControl65&&this.$SphericalViewportControl93()};a.prototype.$SphericalViewportControl106=function(a){"use strict";this.$SphericalViewportControl102(a),this.$SphericalViewportControl14=!0,this.emit("updateViewportMove")};a.prototype.$SphericalViewportControl107=function(a){"use strict";this.$SphericalViewportControl45&&(this.$SphericalViewportControl108(a),this.emit("updateViewportMove"))};a.prototype.$SphericalViewportControl100=function(){"use strict";this.$SphericalViewportControl15=!1,this.$SphericalViewportControl45=!1,this.$SphericalViewportControl43=!1};a.prototype.$SphericalViewportControl109=function(a){"use strict";this.$SphericalViewportControl102(a),this.$SphericalViewportControl110(),this.$SphericalViewportControl93(),this.$SphericalViewportControl104(),a.preventDefault()};a.prototype.$SphericalViewportControl93=function(a){"use strict";this.$SphericalViewportControl65=!1,b("queryThenMutateDOM")(function(){},function(){return this.$SphericalViewportControl32.style.cursor=""}.bind(this)),this.$SphericalViewportControl20=!1,this.$SphericalViewportControl19=!1,this.$SphericalViewportControl69=!1,this.$SphericalViewportControl13.release(),this.$SphericalViewportControl36&&(b("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36),this.$SphericalViewportControl36="")};a.prototype.$SphericalViewportControl111=function(a){"use strict";if(this.$SphericalViewportControl20&&a.changedTouches)return a.changedTouches[0];else if(this.$SphericalViewportControl19)return a;else if(this.$SphericalViewportControl45)return a;return null};a.prototype.setMovementPosition=function(a){"use strict";this.$SphericalViewportControl23=this.$SphericalViewportControl112(a)};a.prototype.$SphericalViewportControl112=function(a){"use strict";a=this.$SphericalViewportControl111(a);return!a?this.$SphericalViewportControl23:{x:a.screenX,y:a.screenY}};a.prototype.$SphericalViewportControl113=function(a){"use strict";a=this.$SphericalViewportControl111(a);return!a?this.$SphericalViewportControl24:{x:a.clientX,y:a.clientY}};a.prototype.$SphericalViewportControl101=function(a){"use strict";__p&&__p();this.$SphericalViewportControl65=!0;this.$SphericalViewportControl23=this.$SphericalViewportControl112(a);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl25=new(b("VelocityTracker"))();this.$SphericalViewportControl9=new(b("VelocityTracker"))(300);b("queryThenMutateDOM")(function(){},function(){return this.$SphericalViewportControl32.style.cursor=this.$SphericalViewportControl37}.bind(this));this.$SphericalViewportControl13.engage();a=this.$SphericalViewportControl10;this.$SphericalViewportControl20?this.$SphericalViewportControl13.addSubscriptions(b("Event").listen(a,"touchmove",function(a){return this.$SphericalViewportControl106(a)}.bind(this)),b("Event").listen(a,"touchend",function(a){return this.$SphericalViewportControl109(a)}.bind(this)),b("Event").listen(a,"touchcancel",function(a){return this.$SphericalViewportControl105(a)}.bind(this))):this.$SphericalViewportControl13.addSubscriptions(b("Event").listen(a,"mousemove",function(a){return this.$SphericalViewportControl106(a)}.bind(this)),b("Event").listen(a,"mouseup",function(a){return this.$SphericalViewportControl109(a)}.bind(this)),b("Event").listen(a,"mouseleave",function(a){return this.$SphericalViewportControl105(a)}.bind(this)))};a.prototype.$SphericalViewportControl108=function(a){"use strict";this.$SphericalViewportControl114(a,this.$SphericalViewportControl44)};a.prototype.$SphericalViewportControl102=function(a){"use strict";this.$SphericalViewportControl114(a,1)};a.prototype.reEnableGyro=function(){"use strict";this.$SphericalViewportControl21={x:0,y:0},this.$SphericalViewportControl43=!0,this.$SphericalViewportControl45=!0,this.$SphericalViewportControl93()};a.prototype.$SphericalViewportControl114=function(a,b){"use strict";var c=this.$SphericalViewportControl112(a),d=c.x-this.$SphericalViewportControl23.x,e=c.y-this.$SphericalViewportControl23.y,f=this.$SphericalViewportControl22?{x:0,y:0}:this.$SphericalViewportControl21;this.$SphericalViewportControl21={x:b*(c.x-this.$SphericalViewportControl23.x)+f.x,y:b*(c.y-this.$SphericalViewportControl23.y)+f.y};this.$SphericalViewportControl4.yaw+=d*this.$SphericalViewportControl5;this.$SphericalViewportControl4.pitch+=e*this.$SphericalViewportControl5;this.$SphericalViewportControl22=!1;this.$SphericalViewportControl23=c;this.$SphericalViewportControl25.update(c.x,c.y);this.$SphericalViewportControl24=this.$SphericalViewportControl113(a)};a.prototype.$SphericalViewportControl115=function(){"use strict";var a=this.$SphericalViewportControl116(),b=-this.$SphericalViewportControl25.getVelocityX()*a;a=this.$SphericalViewportControl25.getVelocityY()*a;var c=this.$SphericalViewportControl45?this.$SphericalViewportControl44:1;this.$SphericalViewportControl117()&&(b=-b);return{x:b*c,y:a*c}};a.prototype.$SphericalViewportControl118=function(a,c){"use strict";return b("radToDeg")(Math.atan(a/c))};a.prototype.$SphericalViewportControl119=function(a,b,c){"use strict";return{x:this.$SphericalViewportControl118(a.x-this.$SphericalViewportControl34/2,c),y:-this.$SphericalViewportControl118(a.y-this.$SphericalViewportControl35/2,b)}};a.prototype.$SphericalViewportControl120=function(a,c){"use strict";__p&&__p();var d={x:a.x-c.x,y:a.y-c.y},e=this.$SphericalViewportControl35/(2*Math.tan(b("degToRad")(this.getVerticalFieldOfView()/2))),f=e*Math.cos(b("degToRad")(this.$SphericalViewportControl26.y));f=f-(this.$SphericalViewportControl35/2-a.y)*Math.sin(b("degToRad")(this.$SphericalViewportControl26.y));if(this.$SphericalViewportControl26.y==-90&&c.y<0||this.$SphericalViewportControl26.y==90&&c.y>0){c=this.$SphericalViewportControl118(d.y-this.$SphericalViewportControl35/2,d.x-this.$SphericalViewportControl34/2);var g=this.$SphericalViewportControl118(a.y-this.$SphericalViewportControl35/2,a.x-this.$SphericalViewportControl34/2);g=g-c;g>90?g=180-g:g<-90&&(g=180+g);return{x:g*Math.sign(this.$SphericalViewportControl26.y),y:0}}else{c=this.$SphericalViewportControl119(d,e,f);g=this.$SphericalViewportControl119(a,e,f);return{x:c.x-g.x,y:c.y-g.y}}};a.prototype.$SphericalViewportControl117=function(){"use strict";var a=this.$SphericalViewportControl33?this.$SphericalViewportControl33.top:b("getElementRect")(this.$SphericalViewportControl32).top;a=this.$SphericalViewportControl24.y-a;var c=this.$SphericalViewportControl35/(2*Math.tan(b("degToRad")(this.getVerticalFieldOfView()/2)));c=-c/Math.tan(b("degToRad")(this.$SphericalViewportControl26.y))+this.$SphericalViewportControl35/2;a=a>c&&this.$SphericalViewportControl26.y<0||a<c&&this.$SphericalViewportControl26.y>0;return a};a.prototype.$SphericalViewportControl110=function(){"use strict";__p&&__p();if(this.$SphericalViewportControl69){var a={x:0,y:0};this.$SphericalViewportControl22||(this.$SphericalViewportControl22=!0,a.x=this.$SphericalViewportControl21.x/this.$SphericalViewportControl34,a.y=this.$SphericalViewportControl21.y/this.$SphericalViewportControl35);return a}a={x:0,y:0};if(!this.$SphericalViewportControl22){this.$SphericalViewportControl22=!0;var b=this.$SphericalViewportControl33,c=this.$SphericalViewportControl24.x<b.left,d=this.$SphericalViewportControl24.x>b.right,e=this.$SphericalViewportControl24.y<b.top,f=this.$SphericalViewportControl24.y>b.bottom;this.$SphericalViewportControl121(c,d,e,f);b={x:this.$SphericalViewportControl24.x-b.left,y:this.$SphericalViewportControl24.y-b.top};!c&&!d?a.x=this.$SphericalViewportControl120(b,this.$SphericalViewportControl21).x:a.x=-this.$SphericalViewportControl21.x*this.$SphericalViewportControl116()*t;!e&&!f?a.y=this.$SphericalViewportControl120(b,this.$SphericalViewportControl21).y:a.y=this.$SphericalViewportControl21.y*this.$SphericalViewportControl116()*t}this.$SphericalViewportControl9.updateVelocity(0,0);return this.$SphericalViewportControl122(a)};a.prototype.$SphericalViewportControl122=function(a){"use strict";__p&&__p();if(!this.$SphericalViewportControl54||!this.$SphericalViewportControl42)return a;var b=this.$SphericalViewportControl26,c=b.x;b=b.y;var d=this.$SphericalViewportControl40,e=d.partialLeftDegrees,f=d.partialRightDegrees,g=d.partialTopDegrees;d=d.partialBottomDegrees;var h=a.x;a=a.y;var i=c+h;b=b+a;var j=!0,k=!0;!0;!0;if(this.$SphericalViewportControl63){var l=this.$SphericalViewportControl39.partialLeftDegrees,m=this.$SphericalViewportControl39.partialRightDegrees,n=this.$SphericalViewportControl41===0;(i<180&&h<0||i>180&&h>0)&&(i=c-h);(l!=null||!n)&&e!=null&&(j=e<0?(i<180?i+360:i)>360-e:i>360-e);(m!=null||!n)&&f!=null&&(k=f<0?(i<180?i+360:i)<360+f:(i>180?360-i:i)<f);c=g!=null?b<g:!0;l=d!=null?b>-d:!0}else{m=this.getVerticalFieldOfView();n=this.getHorizontalFieldOfView();var o=i<180?i+360:i;i=i>180?i-360:i;j=e!=null?o>360-e+n/2:!0;k=f!=null?i<f-n/2:!0;c=g!=null?b<g-m/2:!0;l=d!=null?b>-d+m/2:!0}!j&&!k&&(h*=this.$SphericalViewportControl55);(!c||!l)&&(a*=this.$SphericalViewportControl55);return{x:h,y:a}};a.prototype.$SphericalViewportControl78=function(a,c){"use strict";c.addEventListener("wheel",this.$SphericalViewportControl89),this.emit("mouseEnter"),this.$SphericalViewportControl19?this.$SphericalViewportControl9=new(b("VelocityTracker"))(300):this.$SphericalViewportControl43&&this.$SphericalViewportControl44&&(this.$SphericalViewportControl9=new(b("VelocityTracker"))(300),this.$SphericalViewportControl45=!0,this.$SphericalViewportControl23=this.$SphericalViewportControl112(a),this.$SphericalViewportControl21={x:0,y:0},this.$SphericalViewportControl103())};a.prototype.$SphericalViewportControl79=function(a,b){"use strict";b.removeEventListener("wheel",this.$SphericalViewportControl89),this.emit("mouseLeave",a),this.$SphericalViewportControl99(a)};a.prototype.$SphericalViewportControl80=function(a){"use strict";this.emit("mouseMove",a),this.$SphericalViewportControl43&&this.$SphericalViewportControl107(a)};a.prototype.$SphericalViewportControl81=function(a){"use strict";this.emit("mouseUp",a)};a.prototype.$SphericalViewportControl82=function(a){"use strict";__p&&__p();if(this.isListening(a.target)){a.target.focus();var c=b("Parent").bySelector(a.target,"._24cp");if(!this.$SphericalViewportControl14){this.emit("DOM/click",a);if(c)return!0}this.$SphericalViewportControl14=!1}return!1};a.prototype.$SphericalViewportControl98=function(a){"use strict";a=this.setFieldOfView(this.$SphericalViewportControl11+a);a&&this.$SphericalViewportControl56()};a.prototype.disableKeyboard=function(){"use strict";this.$SphericalViewportControl27=!0};a.prototype.enableKeyboard=function(){"use strict";this.$SphericalViewportControl27=!1};a.prototype.$SphericalViewportControl83=function(a){"use strict";a=this.$SphericalViewportControl124(a);if(a&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[a]=1;this.$SphericalViewportControl18||(this.$SphericalViewportControl18=!0,this.$SphericalViewportControl100(),this.$SphericalViewportControl103(),this.emit("updateViewportMove"));return!1}return!0};a.prototype.$SphericalViewportControl84=function(a){"use strict";__p&&__p();a=this.$SphericalViewportControl124(a);if(a&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[a]=0;a=!1;for(var b in this.$SphericalViewportControl17)if(Object.prototype.hasOwnProperty.call(this.$SphericalViewportControl17,b)&&this.$SphericalViewportControl17[b]>0){a=!0;break}this.$SphericalViewportControl18=a;return!1}return!0};a.prototype.$SphericalViewportControl104=function(){"use strict";var a=this.$SphericalViewportControl115();this.$SphericalViewportControl9=new(b("VelocityTracker"))(300,a)};a.prototype.$SphericalViewportControl103=function(){__p&&__p();var a,c=this;if(!this.$SphericalViewportControl15){var a=function(){__p&&__p();c.$SphericalViewportControl60&&c.$SphericalViewportControl125();c.$SphericalViewportControl15=!0;c.$SphericalViewportControl8.updateVelocity(0,0);c.emit("updateViewportBegin",c.$SphericalViewportControl26.x,c.$SphericalViewportControl26.y);var a=c.once("updateViewportMove",function(){return this.emit("updateViewportMoveStart",this.$SphericalViewportControl45)}.bind(c));c.once("updateViewportEnd",function(){return a.remove()});c.$SphericalViewportControl59=b("performanceNow")();if(c.$SphericalViewportControl69){c.$SphericalViewportControl66&&cancelAnimationFrame(c.$SphericalViewportControl66);c.$SphericalViewportControl66=b("requestAnimationFrame")(c.$SphericalViewportControl126);return{v:void 0}}c.$SphericalViewportControl66||(c.$SphericalViewportControl66=b("requestAnimationFrame")(c.$SphericalViewportControl127))}();if(typeof a==="object")return a.v}};a.prototype.$SphericalViewportControl125=function(){"use strict";this.$SphericalViewportControl33=b("getElementRect")(this.$SphericalViewportControl32)};a.prototype.updateViewportClientSize=function(a){"use strict";this.$SphericalViewportControl34=a.width,this.$SphericalViewportControl35=a.height};a.prototype.updateMinVFOV=function(a){"use strict";this.$SphericalViewportControl51=Math.max(n,Math.min(o,a))};a.prototype.updateMaxVFOV=function(a){"use strict";this.$SphericalViewportControl52=a};a.prototype.updateMaxHFOV=function(a){"use strict";this.$SphericalViewportControl53=a};a.prototype.$SphericalViewportControl90=function(){"use strict";this.$SphericalViewportControl33=b("getElementRect")(this.$SphericalViewportControl32),this.$SphericalViewportControl34=this.$SphericalViewportControl32.clientWidth||1,this.$SphericalViewportControl35=this.$SphericalViewportControl32.clientHeight||1};a.prototype.setAngularVelocityScaleFactor=function(a){"use strict";this.$SphericalViewportControl64=a};a.prototype.$SphericalViewportControl129=function(){"use strict";__p&&__p();var a=180,b=0,c=this.$SphericalViewportControl40,d=c.partialLeftDegrees;c=c.partialRightDegrees;d!=null&&c!=null&&(a=(c-d)/2+180);if(this.$SphericalViewportControl63){var e=this.$SphericalViewportControl39.partialLeftDegrees,f=this.$SphericalViewportControl39.partialRightDegrees,g=this.$SphericalViewportControl41===0;if((e!=null||!g)&&d!=null){e=d<0&&this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x;if(e>a){e=360-d-e;e>0&&(b=Math.min(e,this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}if((f!=null||!g)&&c!=null){e=c<0&&this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(e<a){f=c-e;f<0&&(b=Math.max(f,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}}else{g=this.getHorizontalFieldOfView();e=this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x;f=this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(d!=null&&c!=null&&d+c<g){var h=(c-d)/2-f;h>0?b=Math.min(h,this.$SphericalViewportControl48)*this.$SphericalViewportControl47:h<0&&(b=Math.max(h,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47);return Math.abs(b)<r?0:b}if(d!=null&&e>=a){h=360-d+g/2-e;h>0&&(b=Math.min(h,this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}if(c!=null&&f<=a){d=c-g/2-f;d<0&&(b=Math.max(d,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}return Math.abs(b)<r?0:b};a.prototype.$SphericalViewportControl130=function(){"use strict";__p&&__p();var a=0,b=0,c=this.$SphericalViewportControl40,d=c.partialTopDegrees;c=c.partialBottomDegrees;if(this.$SphericalViewportControl63){if(c!=null&&d!=null){if(c<0&&d<-c||d<0&&-d>c)return 0;b=(d-c)/2}if(d!=null&&this.$SphericalViewportControl26.y>b){var e=d-this.$SphericalViewportControl26.y;e<0&&(a=Math.max(e,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}if(c!=null&&this.$SphericalViewportControl26.y<b){e=-c-this.$SphericalViewportControl26.y;e>0&&(a=Math.min(e,this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}else{b=this.getVerticalFieldOfView();if(c!=null&&d!=null&&c+d<b){e=(d-c)/2-this.$SphericalViewportControl26.y;e>0?a=Math.min(e,this.$SphericalViewportControl48)*this.$SphericalViewportControl47:e<0&&(a=Math.max(e,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47);return Math.abs(a)<r?0:a}if(d!=null){e=d-b/2-this.$SphericalViewportControl26.y;e<0&&(a=Math.max(e,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}if(c!=null){d=-c+b/2-this.$SphericalViewportControl26.y;d>0&&(a=Math.min(d,this.$SphericalViewportControl48)*this.$SphericalViewportControl47)}}return Math.abs(a)<r?0:a};a.prototype.$SphericalViewportControl121=function(a,c,d,e){"use strict";var f="";if(a||c||d||e){a=a?"Left":c?"Right":"";c=d?"Up":e?"Down":"";f=v[c+a]}this.$SphericalViewportControl36!=f&&(this.$SphericalViewportControl36&&(b("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36),this.$SphericalViewportControl36=""),f&&(this.$SphericalViewportControl36=f,b("CSS").addClass(this.$SphericalViewportControl10,f)))};a.prototype.getSubscriptions=function(){"use strict";return{remove:function(){this.$SphericalViewportControl30.forEach(function(a){a=a.handler;return a.release()}),this.$SphericalViewportControl30.clear(),this.$SphericalViewportControl13.release()}.bind(this)}};a.prototype.$SphericalViewportControl85=function(a){"use strict";for(var b in this.$SphericalViewportControl17)this.$SphericalViewportControl17[b]=0;this.$SphericalViewportControl18=!1};a.prototype.getOrientation=function(){"use strict";return this.$SphericalViewportControl26};a.prototype.$SphericalViewportControl92=function(a){"use strict";if(this.$SphericalViewportControl63){a=a!=null?a:this.getVerticalFieldOfView();var c=this.getAspectRatio();this.$SphericalViewportControl40=b("SphericalPhotoProjectionUtils").getPartialLimits(a,c,this.$SphericalViewportControl39);this.$SphericalViewportControl41=b("SphericalPhotoProjectionUtils").getZoomProgress(a,this.$SphericalViewportControl39,c)}};a.prototype.$SphericalViewportControl132=function(a,b){"use strict";__p&&__p();a=(a+360)%360;b=Math.max(-90,Math.min(90,b));if(!this.$SphericalViewportControl42)return{x:a,y:b};var c=this.$SphericalViewportControl39.partialLeftDegrees,d=this.$SphericalViewportControl39.partialRightDegrees,e=this.$SphericalViewportControl41===0,f=this.$SphericalViewportControl40.partialLeftDegrees,g=this.$SphericalViewportControl40.partialRightDegrees,h=this.$SphericalViewportControl40.partialTopDegrees,i=this.$SphericalViewportControl40.partialBottomDegrees,j=this.getVerticalFieldOfView(),k=this.getHorizontalFieldOfView(),l=0,m=0;if(this.$SphericalViewportControl63)this.$SphericalViewportControl54&&(f!=null&&g!=null&&(l=Math.min(Math.abs((f+g)/2),this.$SphericalViewportControl49)),h!=null&&i!=null&&h>=-i&&(m=Math.min(Math.abs((h+i)/2),this.$SphericalViewportControl50))),(c!=null||!e)&&f!=null&&(f<0?a=Math.max(a>180?a:a+360,360-f-l)%360:a>180&&(a=Math.max(a,360-f-l))),(d!=null||!e)&&g!=null&&(g<0?a=Math.min(a<180?a+360:a,360+g+l)%360:a<180&&(a=Math.min(a,g+l))),h!=null&&(i!=null&&h<0&&-h>i?b=Math.min(b,-i):b=Math.min(b,h+m)),i!=null&&(h!=null&&i<0&&h<-i?b=Math.max(b,h):b=Math.max(b,-i-m));else{this.$SphericalViewportControl54&&(l=this.$SphericalViewportControl49,m=this.$SphericalViewportControl50);if(f!=null&&g!=null&&f+g<k){c=(g-f)/2;d=a>180?a-360:a;d<c?a=Math.max(d,c-l):a=Math.min(d,c+l)}else f!=null&&(a=a<=180?a:Math.max(a,360-f+k/2-l)),g!=null&&(a=a>=180?a:Math.min(a,g-k/2+l));if(h!=null&&i!=null&&h+i<j){e=(h-i)/2;b<e?b=Math.max(b,e-m):b=Math.min(b,e+m)}else h!=null&&(b=Math.min(b,h-j/2+m)),i!=null&&(b=Math.max(b,-i+j/2-m))}return{x:a,y:b}};a.prototype.setInitialOrientation=function(){"use strict";var a=this.$SphericalViewportControl132(0,0),b=a.x;a=a.y;var c=!Number.isNaN(b+a)&&(b!==this.$SphericalViewportControl26.x||a!==this.$SphericalViewportControl26.y);c&&(this.$SphericalViewportControl26={x:b,y:a},this.emit("initialViewportChange",b,a),this.emit("viewportChange",b,a,this.$SphericalViewportControl11))};a.prototype.setSphericalOrientation=function(a,b){"use strict";a===null&&(a=this.$SphericalViewportControl26.x);b===null&&(b=this.$SphericalViewportControl26.y);typeof a==="number"&&typeof b==="number"||i(0);a=this.$SphericalViewportControl132(a,b);b=a.x;a=a.y;var c=!Number.isNaN(b+a)&&(b!==this.$SphericalViewportControl26.x||a!==this.$SphericalViewportControl26.y);c&&(this.$SphericalViewportControl26={x:b,y:a},this.emit("viewportChange",b,a,this.$SphericalViewportControl11))};a.prototype.setRelativeSphericalOrientation=function(a,b){"use strict";this.setSphericalOrientation(a+this.$SphericalViewportControl28.x,b+this.$SphericalViewportControl28.y)};a.prototype.$SphericalViewportControl131=function(a,b){"use strict";this.setSphericalOrientation(this.$SphericalViewportControl26.x+a,this.$SphericalViewportControl26.y+b)};a.prototype.$SphericalViewportControl91=function(a){"use strict";__p&&__p();if(this.$SphericalViewportControl63){var c=b("SphericalPhotoProjectionUtils").getMaxVfov(this.$SphericalViewportControl39,this.getAspectRatio());return Math.min(c,Math.max(this.$SphericalViewportControl51,a))}else{c=Math.min(b("calculateVFOVFromHFOV")(this.$SphericalViewportControl53,this.getAspectRatio()),this.$SphericalViewportControl52);if(this.$SphericalViewportControl42&&this.$SphericalViewportControl39){var d=this.$SphericalViewportControl39.partialTopDegrees||this.$SphericalViewportControl39.partialTopDegrees===0,e=this.$SphericalViewportControl39.partialBottomDegrees||this.$SphericalViewportControl39.partialBottomDegrees===0;if(d&&e){d=this.$SphericalViewportControl39.partialTopDegrees||0;e=this.$SphericalViewportControl39.partialBottomDegrees||0;c=Math.min(c,d+e)}}return Math.min(c,Math.max(this.$SphericalViewportControl51,a))}};a.prototype.setFieldOfView=function(a){"use strict";__p&&__p();var c=this.$SphericalViewportControl11;a=this.$SphericalViewportControl91(a);this.$SphericalViewportControl92(a);var d=this.$SphericalViewportControl40,e=d.partialTopDegrees,f=d.partialBottomDegrees,g=d.partialLeftDegrees;d=d.partialRightDegrees;var h=e||e===0,i=f||f===0,j=g||g===0,k=d||d===0,l=g||d;e=e||0;f=f||0;g=g||0;d=d||0;var m=!1,n=this.$SphericalViewportControl26.x,o=this.$SphericalViewportControl26.y;if(this.$SphericalViewportControl63){e=h?e:90;f=i?f:90;g=j?g:180;d=k?d:180;-o>f&&(f<0&&e<-f?o=e:o=-f,m=!0);o>e&&(e<0&&e<-f?o=-f:o=e,m=!0);j=((d-g)/2+180)%360;n>j&&360-n>g&&(n=360-g,m=!0);n<j&&n>d&&(n=d,m=!0)}else{k=b("calculateHFOVFromVFOV")(a,this.getAspectRatio());i&&a/2-o>f&&(o=a/2-f,m=!0);h&&o+a/2>e&&(o=e-a/2,m=!0);h&&i&&e+f<a&&(o=(e-f)/2,m=!0);if(l){j=((d-g)/2+180)%360;n>j&&k/2+360-n>g&&(n=360+k/2-g,m=!0);n<j&&n+k/2>d&&(n=d-k/2,m=!0);g+d<k&&(n=(d-g)/2%360,m=!0)}}!this.$SphericalViewportControl19&&!this.$SphericalViewportControl20&&m&&!Number.isNaN(n+o)&&(this.$SphericalViewportControl54?this.$SphericalViewportControl66||(this.$SphericalViewportControl66=b("requestAnimationFrame")(this.$SphericalViewportControl127)):this.$SphericalViewportControl26={x:n,y:o});if(!Number.isNaN(a)&&c!==a||m){this.$SphericalViewportControl11=a;this.emit("viewportChange",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y,a);return!0}return!1};a.prototype.getVerticalFieldOfView=function(){"use strict";return this.$SphericalViewportControl11};a.prototype.getAspectRatio=function(){"use strict";return this.$SphericalViewportControl32&&this.$SphericalViewportControl34&&this.$SphericalViewportControl35?this.$SphericalViewportControl34/this.$SphericalViewportControl35:this.$SphericalViewportControl7};a.prototype.getHorizontalFieldOfView=function(){"use strict";return b("calculateHFOVFromVFOV")(this.$SphericalViewportControl11,this.getAspectRatio())};a.prototype.setPreventScrollDefaultAction=function(a){"use strict";this.$SphericalViewportControl38=a};a.prototype.setEnableZoom=function(a){"use strict";this.$SphericalViewportControl46=a,a||this.setFieldOfView(this.$SphericalViewportControl12)};a.prototype.updateViewport=function(a,b,c){"use strict";this.$SphericalViewportControl26={x:a,y:b},this.$SphericalViewportControl11=this.$SphericalViewportControl91(c),this.$SphericalViewportControl92()};a.prototype.isUpdating=function(){"use strict";return this.$SphericalViewportControl15};a.prototype.$SphericalViewportControl128=function(){"use strict";var a=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.right-this.$SphericalViewportControl17.left),b=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.up-this.$SphericalViewportControl17.down);this.$SphericalViewportControl8.updateVelocity(a,b)};a.prototype.$SphericalViewportControl124=function(a){"use strict";__p&&__p();a=b("Event").getKeyCode(a);var c=null;switch(a){case b("Keys").LEFT:case u.A:c="left";break;case b("Keys").UP:case u.W:c="up";break;case b("Keys").RIGHT:case u.D:c="right";break;case b("Keys").DOWN:case u.S:c="down";break}return c};a.prototype.$SphericalViewportControl116=function(){"use strict";return this.$SphericalViewportControl11/this.$SphericalViewportControl35};a.prototype.$SphericalViewportControl72=function(){"use strict";var a="grabbing";b("UserAgent").isEngine("WebKit")?a="-webkit-"+a:b("UserAgent").isEngine("Gecko")&&(a="-moz-"+a);return a};e.exports=a}),null);
__d("d3-old/core/bisect",[],(function(a,b,c,d,e,f){__p&&__p();a=function(a){__p&&__p();return{left:function(b,c,d,e){arguments.length<3&&(d=0);arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>>1;a.call(b,b[f],f)<c?d=f+1:e=f}return d},right:function(b,c,d,e){arguments.length<3&&(d=0);arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>>1;c<a.call(b,b[f],f)?e=f:d=f+1}return d}}};b=a(function(a){return a});c=b.right;c.left=b.left;c.right=c;c.or=a;e.exports=c}),null);
__d("d3-old/core/class",[],(function(a,b,c,d,e,f){function a(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(c){a.prototype=b}}f._class=a}),null);
__d("d3-old/core/color",[],(function(a,b,c,d,e,f){function a(){}a.prototype.toString=function(){return this.rgb()+""};f._Color=a}),null);
__d("d3-old/core/core",[],(function(a,b,c,d,e,f){__p&&__p();c=Math.PI;d=1e-6;f={version:"3.0.6"};var g=c/180,h=180/c,i=typeof document==="undefined"?null:document,j=typeof window==="undefined"?null:window;function a(a){return a.target}function b(a){return a.source}f._u03c0=c;f._u03b5=d;f._radians=g;f._degrees=h;f._document=i;f._window=j;f._target=a;f._source=b;e.exports=f}),null);
__d("d3-old/core/format-en_US",[],(function(a,b,c,d,e,f){a=".";b=",";c=[3,3];f._decimalPoint=a;f._thousandsSeparator=b;f._grouping=c}),null);
__d("d3-old/core/identity",[],(function(a,b,c,d,e,f){function a(a){return a}f._identity=a}),null);
__d("d3-old/core/map",["d3-old/core/class"],(function(a,b,c,d,e,f){__p&&__p();a=b("d3-old/core/class")._class;c=function(a){var b=new g();for(var c in a)b.set(c,a[c]);return b};function g(){}a(g,{has:function(a){return h+a in this},get:function(a){return this[h+a]},set:function(a,b){return this[h+a]=b},remove:function(a){a=h+a;return a in this&&delete this[a]},keys:function(){var a=[];this.forEach(function(b){a.push(b)});return a},values:function(){var a=[];this.forEach(function(b,c){a.push(c)});return a},entries:function(){var a=[];this.forEach(function(b,c){a.push({key:b,value:c})});return a},forEach:function(a){for(var b in this)b.charCodeAt(0)===i&&a.call(this,b.substring(1),this[b])}});var h="\0",i=h.charCodeAt(0);c._Map=g;e.exports=c}),null);
__d("d3-old/core/round",[],(function(a,b,c,d,e,f){a=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};e.exports=a}),null);
__d("d3-old/core/format",["d3-old/core/format-en_US","d3-old/core/identity","d3-old/core/map","d3-old/core/round","d3-old/core/formatPrefix"],(function(a,b,c,d,e,f){__p&&__p();var g=b("d3-old/core/format-en_US")._decimalPoint;a=b("d3-old/core/identity")._identity;var h=b("d3-old/core/format-en_US")._grouping,i=b("d3-old/core/format-en_US")._thousandsSeparator;c=function(a){__p&&__p();a=j.exec(a);var c=a[1]||" ",d=a[2]||">",e=a[3]||"",f=a[4]||"",h=a[5],i=+a[6],l=a[7],o=a[8],p=a[9],q=1,r="",s=!1;o&&(o=+o.substring(1));(h||c==="0"&&d==="=")&&(h=c="0",d="=",l&&(i-=Math.floor((i-1)/4)));switch(p){case"n":l=!0;p="g";break;case"%":q=100;r="%";p="f";break;case"p":q=100;r="%";p="r";break;case"b":case"o":case"x":case"X":f&&(f="0"+p.toLowerCase());case"c":case"d":s=!0;o=0;break;case"s":q=-1;p="r";break}f==="#"&&(f="");p=="r"&&!o&&(p="g");p=k.get(p)||m;var t=h&&l;return function(a){__p&&__p();if(s&&a%1)return"";var j=a<0||a===0&&1/a<0?(a=-a,"-"):e;if(q<0){var k=b("d3-old/core/formatPrefix")(a,o);a=k.scale(a);r=k.symbol}else a*=q;a=p(a,o);!h&&l&&(a=n(a));k=f.length+a.length+(t?0:j.length);var m=k<i?new Array(k=i-k+1).join(c):"";t&&(a=n(m+a));g&&a.replace(".",g);j+=f;return(d==="<"?j+a+m:d===">"?m+j+a:d==="^"?m.substring(0,k>>=1)+j+a+m.substring(k):j+(t?a:m+a))+r}};var j=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,k=b("d3-old/core/map")({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,c){return(a=b("d3-old/core/round")(a,l(a,c))).toFixed(Math.max(0,Math.min(20,l(a*(1+1e-15),c))))}});function l(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function m(a){return a+""}var n=a;if(h){var o=h.length;n=function(a){var b=a.lastIndexOf("."),c=b>=0?"."+a.substring(b+1):(b=a.length,""),d=[],e=0,f=h[0];while(b>0&&f>0)d.push(a.substring(b-=f,b+f)),f=h[e=(e+1)%o];return d.reverse().join(i||"")+c}}c._precision=l;e.exports=c}),null);
__d("d3-old/core/formatPrefix",["d3-old/core/round","d3-old/core/format"],(function(a,b,c,d,e,f){__p&&__p();var g=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(a);c=function(a,c){var d=0;a&&(a<0&&(a*=-1),c&&(a=b("d3-old/core/round")(a,b("d3-old/core/format")._precision(a,c))),d=1+Math.floor(1e-12+Math.log(a)/Math.LN10),d=Math.max(-24,Math.min(24,Math.floor((d<=0?d+1:d-1)/3)*3)));return g[8+d/3]};function a(a,b){var c=Math.pow(10,Math.abs(8-b)*3);return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}e.exports=c}),null);
__d("d3-old/core/hcl",["d3-old/core/color","d3-old/core/core","d3-old/core/lab","d3-old/core/rgb"],(function(a,b,c,d,e,f){__p&&__p();a=b("d3-old/core/color")._Color;var g=b("d3-old/core/core")._radians;c=function(a,c,d){return arguments.length===1?a instanceof i?h(a.h,a.c,a.l):a instanceof b("d3-old/core/lab")._Lab?b("d3-old/core/lab")._hcl(a.l,a.a,a.b):b("d3-old/core/lab")._hcl((a=b("d3-old/core/rgb")._lab((a=b("d3-old/core/rgb")(a)).r,a.g,a.b)).l,a.a,a.b):h(+a,+c,+d)};function h(a,b,c){return new i(a,b,c)}function i(a,b,c){this.h=a,this.c=b,this.l=c}d=i.prototype=new a();d.brighter=function(a){return h(this.h,this.c,Math.min(100,this.l+b("d3-old/core/lab")._K*(arguments.length?a:1)))};d.darker=function(a){return h(this.h,this.c,Math.max(0,this.l-b("d3-old/core/lab")._K*(arguments.length?a:1)))};d.rgb=function(){return j(this.h,this.c,this.l).rgb()};function j(a,c,d){return b("d3-old/core/lab")._lab(d,Math.cos(a*=g)*c,Math.sin(a)*c)}c._Hcl=i;c._hcl=h;c._lab=j;e.exports=c}),null);
__d("d3-old/core/hsl",["d3-old/core/color","d3-old/core/rgb"],(function(a,b,c,d,e,f){__p&&__p();a=b("d3-old/core/color")._Color;c=function(a,c,d){return arguments.length===1?a instanceof h?g(a.h,a.s,a.l):b("d3-old/core/rgb")._parse(""+a,b("d3-old/core/rgb")._hsl,g):g(+a,+c,+d)};function g(a,b,c){return new h(a,b,c)}function h(a,b,c){this.h=a,this.s=b,this.l=c}d=h.prototype=new a();d.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return g(this.h,this.s,this.l/a)};d.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return g(this.h,this.s,a*this.l)};d.rgb=function(){return i(this.h,this.s,this.l)};function i(a,c,d){__p&&__p();var e,f;a=a%360;a<0&&(a+=360);c=c<0?0:c>1?1:c;d=d<0?0:d>1?1:d;f=d<=.5?d*(1+c):d+c-d*c;e=2*d-f;function g(a){a>360?a-=360:a<0&&(a+=360);if(a<60)return e+(f-e)*a/60;if(a<180)return f;return a<240?e+(f-e)*(240-a)/60:e}function h(a){return Math.round(g(a)*255)}return b("d3-old/core/rgb")._rgb(h(a+120),h(a),h(a-120))}c._hsl=g;c._rgb=i;e.exports=c}),null);
__d("d3-old/core/xyz",[],(function(a,b,c,d,e,f){function a(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function b(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}f._lab=a;f._rgb=b}),null);
__d("d3-old/core/lab",["d3-old/core/color","d3-old/core/xyz","d3-old/core/core","d3-old/core/hcl","d3-old/core/rgb"],(function(a,b,c,d,e,f){__p&&__p();c=b("d3-old/core/color")._Color;var g=b("d3-old/core/xyz")._rgb,h=b("d3-old/core/core")._u03c0;d=function(a,c,d){return arguments.length===1?a instanceof j?i(a.l,a.a,a.b):a instanceof b("d3-old/core/hcl")._Hcl?b("d3-old/core/hcl")._lab(a.l,a.c,a.h):b("d3-old/core/rgb")._lab((a=b("d3-old/core/rgb")(a)).r,a.g,a.b):i(+a,+c,+d)};function i(a,b,c){return new j(a,b,c)}function j(a,b,c){this.l=a,this.a=b,this.b=c}var k=18,l=.95047,m=1,n=1.08883;f=j.prototype=new c();f.brighter=function(a){return i(Math.min(100,this.l+k*(arguments.length?a:1)),this.a,this.b)};f.darker=function(a){return i(Math.max(0,this.l-k*(arguments.length?a:1)),this.a,this.b)};f.rgb=function(){return o(this.l,this.a,this.b)};function o(a,c,d){a=(a+16)/116;c=a+c/500;d=a-d/200;c=p(c)*l;a=p(a)*m;d=p(d)*n;return b("d3-old/core/rgb")._rgb(g(3.2404542*c-1.5371385*a-.4985314*d),g(-.969266*c+1.8760108*a+.041556*d),g(.0556434*c-.2040259*a+1.0572252*d))}function a(a,c,d){return b("d3-old/core/hcl")._hcl(Math.atan2(d,c)/h*180,Math.sqrt(c*c+d*d),a)}function p(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}d._K=k;d._X=l;d._Y=m;d._Z=n;d._Lab=j;d._lab=i;d._rgb=o;d._hcl=a;e.exports=d}),null);
__d("d3-old/core/rgb",["d3-old/core/color","d3-old/core/map","d3-old/core/xyz","d3-old/core/hsl","d3-old/core/lab"],(function(a,b,c,d,e,f){__p&&__p();c=b("d3-old/core/color")._Color;var g=b("d3-old/core/xyz")._lab;d=function(a,c,d){return arguments.length===1?a instanceof i?h(a.r,a.g,a.b):k(""+a,h,b("d3-old/core/hsl")._rgb):h(~~a,~~c,~~d)};function h(a,b,c){return new i(a,b,c)}function i(a,b,c){this.r=a,this.g=b,this.b=c}f=i.prototype=new c();f.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;if(!b&&!c&&!d)return h(e,e,e);b&&b<e&&(b=e);c&&c<e&&(c=e);d&&d<e&&(d=e);return h(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a)))};f.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return h(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))};f.hsl=function(){return l(this.r,this.g,this.b)};f.toString=function(){return"#"+j(this.r)+j(this.g)+j(this.b)};function j(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function k(a,b,c){__p&&__p();var d=0,e=0,f=0,g,h;g=/([a-z]+)\((.*)\)/i.exec(a);if(g){h=g[2].split(",");switch(g[1]){case"hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case"rgb":return b(n(h[0]),n(h[1]),n(h[2]))}}if(g=o.get(a))return b(g.r,g.g,g.b);a!=null&&a.charAt(0)==="#"&&(a.length===4?(d=a.charAt(1),d+=d,e=a.charAt(2),e+=e,f=a.charAt(3),f+=f):a.length===7&&(d=a.substring(1,3),e=a.substring(3,5),f=a.substring(5,7)),d=parseInt(d,16),e=parseInt(e,16),f=parseInt(f,16));return b(d,e,f)}function l(a,c,d){var e=Math.min(a/=255,c/=255,d/=255),f=Math.max(a,c,d),g=f-e,h,i=(f+e)/2;g?(e=i<.5?g/(f+e):g/(2-f-e),a==f?h=(c-d)/g+(c<d?6:0):c==f?h=(d-a)/g+2:h=(a-c)/g+4,h*=60):e=h=0;return b("d3-old/core/hsl")._hsl(h,e,i)}function a(a,c,d){a=m(a);c=m(c);d=m(d);var e=g((.4124564*a+.3575761*c+.1804375*d)/b("d3-old/core/lab")._X),f=g((.2126729*a+.7151522*c+.072175*d)/b("d3-old/core/lab")._Y);a=g((.0193339*a+.119192*c+.9503041*d)/b("d3-old/core/lab")._Z);return b("d3-old/core/lab")._lab(116*f-16,500*(e-f),200*(f-a))}function m(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function n(a){var b=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(b*2.55):b}var o=b("d3-old/core/map")({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});o.forEach(function(a,c){o.set(a,k(c,h,b("d3-old/core/hsl")._rgb))});d._names=o;d._rgb=h;d._parse=k;d._hsl=l;d._hex=j;d._lab=a;e.exports=d}),null);
__d("d3-old/core/ns",[],(function(a,b,c,d,e,f){var g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a={prefix:g,qualify:function(a){var b=a.indexOf(":"),c=a;b>=0&&(c=a.substring(0,b),a=a.substring(b+1));return Object.prototype.hasOwnProperty.call(g,c)?{space:g[c],local:a}:a}};e.exports=a}),null);
__d("d3-old/core/transform",["d3-old/core/core","d3-old/core/ns"],(function(a,b,c,d,e,f){__p&&__p();var g=b("d3-old/core/core")._document,h=b("d3-old/core/core")._degrees;a=function(a){var c=g.createElementNS(b("d3-old/core/ns").prefix.svg,"g");return function(a){c.setAttribute("transform",a);a=c.transform.baseVal.consolidate();return new i(a?a.matrix:m)}(a)};function i(a){var b=[a.a,a.b],c=[a.c,a.d],d=k(b),e=j(b,c),f=k(l(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*h;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*h:0}i.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function j(a,b){return a[0]*b[0]+a[1]*b[1]}function k(a){var b=Math.sqrt(j(a,a));b&&(a[0]/=b,a[1]/=b);return b}function l(a,b,c){a[0]+=c*b[0];a[1]+=c*b[1];return a}var m={a:1,b:0,c:0,d:1,e:0,f:0};e.exports=a}),null);
__d("d3-old/core/interpolate",["d3-old/core/hcl","d3-old/core/hsl","d3-old/core/lab","d3-old/core/rgb","d3-old/core/color","d3-old/core/transform"],(function(a,b,c,d,e,f){__p&&__p();var g=b("d3-old/core/rgb")._hex,h=b("d3-old/core/hsl")._rgb,i=b("d3-old/core/lab")._rgb,j=b("d3-old/core/hcl")._lab,k=b("d3-old/core/rgb")._names,l=b("d3-old/core/color")._Color,m=function a(b,c){var d=a.interpolators.length,e;while(--d>=0&&!(e=a.interpolators[d](b,c)));return e};m.number=function(a,b){b-=a;return function(c){return a+b*c}};m.round=function(a,b){b-=a;return function(c){return Math.round(a+b*c)}};m.string=function(a,b){__p&&__p();var c,d,e,f=0,g=[],h=[],i;n.lastIndex=0;for(d=0;c=n.exec(b);++d)c.index&&g.push(b.substring(f,c.index)),h.push({i:g.length,x:c[0]}),g.push(null),f=n.lastIndex;f<b.length&&g.push(b.substring(f));for(d=0,i=h.length;(c=n.exec(a))&&d<i;++d){f=h[d];if(f.x==c[0]){if(f.i)if(g[f.i+1]==null){g[f.i-1]+=f.x;g.splice(f.i,1);for(e=d+1;e<i;++e)h[e].i--}else{g[f.i-1]+=f.x+g[f.i+1];g.splice(f.i,2);for(e=d+1;e<i;++e)h[e].i-=2}else if(g[f.i+1]==null)g[f.i]=f.x;else{g[f.i]=f.x+g[f.i+1];g.splice(f.i+1,1);for(e=d+1;e<i;++e)h[e].i--}h.splice(d,1);i--;d--}else f.x=m.number(parseFloat(c[0]),parseFloat(f.x))}while(d<i)f=h.pop(),g[f.i+1]==null?g[f.i]=f.x:(g[f.i]=f.x+g[f.i+1],g.splice(f.i+1,1)),i--;return g.length===1?g[0]==null?h[0].x:function(){return b}:function(a){for(d=0;d<i;++d)g[(f=h[d]).i]=f.x(a);return g.join("")}};m.transform=function(a,c){__p&&__p();var d=[],e=[],f;a=b("d3-old/core/transform")(a);c=b("d3-old/core/transform")(c);var g=a.translate,h=c.translate,i=a.rotate,j=c.rotate,k=a.skew,l=c.skew;a=a.scale;c=c.scale;g[0]!=h[0]||g[1]!=h[1]?(d.push("translate(",null,",",null,")"),e.push({i:1,x:m.number(g[0],h[0])},{i:3,x:m.number(g[1],h[1])})):h[0]||h[1]?d.push("translate("+h+")"):d.push("");i!=j?(i-j>180?j+=360:j-i>180&&(i+=360),e.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:m.number(i,j)})):j&&d.push(d.pop()+"rotate("+j+")");k!=l?e.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:m.number(k,l)}):l&&d.push(d.pop()+"skewX("+l+")");a[0]!=c[0]||a[1]!=c[1]?(f=d.push(d.pop()+"scale(",null,",",null,")"),e.push({i:f-4,x:m.number(a[0],c[0])},{i:f-2,x:m.number(a[1],c[1])})):(c[0]!=1||c[1]!=1)&&d.push(d.pop()+"scale("+c+")");f=e.length;return function(a){var b=-1,c;while(++b<f)d[(c=e[b]).i]=c.x(a);return d.join("")}};m.rgb=function(a,c){a=b("d3-old/core/rgb")(a);c=b("d3-old/core/rgb")(c);var d=a.r,e=a.g,f=a.b,h=c.r-d,i=c.g-e,j=c.b-f;return function(a){return"#"+g(Math.round(d+h*a))+g(Math.round(e+i*a))+g(Math.round(f+j*a))}};m.hsl=function(a,c){a=b("d3-old/core/hsl")(a);c=b("d3-old/core/hsl")(c);var d=a.h,e=a.s,f=a.l,g=c.h-d,i=c.s-e,j=c.l-f;g>180?g-=360:g<-180&&(g+=360);return function(a){return h(d+g*a,e+i*a,f+j*a)+""}};m.lab=function(a,c){a=b("d3-old/core/lab")(a);c=b("d3-old/core/lab")(c);var d=a.l,e=a.a,f=a.b,g=c.l-d,h=c.a-e,j=c.b-f;return function(a){return i(d+g*a,e+h*a,f+j*a)+""}};m.hcl=function(a,c){a=b("d3-old/core/hcl")(a);c=b("d3-old/core/hcl")(c);var d=a.h,e=a.c,f=a.l,g=c.h-d,h=c.c-e,i=c.l-f;g>180?g-=360:g<-180&&(g+=360);return function(a){return j(d+g*a,e+h*a,f+i*a)+""}};m.array=function(a,b){__p&&__p();var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),h;for(h=0;h<g;++h)c.push(m(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}};m.object=function(a,b){var c={},d={},e;for(e in a)e in b?c[e]=o(e)(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}};var n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function o(a){return a=="transform"?m.transform:m}m.interpolators=[m.object,function(a,b){return b instanceof Array&&m.array(a,b)},function(a,b){return(typeof a==="string"||typeof b==="string")&&m.string(a+"",b+"")},function(a,b){return(typeof b==="string"?k.has(b)||/^(#|rgb\(|hsl\()/.test(b):b instanceof l)&&m.rgb(a,b)},function(a,b){return!isNaN(a=+a)&&!isNaN(b=+b)&&m.number(a,b)}];m._interpolateByName=o;e.exports=m}),null);
__d("d3-old/core/range",[],(function(a,b,c,d,e,f){__p&&__p();a=function(a,b,c){__p&&__p();arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0));if((b-a)/c===Infinity)throw new Error("infinite range");var d=[],e=g(Math.abs(c)),f=-1,h;a*=e,b*=e,c*=e;if(c<0)while((h=a+c*++f)>b)d.push(h/e);else while((h=a+c*++f)<b)d.push(h/e);return d};function g(a){var b=1;while(a*b%1)b*=10;return b}e.exports=a}),null);
__d("d3-old/core/rebind",[],(function(a,b,c,d,e,f){__p&&__p();a=function(a,b){var c=1,d=arguments.length,e;while(++c<d)a[e=arguments[c]]=g(a,b,b[e]);return a};function g(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?a:d}}e.exports=a}),null);
__d("d3-old/core/uninterpolate",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return(c-a)*b}}function b(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return Math.max(0,Math.min(1,(c-a)*b))}}f._uninterpolateNumber=a;f._uninterpolateClamp=b}),null);
__d("d3-old/scale/bilinear",[],(function(a,b,c,d,e,f){function a(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}f._bilinear=a}),null);
__d("d3-old/scale/nice",[],(function(a,b,c,d,e,f){function a(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&((g=c,c=d,d=g),(g=e,e=f,f=g));(b=b(f-e))&&(a[c]=b.floor(e),a[d]=b.ceil(f));return a}function b(){return Math}f._nice=a;f._niceDefault=b}),null);
__d("d3-old/scale/polylinear",["d3-old/core/bisect"],(function(a,b,c,d,e,f){function a(a,c,d,e){var f=[],g=[],h=0,i=Math.min(a.length,c.length)-1;a[i]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());while(++h<=i)f.push(d(a[h-1],a[h])),g.push(e(c[h-1],c[h]));return function(d){var c=b("d3-old/core/bisect")(a,d,1,i)-1;return g[c](f[c](d))}}f._polylinear=a}),null);
__d("d3-old/scale/scale",[],(function(a,b,c,d,e,f){__p&&__p();b={};function g(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function a(a){return a.rangeExtent?a.rangeExtent():g(a.range())}b._scaleExtent=g;b._scaleRange=a;e.exports=b}),null);
__d("d3-old/scale/linear",["d3-old/core/uninterpolate","d3-old/scale/bilinear","d3-old/scale/polylinear","d3-old/scale/nice","d3-old/scale/scale","d3-old/core/interpolate","d3-old/core/rebind","d3-old/core/range","d3-old/core/core","d3-old/core/format"],(function(a,b,c,d,e,f){__p&&__p();var g=b("d3-old/scale/bilinear")._bilinear,h=b("d3-old/scale/polylinear")._polylinear,i=b("d3-old/core/uninterpolate")._uninterpolateClamp,j=b("d3-old/core/uninterpolate")._uninterpolateNumber,k=b("d3-old/scale/nice")._nice,l=b("d3-old/scale/scale")._scaleExtent;c=function(){return m([0,1],[0,1],b("d3-old/core/interpolate"),!1)};function m(a,c,d,e){__p&&__p();var f,l;function o(){var k=Math.min(a.length,c.length)>2?h:g,m=e?i:j;f=k(a,c,m,d);l=k(c,a,m,b("d3-old/core/interpolate"));return r}function r(a){return f(a)}r.invert=function(a){return l(a)};r.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return o()};r.range=function(a){if(!arguments.length)return c;c=a;return o()};r.rangeRound=function(a){return r.range(a).interpolate(b("d3-old/core/interpolate").round)};r.clamp=function(a){if(!arguments.length)return e;e=a;return o()};r.interpolate=function(a){if(!arguments.length)return d;d=a;return o()};r.ticks=function(b){return p(a,b)};r.tickFormat=function(b){return q(a,b)};r.nice=function(){k(a,n);return o()};r.copy=function(){return m(a,c,d,e)};return o()}function a(a,c){return b("d3-old/core/rebind")(a,c,"range","rangeRound","interpolate","clamp")}function n(a){a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1);return a&&{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function o(a,b){a=l(a);var c=a[1]-a[0],d=Math.pow(10,Math.floor(Math.log(c/b)/Math.LN10));b=b/c*d;b<=.15?d*=10:b<=.35?d*=5:b<=.75&&(d*=2);a[0]=Math.ceil(a[0]/d)*d;a[1]=Math.floor(a[1]/d)*d+d*.5;a[2]=d;return a}function p(a,c){return b("d3-old/core/range").apply(b("d3-old/core/core"),o(a,c))}function q(a,c){return b("d3-old/core/format")(",."+Math.max(0,-Math.floor(Math.log(o(a,c)[2])/Math.LN10+.01))+"f")}c._linearTicks=p;c._linearTickFormat=q;c._linearNice=n;c._linearRebind=a;e.exports=c}),null);
__d("SpectrumNumberUtilities",["fbt","NumberFormatConfig","intlNumUtils"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return b("intlNumUtils").formatNumberWithThousandDelimiters(Math.round(a),0)}function i(a){a=Math.round(a*10)/10;return b("intlNumUtils").getFloatString(a,b("NumberFormatConfig").numberDelimiter,b("NumberFormatConfig").decimalSeparator)}function j(a){return b("intlNumUtils").getFloatString(a,b("NumberFormatConfig").numberDelimiter,b("NumberFormatConfig").decimalSeparator)}function a(a){if(Math.abs(a)>=1e9)return j(a/1e9)+"b";if(Math.abs(a)>=1e6)return j(a/1e6)+"m";return Math.abs(a)>=1e3?j(a/1e3)+"K":h(a)}function k(a){if(Math.abs(a)>=1e9)return i(a/1e9)+"b";if(Math.abs(a)>=1e6)return i(a/1e6)+"m";return Math.abs(a)>=1e3?i(a/1e3)+"K":h(a)}var l={GBP:163,EUR:128,JPY:165,USD:36};function c(a,c){__p&&__p();var d=l[a];d&&(a=String.fromCharCode(d));var e;d="";if(c==Math.round(c))e=k(c);else{var f=c.toFixed(2).split("."),i=b("NumberFormatConfig").decimalSeparator;e=h(parseInt(f[0],10))+i+f[1];c<0&&(e=e.replace(/-/,""),d="-")}return g._("{negative sign(-) or blank}{currency symbol}{number}",[g._param("negative sign(-) or blank",d),g._param("currency symbol",a),g._param("number",e)]).toString()}d={CURRENCY_FORMATS:l,currencyFormatter:c,integerFormatter:h,floatFormatter:i,shortIntegerFormatter:k,shortIntegerFormatterWithoutRounding:a};e.exports=d}),null);
__d("SpectrumBaseNumberScale",["SpectrumNumberUtilities","d3-old/core/range","d3-old/scale/linear"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a===0?0:Math.pow(10,Math.round(Math.log(Math.abs(a))/Math.LN10)-1)}function h(a,b){var c=a.domain(),d=c[0],e=c[c.length-1],f=e-d;e<d&&(d=e,e=c[0]);c=a.ceilToFixed(Math.pow(10,a.floorToFixed(Math.log(f/b)/Math.LN10)));a=b*c/f;a<=.15?c*=10:a<=.35?c*=5:a<=.75&&(c*=2);return{start:d,stop:e,span:f,step:c}}function i(a,c,d){__p&&__p();a.shift=function(){return Math.pow(10,c)};a.tickFormat=function(){return d};a.tooltipFormat=function(){return b("SpectrumNumberUtilities").integerFormatter};a.nice=function(b){b=a.domain();var c=b[0];b=b[b.length-1];var d=Math.max(g(c),g(b),1/a.shift());d===0?(c=0,b=1):c==b?(b=Math.ceil(b/d)*d,c=b-d,b>=0&&(c=Math.max(c,0),b=Math.max(b,d))):c<b?(c=Math.floor(c/d)*d,b=Math.ceil(b/d)*d):(c=Math.ceil(c/d)*d,b=Math.floor(b/d)*d);return a.domain([c,b])};a.ceilToFixed=function(b){return Math.ceil(b*a.shift())/a.shift()};a.floorToFixed=function(b){return Math.floor(b*a.shift())/a.shift()};a.getTickStep=function(b){b=h(a,b);return b.step};a.ticks=function(c){__p&&__p();var d=h(a,c),e=d.start,f=d.stop,g=d.span;d=d.step;var i=e>0?1:-1,j=f>0?1:-1;i=b("d3-old/core/range")(i*Math.ceil(Math.abs(e/d))*d,j*Math.floor(Math.abs(f/d))*d+d*.5,d);i[0]<e&&i.shift();j=i.map(a.tickFormat()).some(function(a,b,c){return b>0&&a==c[b-1]});j&&(i=a.ticks(c-1));if(i.length<=2)if(c>2&&f>1)return[e,e+g/2,f];else return[e,f];return i};var e=a.copy;a.copy=function(){return i(e(),c,d)};return a}a=function(a){var c=arguments.length<=1||arguments[1]===undefined?b("SpectrumNumberUtilities").shortIntegerFormatter:arguments[1];a=a===undefined?0:a;return i(b("d3-old/scale/linear")(),a,c)};e.exports=a}),null);
__d("SpectrumIntegerScale",["SpectrumBaseNumberScale"],(function(a,b,c,d,e,f){a=function(){return b("SpectrumBaseNumberScale")(0)};e.exports=a}),null);
__d("SphericalMediaCanvasPool",["DOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1,h="default",i=function(a,b){return a+b};function a(){this.$1=new Map(),this.$2=new Map()}a.prototype.setLimit=function(a){var b=arguments.length<=1||arguments[1]===undefined?h:arguments[1],c=this.$2.get(b)||{queue:[],limit:1};c.limit=a;this.$2.set(b,c)};a.prototype.release=function(a){var b=arguments.length<=1||arguments[1]===undefined?h:arguments[1],c=i(a,b),d=this.$1.get(c);if(!d)return!1;var e=this.$2.get(b);if(!e||e.queue.length===0)return!1;e.queue.splice(e.queue.indexOf(c),1);d.canvas.parentNode&&d.canvas.parentNode.removeChild(d.canvas);return this.$1["delete"](c)};a.prototype.get=function(a,c){__p&&__p();var d=arguments.length<=2||arguments[2]===undefined?h:arguments[2],e=babelHelpers["extends"]({},c.canvasAttrs);if(!a||!c.beforeCanvasLost)throw new Error("Missing required arguments.");var f=i(a,d);e["data-id"]=e["data-id"]||a;var j=this.$1.get(f);if(j)return j.canvas;var k=this.$2.get(d)||{queue:[],limit:g},l=void 0;if(k.queue.length<k.limit)l=b("DOM").create("canvas",e);else{var m=k.queue.shift(),n=this.$1.get(m);if(!n)throw new Error("Canvas pool could not find the item",m);l=n.canvas;n.beforeCanvasLost();this.$1["delete"](m);l.className=e.className;l.height=e.height;l.width=e.width;l.tabIndex=e.tabIndex;l.setAttribute("data-id",e["data-id"])}if(!l)throw new Error("Failed to get a canvas.");k.queue.push(f);this.$2.set(d,k);this.$1.set(f,{canvas:l,beforeCanvasLost:c.beforeCanvasLost});return l};e.exports=new a()}),null);
__d("SphericalProjectionUtils",["invariant","degToRad","gl-matrix","radToDeg"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("gl-matrix").vec3,i=b("gl-matrix").mat4,j=Math.acos,k=Math.sin,l=Math.cos,m=15,n=.2,o={convert3dTo2dNormalized:function(a,c,d,e,f,g,j){__p&&__p();a=b("degToRad")(a);c=b("degToRad")(c);d=b("degToRad")(d);e=b("degToRad")(e);f=b("degToRad")(f);var k=i.create();i.perspective(k,f,g/j,.1,100);f=i.create();i.rotateX(f,f,c);i.rotateY(f,f,a);i.invert(f,f);g=i.create();i.rotateX(g,g,e);i.rotateY(g,g,d);i.multiply(g,g,f);i.multiply(g,k,g);j=h.fromValues(0,0,-1);h.transformMat4(j,j,g);c=.5+j[0]/2;a=.5+j[1]/2;return{x:c,y:a,isNegativeTwin:j[2]>1}},convert3dTo2dScaled:function(a,b,c,d,e,f,g){var h=o.convert3dTo2dNormalized.apply(o,arguments),i=h.x,j=h.y,k=h.isNegativeTwin;return{x:i*f,y:j*g,isNegativeTwin:k}},convert3dTo2dScaledUnique:function(a,b,c,d,e,f,g){var h=o.convert3dTo2dNormalized.apply(o,arguments),i=h.x,j=h.y,k=h.isNegativeTwin;k?i=j=-1:(i*=f,j*=g);return{x:i,y:j}},convert3dTo2dOnScreen:function(a,b,c,d,e,f,g){var h=o.convert3dTo2dScaled.apply(o,arguments),i=h.x,j=h.y,k=h.isNegativeTwin;k&&(i=-i,j=b>0?-g:g);i=Math.max(0,Math.min(f,i));j=Math.max(0,Math.min(g,j));return{x:i,y:j}},convert2dTo3dNormalized:function(a,c,d,e,f,h,j){__p&&__p();a<=1&&a>=-1||g(0);c<=1&&c>=-1||g(0);var k=b("degToRad")(d),l=b("degToRad")(e);f=b("degToRad")(f);var p=i.create();i.perspective(p,f,h/j,.1,100);h=-a/p[0];j=-c/p[5];a=k;c=l;p=Math.atan(Math.tan(f/2)*p[5]/p[0]);p=a+(h<0?p:-p);f=c+(j>0?f/2:-f/2);var q=void 0,r=void 0,s=void 0,t=void 0,u=void 0;t=u=q=0;while(q<m&&!(Math.abs(b("radToDeg")(p-a))<n&&Math.abs(b("radToDeg")(f-c))<n)){q++;r=(a+p)/2;s=(c+f)/2;var v=o._getRelativePositionWithoutProjection(k,l,r,s),w=v.x;v=v.y;(j-u)*(j-v)<=0?f=s:(c=s,u=v);(h-t)*(h-w)<=0?p=r:(a=r,t=w)}v=void 0;void 0;q<m?(v=Math.ceil(b("radToDeg")(a)),w=Math.ceil(b("radToDeg")(c))):(v=d,w=e);return{yaw:v,pitch:w}},convert2dTo3dScaled:function(a,b,c,d,e,f,g){var h=f/2,i=g/2;return o.convert2dTo3dNormalized((a-h)*(2/f),(b-i)*(2/g),c,d,e,f,g)},_getRelativePositionWithoutProjection:function(a,b,c,d){__p&&__p();var e=(b-d)/2;b=(b+d)/2;d=Math.cos((a-c)/2);a=Math.sin((a-c)/2);c=Math.cos(e)*d;e=Math.sin(e)*d;d=Math.cos(b)*a;b=Math.sin(b)*a;a=2*e*b+2*c*d;b=2*d*b-2*c*e;c=1-2*e*e-2*d*d;return{x:a/c,y:b/c}},distanceBetweenSphericalCoordinatesDeg:function(a,c,d,e){return b("radToDeg")(o.distanceBetweenSphericalCoordinatesRad.apply(o,Array.from(arguments).map(b("degToRad"))))},distanceBetweenSphericalCoordinatesRad:function(a,b,c,d){return j(k(b)*k(d)+l(b)*l(d)*l(a-c))}};e.exports=o}),null);
__d("normalizeDeltaYaw",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){b=b?Math.PI:180;var c=2*b;if(Math.abs(a)>c){var d=Math.trunc(Math.abs(a)/c);a-=Math.sign(a)*d*c}Math.abs(a)>b&&(a-=Math.sign(a)*2*b);return a}e.exports=a}),null);