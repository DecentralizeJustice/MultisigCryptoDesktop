if (self.CavalryLogger) { CavalryLogger.start_js(["Y2i68"]); }

__d("UFIReactionsTooltipImpl.react",["cx","fbt","ActorURI","AsyncRequest","DataStore","DOM","React","ReactDOM","Tooltip","UFIReactionTypes","XUFIReactionTooltipController","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;var j=/(\r\n|[\r\n])/,k=b("UFIReactionTypes").reactions;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,c){"use strict";i.constructor.call(this),this.$1=null,this.state={container:b("DOM").create("div"),count:a.feedback.reactioncountmap[a.reaction]["default"],onMouseEnter:this.onMouseEnter.bind(this)}}a.prototype.componentDidMount=function(){"use strict";this.renderTooltip(),this.props.active&&this.loadTooltip()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";__p&&__p();a=a.feedback.reactioncountmap[a.reaction]["default"];if(a!==this.state.count){this.$1&&this.$1.abort();this.$1=null;var c=b("Tooltip").isActive(b("ReactDOM").findDOMNode(this));this.renderTooltip();this.setState({count:a,onMouseEnter:c?null:this.onMouseEnter.bind(this)});c&&this.loadTooltip()}};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.abort(),this.$1=null};a.prototype.onMouseEnter=function(){"use strict";this.setState({onMouseEnter:b("emptyFunction")}),this.loadTooltip()};a.prototype.loadTooltip=function(){"use strict";var a=b("ActorURI").create(b("XUFIReactionTooltipController").getURIBuilder().setString("ft_ent_identifier",this.props.feedback.entidentifier).setEnum("reaction_type",this.props.reaction).setInt("user_count",this.props.feedback.reactioncountmap[this.props.reaction]["default"]).getURI(),this.props.feedback.actorforpost);this.$1=new(b("AsyncRequest"))(a).setHandler(function(a){this.$1=null,this.renderTooltip(a)}.bind(this)).setErrorHandler(function(a){this.$1=null,this.renderTooltip(a)}.bind(this));this.$1.send()};a.prototype.renderTooltip=function(a){"use strict";__p&&__p();var c=b("ReactDOM").findDOMNode(this),d=a?a.getPayload():null,e;if(d!==null)e=d.split(j).filter(function(a){return a!==""}).map(function(a,c){return j.test(a)?b("React").createElement("br",{key:c}):a});else if(!a||a&&!a.getError()){e=h._("Loading...");if(b("Tooltip").isActive(c))return}d=b("React").createElement("div",null,b("React").createElement("div",{className:"_1vea"},k[this.props.reaction].display_name),e);b("ReactDOM").render(d,this.state.container,function(){var a=this;b("DataStore").set(c,"tooltip",{alignH:"center",content:a,offsetY:"-3",overflowDisplay:!1,position:"above",suppress:!1});b("Tooltip").isActive(c)&&b("Tooltip").show(c)})};a.prototype.render=function(){"use strict";return b("React").createElement("a",babelHelpers["extends"]({"data-hover":"tooltip",onFocus:this.state.onMouseEnter,onMouseEnter:this.state.onMouseEnter},this.props),this.props.children)};a.propTypes={active:c.bool.isRequired,feedback:c.object.isRequired,reaction:c.number.isRequired};e.exports=a}),null);
__d("PagePostAgeRestrictionThresholds",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OVER_13:13,OVER_17:17,OVER_18:18,OVER_19:19,OVER_21:21})}),null);